[{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\AdminAnalyticsDashboard.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":49,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":49,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1156,1159],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1156,1159],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":50,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":50,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1225,1228],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1225,1228],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadAnalytics'. Either include it or remove the dependency array.","line":93,"column":6,"nodeType":"ArrayExpression","endLine":93,"endColumn":17,"suggestions":[{"desc":"Update the dependencies array to be: [dateRange, loadAnalytics]","fix":{"range":[2380,2391],"text":"[dateRange, loadAnalytics]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":290,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":290,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10213,10216],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10213,10216],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react'\r\nimport { \r\n  BarChart3, \r\n  TrendingUp, \r\n  Users, \r\n  Store, \r\n  DollarSign, \r\n  Activity,\r\n  Download,\r\n  RefreshCw,\r\n  Eye,\r\n  MessageSquare,\r\n  FileText,\r\n  CheckCircle\r\n} from 'lucide-react'\r\nimport { Card } from '@/components/ui/Card'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { Select, SelectOption } from '@/components/ui/Select'\r\nimport { Badge } from '@/components/ui/Badge'\r\nimport { useAdminAnalytics } from '@/features/admin/hooks/useAdmin'\r\nimport { useAdmin } from '@/features/admin/hooks/useAdmin'\r\nimport { cn } from '@/utils/cn'\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  AreaChart,\r\n  Area,\r\n  BarChart,\r\n  Bar,\r\n  PieChart,\r\n  Pie,\r\n  Cell,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer\r\n} from 'recharts'\r\n\r\ninterface AdminAnalyticsDashboardProps {\r\n  className?: string\r\n}\r\n\r\nexport function AdminAnalyticsDashboard({ className }: AdminAnalyticsDashboardProps) {\r\n  const { loadUserAnalytics, loadMarketAnalytics } = useAdminAnalytics()\r\n  const { stats, isLoadingStats } = useAdmin()\r\n  \r\n  const [userAnalytics, setUserAnalytics] = useState<any>(null)\r\n  const [marketAnalytics, setMarketAnalytics] = useState<any>(null)\r\n  const [dateRange, setDateRange] = useState('6months')\r\n  const [isLoadingAnalytics, setIsLoadingAnalytics] = useState(false)\r\n\r\n  // Chart colors\r\n  const COLORS = {\r\n    primary: '#3B82F6',\r\n    secondary: '#10B981',\r\n    accent: '#F59E0B',\r\n    danger: '#EF4444',\r\n    purple: '#8B5CF6',\r\n    pink: '#EC4899',\r\n    indigo: '#6366F1',\r\n    gray: '#6B7280'\r\n  }\r\n\r\n  const pieColors = [COLORS.primary, COLORS.secondary, COLORS.accent, COLORS.danger]\r\n\r\n  const loadAnalytics = async () => {\r\n    setIsLoadingAnalytics(true)\r\n    try {\r\n      const [userData, marketData] = await Promise.all([\r\n        loadUserAnalytics({\r\n          start: getDateRangeStart(dateRange),\r\n          end: new Date().toISOString()\r\n        }),\r\n        loadMarketAnalytics({\r\n          start: getDateRangeStart(dateRange),\r\n          end: new Date().toISOString()\r\n        })\r\n      ])\r\n      \r\n      setUserAnalytics(userData)\r\n      setMarketAnalytics(marketData)\r\n    } catch (error) {\r\n      console.error('Failed to load analytics:', error)\r\n    } finally {\r\n      setIsLoadingAnalytics(false)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadAnalytics()\r\n  }, [dateRange])\r\n\r\n  const getDateRangeStart = (range: string) => {\r\n    const now = new Date()\r\n    switch (range) {\r\n      case '7days': \r\n        return new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000).toISOString()\r\n      case '30days': \r\n        return new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000).toISOString()\r\n      case '3months': \r\n        return new Date(now.getTime() - 90 * 24 * 60 * 60 * 1000).toISOString()\r\n      case '6months': \r\n        return new Date(now.getTime() - 180 * 24 * 60 * 60 * 1000).toISOString()\r\n      case '1year': \r\n        return new Date(now.getTime() - 365 * 24 * 60 * 60 * 1000).toISOString()\r\n      default: \r\n        return new Date(now.getTime() - 180 * 24 * 60 * 60 * 1000).toISOString()\r\n    }\r\n  }\r\n\r\n  const dateRangeOptions: SelectOption[] = [\r\n    { value: '7days', label: 'Last 7 days' },\r\n    { value: '30days', label: 'Last 30 days' },\r\n    { value: '3months', label: 'Last 3 months' },\r\n    { value: '6months', label: 'Last 6 months' },\r\n    { value: '1year', label: 'Last year' }\r\n  ]\r\n\r\n  const formatCurrency = (value: number) => {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD'\r\n    }).format(value)\r\n  }\r\n\r\n  const formatNumber = (value: number) => {\r\n    return new Intl.NumberFormat('en-US').format(value)\r\n  }\r\n\r\n  const formatPercentage = (value: number) => {\r\n    return `${value.toFixed(1)}%`\r\n  }\r\n\r\n  return (\r\n    <div className={cn('space-y-6', className)}>\r\n      {/* Header */}\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <BarChart3 className=\"h-6 w-6 text-primary\" />\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold\">Analytics Dashboard</h1>\r\n              <p className=\"text-muted-foreground\">\r\n                System performance and user engagement metrics\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-center gap-3\">\r\n            <Select\r\n              value={dateRange}\r\n              onValueChange={setDateRange}\r\n              options={dateRangeOptions}\r\n              className=\"w-40\"\r\n            />\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={loadAnalytics}\r\n              disabled={isLoadingAnalytics || isLoadingStats}\r\n            >\r\n              <RefreshCw className={cn('h-4 w-4 mr-2', (isLoadingAnalytics || isLoadingStats) && 'animate-spin')} />\r\n              Refresh\r\n            </Button>\r\n            <Button variant=\"outline\">\r\n              <Download className=\"h-4 w-4 mr-2\" />\r\n              Export\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Key Metrics */}\r\n      {stats && (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n          <Card className=\"p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-muted-foreground\">Total Users</p>\r\n                <p className=\"text-3xl font-bold\">{formatNumber(stats.totalUsers)}</p>\r\n                <p className=\"text-sm text-green-600 flex items-center mt-1\">\r\n                  <TrendingUp className=\"h-4 w-4 mr-1\" />\r\n                  +{formatPercentage(stats.userGrowthRate)} from last month\r\n                </p>\r\n              </div>\r\n              <div className=\"p-3 bg-blue-100 rounded-full\">\r\n                <Users className=\"h-6 w-6 text-blue-600\" />\r\n              </div>\r\n            </div>\r\n          </Card>\r\n\r\n          <Card className=\"p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-muted-foreground\">Total Markets</p>\r\n                <p className=\"text-3xl font-bold\">{formatNumber(stats.totalMarkets)}</p>\r\n                <p className=\"text-sm text-green-600 flex items-center mt-1\">\r\n                  <TrendingUp className=\"h-4 w-4 mr-1\" />\r\n                  +{formatNumber(stats.marketplaceActivity)} active this month\r\n                </p>\r\n              </div>\r\n              <div className=\"p-3 bg-green-100 rounded-full\">\r\n                <Store className=\"h-6 w-6 text-green-600\" />\r\n              </div>\r\n            </div>\r\n          </Card>\r\n\r\n          <Card className=\"p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-muted-foreground\">Applications</p>\r\n                <p className=\"text-3xl font-bold\">{formatNumber(stats.totalApplications)}</p>\r\n                <p className=\"text-sm text-green-600 flex items-center mt-1\">\r\n                  <TrendingUp className=\"h-4 w-4 mr-1\" />\r\n                  {formatPercentage(stats.applicationSuccessRate)} success rate\r\n                </p>\r\n              </div>\r\n              <div className=\"p-3 bg-yellow-100 rounded-full\">\r\n                <FileText className=\"h-6 w-6 text-yellow-600\" />\r\n              </div>\r\n            </div>\r\n          </Card>\r\n\r\n          <Card className=\"p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-muted-foreground\">Revenue</p>\r\n                <p className=\"text-3xl font-bold\">{formatCurrency(stats.totalRevenue)}</p>\r\n                <p className=\"text-sm text-muted-foreground flex items-center mt-1\">\r\n                  <Activity className=\"h-4 w-4 mr-1\" />\r\n                  Platform fees\r\n                </p>\r\n              </div>\r\n              <div className=\"p-3 bg-purple-100 rounded-full\">\r\n                <DollarSign className=\"h-6 w-6 text-purple-600\" />\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      )}\r\n\r\n      {/* Charts Row 1 */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        {/* User Growth Chart */}\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <h3 className=\"text-lg font-semibold\">User Growth</h3>\r\n            <Badge variant=\"outline\">{dateRange}</Badge>\r\n          </div>\r\n          <div className=\"h-80\">\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n              <AreaChart data={userAnalytics?.userGrowth || []}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis dataKey=\"date\" />\r\n                <YAxis />\r\n                <Tooltip \r\n                  formatter={(value) => [formatNumber(Number(value)), 'Users']}\r\n                />\r\n                <Area \r\n                  type=\"monotone\" \r\n                  dataKey=\"users\" \r\n                  stroke={COLORS.primary}\r\n                  fill={COLORS.primary}\r\n                  fillOpacity={0.3}\r\n                />\r\n              </AreaChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Role Distribution */}\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <h3 className=\"text-lg font-semibold\">User Role Distribution</h3>\r\n            <Badge variant=\"outline\">Current</Badge>\r\n          </div>\r\n          <div className=\"h-80\">\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n              <PieChart>\r\n                <Pie\r\n                  data={userAnalytics?.roleDistribution || []}\r\n                  cx=\"50%\"\r\n                  cy=\"50%\"\r\n                  labelLine={false}\r\n                  label={({ role, percentage }) => `${role}: ${percentage}%`}\r\n                  outerRadius={80}\r\n                  fill=\"#8884d8\"\r\n                  dataKey=\"count\"\r\n                >\r\n                  {userAnalytics?.roleDistribution?.map((_: any, index: number) => (\r\n                    <Cell key={`cell-${index}`} fill={pieColors[index % pieColors.length]} />\r\n                  ))}\r\n                </Pie>\r\n                <Tooltip />\r\n              </PieChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Charts Row 2 */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        {/* Market Activity */}\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <h3 className=\"text-lg font-semibold\">Market Activity</h3>\r\n            <Badge variant=\"outline\">{dateRange}</Badge>\r\n          </div>\r\n          <div className=\"h-80\">\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n              <LineChart data={marketAnalytics?.marketActivity || []}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis dataKey=\"date\" />\r\n                <YAxis />\r\n                <Tooltip />\r\n                <Legend />\r\n                <Line \r\n                  type=\"monotone\" \r\n                  dataKey=\"applications\" \r\n                  stroke={COLORS.primary} \r\n                  strokeWidth={2}\r\n                  name=\"Applications\"\r\n                />\r\n                <Line \r\n                  type=\"monotone\" \r\n                  dataKey=\"markets\" \r\n                  stroke={COLORS.secondary} \r\n                  strokeWidth={2}\r\n                  name=\"Active Markets\"\r\n                />\r\n              </LineChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Market Categories */}\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <h3 className=\"text-lg font-semibold\">Market Categories</h3>\r\n            <Badge variant=\"outline\">Distribution</Badge>\r\n          </div>\r\n          <div className=\"h-80\">\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n              <BarChart data={marketAnalytics?.categoryDistribution || []}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis dataKey=\"category\" />\r\n                <YAxis />\r\n                <Tooltip />\r\n                <Bar dataKey=\"count\" fill={COLORS.accent} />\r\n              </BarChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Additional Metrics */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center gap-3 mb-4\">\r\n            <Eye className=\"h-5 w-5 text-blue-500\" />\r\n            <h3 className=\"font-semibold\">System Health</h3>\r\n          </div>\r\n          <div className=\"space-y-3\">\r\n            <div className=\"flex justify-between items-center\">\r\n              <span className=\"text-sm\">Overall Health</span>\r\n              <span className=\"font-medium\">{stats?.systemHealth || 0}%</span>\r\n            </div>\r\n            <div className=\"flex justify-between items-center\">\r\n              <span className=\"text-sm\">Active Users</span>\r\n              <span className=\"font-medium\">{formatNumber(stats?.activeUsers || 0)}</span>\r\n            </div>\r\n            <div className=\"flex justify-between items-center\">\r\n              <span className=\"text-sm\">Pending Applications</span>\r\n              <span className=\"font-medium\">{formatNumber(stats?.pendingApplications || 0)}</span>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center gap-3 mb-4\">\r\n            <MessageSquare className=\"h-5 w-5 text-green-500\" />\r\n            <h3 className=\"font-semibold\">Content Moderation</h3>\r\n          </div>\r\n          <div className=\"space-y-3\">\r\n            <div className=\"flex justify-between items-center\">\r\n              <span className=\"text-sm\">Reported Content</span>\r\n              <span className=\"font-medium\">{formatNumber(stats?.reportedContent || 0)}</span>\r\n            </div>\r\n            <div className=\"flex justify-between items-center\">\r\n              <span className=\"text-sm\">Moderation Queue</span>\r\n              <span className=\"font-medium\">{formatNumber(stats?.contentModerationQueue || 0)}</span>\r\n            </div>\r\n            <div className=\"flex justify-between items-center\">\r\n              <span className=\"text-sm\">Avg. Response Time</span>\r\n              <span className=\"font-medium\">2.4 hours</span>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center gap-3 mb-4\">\r\n            <CheckCircle className=\"h-5 w-5 text-purple-500\" />\r\n            <h3 className=\"font-semibold\">Performance</h3>\r\n          </div>\r\n          <div className=\"space-y-3\">\r\n            <div className=\"flex justify-between items-center\">\r\n              <span className=\"text-sm\">Page Load Time</span>\r\n              <span className=\"font-medium\">1.2s</span>\r\n            </div>\r\n            <div className=\"flex justify-between items-center\">\r\n              <span className=\"text-sm\">Uptime</span>\r\n              <span className=\"font-medium\">99.9%</span>\r\n            </div>\r\n            <div className=\"flex justify-between items-center\">\r\n              <span className=\"text-sm\">API Response</span>\r\n              <span className=\"font-medium\">145ms</span>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  )\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\AdminModerationQueue.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":204,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":204,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6199,6202],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6199,6202],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":222,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":222,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6691,6694],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6691,6694],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":234,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":234,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7071,7074],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7071,7074],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":248,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":248,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7534,7537],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7534,7537],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":260,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":260,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7922,7925],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7922,7925],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":269,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":269,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8183,8186],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8183,8186],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":274,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":274,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8334,8337],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8334,8337],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":286,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":286,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8710,8713],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8710,8713],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":295,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":295,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8969,8972],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8969,8972],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useMemo } from 'react'\r\nimport { \r\n  Shield, \r\n  Search, \r\n  Filter, \r\n  CheckSquare, \r\n  Square,\r\n  Flag, \r\n  AlertTriangle, \r\n  Clock, \r\n  User, \r\n  MessageSquare, \r\n  Image as ImageIcon, \r\n  Store, \r\n  FileText,\r\n  CheckCircle,\r\n  XCircle,\r\n  Eye,\r\n  Download,\r\n  RefreshCw\r\n} from 'lucide-react'\r\nimport { Card } from '@/components/ui/Card'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { Input } from '@/components/ui/Input'\r\nimport { Select, SelectOption } from '@/components/ui/Select'\r\nimport { Badge } from '@/components/ui/Badge'\r\nimport { Table } from '@/components/ui/Table'\r\nimport { Avatar } from '@/components/ui/Avatar'\r\nimport { useAdminModeration } from '@/features/admin/hooks/useAdmin'\r\nimport { ModerationItem } from '@/types'\r\nimport { cn } from '@/utils/cn'\r\n\r\ninterface AdminModerationQueueProps {\r\n  className?: string\r\n}\r\n\r\nexport function AdminModerationQueue({ className }: AdminModerationQueueProps) {\r\n  const {\r\n    moderationItems,\r\n    moderationPagination,\r\n    isLoadingModeration,\r\n    selectedModerationItems,\r\n    moderationFilters,\r\n    refreshModerationQueue,\r\n    handleModerateContent,\r\n    handleFilterChange,\r\n    selectModerationItem,\r\n    selectModerationItems,\r\n    clearModerationSelection\r\n  } = useAdminModeration()\r\n\r\n  const [searchTerm, setSearchTerm] = useState(moderationFilters?.search || '')\r\n  const [showFilters, setShowFilters] = useState(false)\r\n\r\n  const [actionModal, setActionModal] = useState<{ type: 'approve' | 'reject' | 'resolve'; item: ModerationItem } | null>(null)\r\n  const [actionReason, setActionReason] = useState('')\r\n\r\n  const filteredItems = useMemo(() => {\r\n    if (!searchTerm) return moderationItems\r\n    \r\n    const search = searchTerm.toLowerCase()\r\n    return moderationItems.filter(item =>\r\n      item.target.content.toLowerCase().includes(search) ||\r\n      item.reason.toLowerCase().includes(search) ||\r\n      item.description.toLowerCase().includes(search) ||\r\n      item.target.author?.firstName.toLowerCase().includes(search) ||\r\n      item.target.author?.lastName.toLowerCase().includes(search)\r\n    )\r\n  }, [moderationItems, searchTerm])\r\n\r\n  const handleSearch = (value: string) => {\r\n    setSearchTerm(value)\r\n    handleFilterChange({\r\n      ...moderationFilters,\r\n      search: value || undefined\r\n    })\r\n  }\r\n\r\n  const handleTypeFilter = (type: string) => {\r\n    handleFilterChange({\r\n      ...moderationFilters,\r\n      type: type ? [type] : undefined\r\n    })\r\n  }\r\n\r\n  const handleStatusFilter = (status: string) => {\r\n    handleFilterChange({\r\n      ...moderationFilters,\r\n      status: status ? [status] : undefined\r\n    })\r\n  }\r\n\r\n  const handlePriorityFilter = (priority: string) => {\r\n    handleFilterChange({\r\n      ...moderationFilters,\r\n      priority: priority ? [priority] : undefined\r\n    })\r\n  }\r\n\r\n  const handleSelectAll = () => {\r\n    if (selectedModerationItems.length === filteredItems.length) {\r\n      clearModerationSelection()\r\n    } else {\r\n      selectModerationItems(filteredItems.map(item => item.id))\r\n    }\r\n  }\r\n\r\n  const getTypeIcon = (type: string) => {\r\n    switch (type) {\r\n      case 'comment': return <MessageSquare className=\"h-4 w-4\" />\r\n      case 'photo': return <ImageIcon className=\"h-4 w-4\" />\r\n      case 'market': return <Store className=\"h-4 w-4\" />\r\n      case 'user-report': return <User className=\"h-4 w-4\" />\r\n      case 'application': return <FileText className=\"h-4 w-4\" />\r\n      default: return <Flag className=\"h-4 w-4\" />\r\n    }\r\n  }\r\n\r\n  const getTypeBadgeVariant = (type: string) => {\r\n    switch (type) {\r\n      case 'comment': return 'default'\r\n      case 'photo': return 'outline'\r\n      case 'market': return 'muted'\r\n      case 'user-report': return 'destructive'\r\n      case 'application': return 'warning'\r\n      default: return 'muted'\r\n    }\r\n  }\r\n\r\n  const getPriorityBadgeVariant = (priority: string) => {\r\n    switch (priority) {\r\n      case 'urgent': return 'destructive'\r\n      case 'high': return 'warning'\r\n      case 'medium': return 'default'\r\n      case 'low': return 'muted'\r\n      default: return 'muted'\r\n    }\r\n  }\r\n\r\n  const getStatusBadge = (status: string) => {\r\n    switch (status) {\r\n      case 'pending': return <Badge variant=\"warning\">Pending</Badge>\r\n      case 'approved': return <Badge variant=\"default\">Approved</Badge>\r\n      case 'rejected': return <Badge variant=\"destructive\">Rejected</Badge>\r\n      case 'resolved': return <Badge variant=\"outline\">Resolved</Badge>\r\n      default: return <Badge variant=\"muted\">{status}</Badge>\r\n    }\r\n  }\r\n\r\n  const getContentPreview = (content: string, maxLength: number = 100) => {\r\n    if (content.length <= maxLength) return content\r\n    return content.substring(0, maxLength) + '...'\r\n  }\r\n\r\n  const handleAction = async (item: ModerationItem, action: 'approve' | 'reject' | 'resolve') => {\r\n    setActionModal({ type: action, item })\r\n  }\r\n\r\n  const confirmAction = async () => {\r\n    if (!actionModal) return\r\n    \r\n    await handleModerateContent(\r\n      actionModal.item.id,\r\n      actionModal.type,\r\n      actionReason || undefined\r\n    )\r\n    \r\n    setActionModal(null)\r\n    setActionReason('')\r\n  }\r\n\r\n  // Select options\r\n  const typeFilterOptions: SelectOption[] = [\r\n    { value: '', label: 'All Types' },\r\n    { value: 'comment', label: 'Comments' },\r\n    { value: 'photo', label: 'Photos' },\r\n    { value: 'market', label: 'Markets' },\r\n    { value: 'user-report', label: 'User Reports' },\r\n    { value: 'application', label: 'Applications' }\r\n  ]\r\n\r\n  const statusFilterOptions: SelectOption[] = [\r\n    { value: '', label: 'All Status' },\r\n    { value: 'pending', label: 'Pending' },\r\n    { value: 'approved', label: 'Approved' },\r\n    { value: 'rejected', label: 'Rejected' },\r\n    { value: 'resolved', label: 'Resolved' }\r\n  ]\r\n\r\n  const priorityFilterOptions: SelectOption[] = [\r\n    { value: '', label: 'All Priorities' },\r\n    { value: 'urgent', label: 'Urgent' },\r\n    { value: 'high', label: 'High' },\r\n    { value: 'medium', label: 'Medium' },\r\n    { value: 'low', label: 'Low' }\r\n  ]\r\n\r\n  // Table columns\r\n  const columns = [\r\n    {\r\n      key: 'select',\r\n      title: '',\r\n      width: '48px',\r\n      render: (_: any, record: ModerationItem) => (\r\n        <Button\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          onClick={() => selectModerationItem(record.id)}\r\n          className=\"h-8 w-8 p-0\"\r\n        >\r\n          {selectedModerationItems.includes(record.id) ? (\r\n            <CheckSquare className=\"h-4 w-4\" />\r\n          ) : (\r\n            <Square className=\"h-4 w-4\" />\r\n          )}\r\n        </Button>\r\n      )\r\n    },\r\n    {\r\n      key: 'type',\r\n      title: 'Type',\r\n      render: (_: any, record: ModerationItem) => (\r\n        <div className=\"flex items-center gap-2\">\r\n          {getTypeIcon(record.type)}\r\n          <Badge variant={getTypeBadgeVariant(record.type)} className=\"capitalize\">\r\n            {record.type.replace('-', ' ')}\r\n          </Badge>\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      key: 'content',\r\n      title: 'Content',\r\n      render: (_: any, record: ModerationItem) => (\r\n        <div className=\"max-w-xs\">\r\n          <div className=\"font-medium text-sm mb-1\">\r\n            {getContentPreview(record.target.content)}\r\n          </div>\r\n          <div className=\"text-xs text-muted-foreground\">\r\n            by {record.target.author?.firstName} {record.target.author?.lastName}\r\n          </div>\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      key: 'reason',\r\n      title: 'Reason',\r\n      render: (_: any, record: ModerationItem) => (\r\n        <div className=\"max-w-xs\">\r\n          <div className=\"font-medium text-sm\">{record.reason}</div>\r\n          <div className=\"text-xs text-muted-foreground mt-1\">\r\n            {getContentPreview(record.description, 60)}\r\n          </div>\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      key: 'priority',\r\n      title: 'Priority',\r\n      render: (_: any, record: ModerationItem) => (\r\n        <Badge variant={getPriorityBadgeVariant(record.priority)} className=\"capitalize\">\r\n          {record.priority}\r\n        </Badge>\r\n      )\r\n    },\r\n    {\r\n      key: 'status',\r\n      title: 'Status',\r\n      render: (_: any, record: ModerationItem) => getStatusBadge(record.status)\r\n    },\r\n    {\r\n      key: 'reportedBy',\r\n      title: 'Reported By',\r\n      render: (_: any, record: ModerationItem) => (\r\n        <div className=\"flex items-center gap-2\">\r\n          <Avatar src={record.reporter.avatar} size=\"sm\" />\r\n          <span className=\"text-sm\">\r\n            {record.reporter.firstName} {record.reporter.lastName}\r\n          </span>\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      key: 'date',\r\n      title: 'Reported',\r\n      render: (_: any, record: ModerationItem) => (\r\n        <div className=\"text-sm text-muted-foreground\">\r\n          {new Date(record.createdAt).toLocaleDateString()}\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      key: 'actions',\r\n      title: 'Actions',\r\n      render: (_: any, record: ModerationItem) => (\r\n        <div className=\"flex items-center gap-1\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={() => console.log('View details for:', record)}\r\n            title=\"View details\"\r\n          >\r\n            <Eye className=\"h-4 w-4\" />\r\n          </Button>\r\n          {record.status === 'pending' && (\r\n            <>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={() => handleAction(record, 'approve')}\r\n                title=\"Approve content\"\r\n              >\r\n                <CheckCircle className=\"h-4 w-4 text-green-600\" />\r\n              </Button>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={() => handleAction(record, 'reject')}\r\n                title=\"Reject content\"\r\n              >\r\n                <XCircle className=\"h-4 w-4 text-red-600\" />\r\n              </Button>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={() => handleAction(record, 'resolve')}\r\n                title=\"Mark as resolved\"\r\n              >\r\n                <Flag className=\"h-4 w-4 text-blue-600\" />\r\n              </Button>\r\n            </>\r\n          )}\r\n        </div>\r\n      )\r\n    }\r\n  ]\r\n\r\n  return (\r\n    <Card className={cn('p-6', className)}>\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <Shield className=\"h-5 w-5 text-primary\" />\r\n          <div>\r\n            <h2 className=\"text-lg font-semibold\">Content Moderation</h2>\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              Review and moderate reported content\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => refreshModerationQueue()}\r\n            disabled={isLoadingModeration}\r\n          >\r\n            <RefreshCw className={cn('h-4 w-4 mr-2', isLoadingModeration && 'animate-spin')} />\r\n            Refresh\r\n          </Button>\r\n          <Button variant=\"outline\" size=\"sm\">\r\n            <Download className=\"h-4 w-4 mr-2\" />\r\n            Export\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Search and Filters */}\r\n      <div className=\"space-y-4 mb-6\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <div className=\"relative flex-1 max-w-sm\">\r\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n            <Input\r\n              placeholder=\"Search moderation items...\"\r\n              value={searchTerm}\r\n              onChange={(e) => handleSearch(e.target.value)}\r\n              className=\"pl-10\"\r\n            />\r\n          </div>\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={() => setShowFilters(!showFilters)}\r\n          >\r\n            <Filter className=\"h-4 w-4 mr-2\" />\r\n            Filters\r\n          </Button>\r\n        </div>\r\n\r\n        {showFilters && (\r\n          <div className=\"flex items-center gap-4 p-4 border rounded-lg bg-muted/50\">\r\n            <Select\r\n              placeholder=\"Filter by type\"\r\n              value={moderationFilters?.type?.[0] || ''}\r\n              onValueChange={handleTypeFilter}\r\n              options={typeFilterOptions}\r\n            />\r\n            <Select\r\n              placeholder=\"Filter by status\"\r\n              value={moderationFilters?.status?.[0] || ''}\r\n              onValueChange={handleStatusFilter}\r\n              options={statusFilterOptions}\r\n            />\r\n            <Select\r\n              placeholder=\"Filter by priority\"\r\n              value={moderationFilters?.priority?.[0] || ''}\r\n              onValueChange={handlePriorityFilter}\r\n              options={priorityFilterOptions}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Stats */}\r\n      <div className=\"grid grid-cols-4 gap-4 mb-6\">\r\n        <div className=\"p-4 border rounded-lg\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <Clock className=\"h-4 w-4 text-yellow-500\" />\r\n            <span className=\"text-sm font-medium\">Pending</span>\r\n          </div>\r\n          <div className=\"text-2xl font-bold mt-1\">\r\n            {moderationItems.filter(item => item.status === 'pending').length}\r\n          </div>\r\n        </div>\r\n        <div className=\"p-4 border rounded-lg\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <AlertTriangle className=\"h-4 w-4 text-red-500\" />\r\n            <span className=\"text-sm font-medium\">High Priority</span>\r\n          </div>\r\n          <div className=\"text-2xl font-bold mt-1\">\r\n            {moderationItems.filter(item => item.priority === 'high' || item.priority === 'urgent').length}\r\n          </div>\r\n        </div>\r\n        <div className=\"p-4 border rounded-lg\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <Flag className=\"h-4 w-4 text-blue-500\" />\r\n            <span className=\"text-sm font-medium\">Reported Today</span>\r\n          </div>\r\n          <div className=\"text-2xl font-bold mt-1\">\r\n            {moderationItems.filter(item => {\r\n              const today = new Date().toDateString()\r\n              const itemDate = new Date(item.createdAt).toDateString()\r\n              return today === itemDate\r\n            }).length}\r\n          </div>\r\n        </div>\r\n        <div className=\"p-4 border rounded-lg\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <CheckCircle className=\"h-4 w-4 text-green-500\" />\r\n            <span className=\"text-sm font-medium\">Resolved</span>\r\n          </div>\r\n          <div className=\"text-2xl font-bold mt-1\">\r\n            {moderationItems.filter(item => item.status === 'resolved').length}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Select All Header */}\r\n      <div className=\"flex items-center justify-between mb-4 p-2\">\r\n        <Button\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          onClick={handleSelectAll}\r\n          className=\"h-8 w-8 p-0\"\r\n        >\r\n          {selectedModerationItems.length === filteredItems.length ? (\r\n            <CheckSquare className=\"h-4 w-4\" />\r\n          ) : (\r\n            <Square className=\"h-4 w-4\" />\r\n          )}\r\n        </Button>\r\n        <span className=\"text-sm text-muted-foreground\">\r\n          {selectedModerationItems.length === filteredItems.length && filteredItems.length > 0 ? 'All selected' : 'Select all'}\r\n        </span>\r\n      </div>\r\n\r\n      {/* Table */}\r\n      <div className=\"border rounded-lg overflow-hidden\">\r\n        <Table\r\n          columns={columns}\r\n          data={filteredItems}\r\n          loading={isLoadingModeration}\r\n          emptyText=\"No moderation items found\"\r\n        />\r\n      </div>\r\n\r\n      {/* Pagination */}\r\n      {moderationPagination && moderationPagination.totalPages > 1 && (\r\n        <div className=\"flex items-center justify-between mt-4\">\r\n          <div className=\"text-sm text-muted-foreground\">\r\n            Showing {(moderationPagination.page - 1) * moderationPagination.limit + 1} to{' '}\r\n            {Math.min(moderationPagination.page * moderationPagination.limit, moderationPagination.total)} of{' '}\r\n            {moderationPagination.total} items\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              disabled={moderationPagination.page <= 1}\r\n            >\r\n              Previous\r\n            </Button>\r\n            <span className=\"text-sm\">\r\n              Page {moderationPagination.page} of {moderationPagination.totalPages}\r\n            </span>\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              disabled={moderationPagination.page >= moderationPagination.totalPages}\r\n            >\r\n              Next\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Action Modal */}\r\n      {actionModal && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\r\n          <Card className=\"w-full max-w-md p-6\">\r\n            <h3 className=\"text-lg font-semibold mb-4\">\r\n              {actionModal.type === 'approve' ? 'Approve Content' :\r\n               actionModal.type === 'reject' ? 'Reject Content' : 'Resolve Item'}\r\n            </h3>\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2\">\r\n                  Reason (Optional)\r\n                </label>\r\n                <textarea\r\n                  className=\"w-full p-2 border rounded-md resize-none\"\r\n                  rows={3}\r\n                  value={actionReason}\r\n                  onChange={(e) => setActionReason(e.target.value)}\r\n                  placeholder=\"Add a reason for this action...\"\r\n                />\r\n              </div>\r\n              <div className=\"flex items-center gap-2 justify-end\">\r\n                <Button\r\n                  variant=\"outline\"\r\n                  onClick={() => {\r\n                    setActionModal(null)\r\n                    setActionReason('')\r\n                  }}\r\n                >\r\n                  Cancel\r\n                </Button>\r\n                <Button onClick={confirmAction}>\r\n                  Confirm\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      )}\r\n    </Card>\r\n  )\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\AdminPromoterVerification.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":111,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":111,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3669,3672],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3669,3672],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":131,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":131,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4364,4367],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4364,4367],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":151,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":151,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5155,5158],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5155,5158],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":203,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":203,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6897,6900],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6897,6900],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":208,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":208,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7051,7054],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7051,7054],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":217,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":217,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7299,7302],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7299,7302],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react'\r\nimport { \r\n  Building2, \r\n  Search, \r\n  CheckCircle, \r\n  XCircle, \r\n  Clock, \r\n  FileText,\r\n  User,\r\n  MapPin,\r\n  Phone,\r\n  Globe,\r\n  Facebook,\r\n  Instagram,\r\n  Twitter,\r\n  Star,\r\n  Eye,\r\n  Download,\r\n  RefreshCw\r\n} from 'lucide-react'\r\nimport { Card } from '@/components/ui/Card'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { Input } from '@/components/ui/Input'\r\nimport { Select, SelectOption } from '@/components/ui/Select'\r\nimport { Badge } from '@/components/ui/Badge'\r\nimport { Table } from '@/components/ui/Table'\r\nimport { Avatar } from '@/components/ui/Avatar'\r\nimport { useAdminPromoterVerification } from '@/features/admin/hooks/useAdmin'\r\nimport { PromoterVerification } from '@/types'\r\nimport { cn } from '@/utils/cn'\r\n\r\ninterface AdminPromoterVerificationProps {\r\n  className?: string\r\n}\r\n\r\nexport function AdminPromoterVerification({ className }: AdminPromoterVerificationProps) {\r\n  const {\r\n    promoterVerifications,\r\n    isLoadingVerifications,\r\n    refreshVerifications,\r\n    handleReviewVerification\r\n  } = useAdminPromoterVerification()\r\n\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [statusFilter, setStatusFilter] = useState('')\r\n  const [selectedVerification, setSelectedVerification] = useState<PromoterVerification | null>(null)\r\n  const [reviewModal, setReviewModal] = useState<{ type: 'verify' | 'reject'; verification: PromoterVerification } | null>(null)\r\n  const [reviewNotes, setReviewNotes] = useState('')\r\n\r\n  const filteredVerifications = promoterVerifications.filter(verification => {\r\n    const matchesSearch = !searchTerm || \r\n      verification.businessName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      verification.user.firstName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      verification.user.lastName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      verification.user.email.toLowerCase().includes(searchTerm.toLowerCase())\r\n    \r\n    const matchesStatus = !statusFilter || verification.status === statusFilter\r\n    \r\n    return matchesSearch && matchesStatus\r\n  })\r\n\r\n  const handleReview = (verification: PromoterVerification, action: 'verify' | 'reject') => {\r\n    setReviewModal({ type: action, verification })\r\n  }\r\n\r\n  const confirmReview = async () => {\r\n    if (!reviewModal) return\r\n    \r\n    const status = reviewModal.type === 'verify' ? 'verified' : 'rejected'\r\n    await handleReviewVerification(\r\n      reviewModal.verification.id,\r\n      status,\r\n      reviewNotes || undefined\r\n    )\r\n    \r\n    setReviewModal(null)\r\n    setReviewNotes('')\r\n  }\r\n\r\n  const getStatusBadge = (status: string) => {\r\n    switch (status) {\r\n      case 'pending': return <Badge variant=\"warning\">Pending</Badge>\r\n      case 'under-review': return <Badge variant=\"default\">Under Review</Badge>\r\n      case 'verified': return <Badge variant=\"default\">Verified</Badge>\r\n      case 'rejected': return <Badge variant=\"destructive\">Rejected</Badge>\r\n      default: return <Badge variant=\"muted\">{status}</Badge>\r\n    }\r\n  }\r\n\r\n  const formatDate = (dateString: string) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric'\r\n    })\r\n  }\r\n\r\n  const statusFilterOptions: SelectOption[] = [\r\n    { value: '', label: 'All Status' },\r\n    { value: 'pending', label: 'Pending' },\r\n    { value: 'under-review', label: 'Under Review' },\r\n    { value: 'verified', label: 'Verified' },\r\n    { value: 'rejected', label: 'Rejected' }\r\n  ]\r\n\r\n  // Table columns\r\n  const columns = [\r\n    {\r\n      key: 'business',\r\n      title: 'Business & Applicant',\r\n      render: (_: any, record: PromoterVerification) => (\r\n        <div className=\"space-y-2\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <Avatar src={record.user.avatar} size=\"sm\" />\r\n            <div>\r\n              <div className=\"font-medium\">{record.businessName}</div>\r\n              <div className=\"text-sm text-muted-foreground\">\r\n                {record.user.firstName} {record.user.lastName}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"text-xs text-muted-foreground\">\r\n            {record.user.email}\r\n          </div>\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      key: 'businessType',\r\n      title: 'Business Info',\r\n      render: (_: any, record: PromoterVerification) => (\r\n        <div className=\"space-y-1\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <Building2 className=\"h-3 w-3\" />\r\n            <span className=\"text-sm\">{record.businessLicense}</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <MapPin className=\"h-3 w-3\" />\r\n            <span className=\"text-sm\">{record.businessAddress.city}, {record.businessAddress.state}</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Phone className=\"h-3 w-3\" />\r\n            <span className=\"text-sm\">Tax ID: {record.taxId}</span>\r\n          </div>\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      key: 'socialMedia',\r\n      title: 'Online Presence',\r\n      render: (_: any, record: PromoterVerification) => (\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          {record.website && (\r\n            <a \r\n              href={record.website} \r\n              target=\"_blank\" \r\n              rel=\"noopener noreferrer\"\r\n              className=\"flex items-center gap-1 text-xs text-blue-600 hover:underline\"\r\n            >\r\n              <Globe className=\"h-3 w-3\" />\r\n              Website\r\n            </a>\r\n          )}\r\n          {record.socialMedia?.facebook && (\r\n            <a \r\n              href={record.socialMedia.facebook} \r\n              target=\"_blank\" \r\n              rel=\"noopener noreferrer\"\r\n              className=\"flex items-center gap-1 text-xs text-blue-600 hover:underline\"\r\n            >\r\n              <Facebook className=\"h-3 w-3\" />\r\n              Facebook\r\n            </a>\r\n          )}\r\n          {record.socialMedia?.instagram && (\r\n            <a \r\n              href={record.socialMedia.instagram} \r\n              target=\"_blank\" \r\n              rel=\"noopener noreferrer\"\r\n              className=\"flex items-center gap-1 text-xs text-pink-600 hover:underline\"\r\n            >\r\n              <Instagram className=\"h-3 w-3\" />\r\n              Instagram\r\n            </a>\r\n          )}\r\n          {record.socialMedia?.twitter && (\r\n            <a \r\n              href={record.socialMedia.twitter} \r\n              target=\"_blank\" \r\n              rel=\"noopener noreferrer\"\r\n              className=\"flex items-center gap-1 text-xs text-blue-400 hover:underline\"\r\n            >\r\n              <Twitter className=\"h-3 w-3\" />\r\n              Twitter\r\n            </a>\r\n          )}\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      key: 'status',\r\n      title: 'Status',\r\n      render: (_: any, record: PromoterVerification) => getStatusBadge(record.status)\r\n    },\r\n    {\r\n      key: 'submitted',\r\n      title: 'Submitted',\r\n      render: (_: any, record: PromoterVerification) => (\r\n        <div className=\"text-sm text-muted-foreground\">\r\n          {formatDate(record.submittedAt)}\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      key: 'actions',\r\n      title: 'Actions',\r\n      render: (_: any, record: PromoterVerification) => (\r\n        <div className=\"flex items-center gap-1\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={() => setSelectedVerification(record)}\r\n            title=\"View details\"\r\n          >\r\n            <Eye className=\"h-4 w-4\" />\r\n          </Button>\r\n          {record.status === 'pending' && (\r\n            <>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={() => handleReview(record, 'verify')}\r\n                title=\"Verify business\"\r\n              >\r\n                <CheckCircle className=\"h-4 w-4 text-green-600\" />\r\n              </Button>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={() => handleReview(record, 'reject')}\r\n                title=\"Reject verification\"\r\n              >\r\n                <XCircle className=\"h-4 w-4 text-red-600\" />\r\n              </Button>\r\n            </>\r\n          )}\r\n          {record.status === 'under-review' && (\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={() => handleReview(record, 'verify')}\r\n              title=\"Complete verification\"\r\n            >\r\n              <CheckCircle className=\"h-4 w-4 text-green-600\" />\r\n            </Button>\r\n          )}\r\n        </div>\r\n      )\r\n    }\r\n  ]\r\n\r\n  const pendingCount = promoterVerifications.filter(v => v.status === 'pending').length\r\n  const underReviewCount = promoterVerifications.filter(v => v.status === 'under-review').length\r\n  const verifiedCount = promoterVerifications.filter(v => v.status === 'verified').length\r\n  const rejectedCount = promoterVerifications.filter(v => v.status === 'rejected').length\r\n\r\n  return (\r\n    <Card className={cn('p-6', className)}>\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <Building2 className=\"h-5 w-5 text-primary\" />\r\n          <div>\r\n            <h2 className=\"text-lg font-semibold\">Promoter Verification</h2>\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              Review and verify business applications for promoter status\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={refreshVerifications}\r\n            disabled={isLoadingVerifications}\r\n          >\r\n            <RefreshCw className={cn('h-4 w-4 mr-2', isLoadingVerifications && 'animate-spin')} />\r\n            Refresh\r\n          </Button>\r\n          <Button variant=\"outline\" size=\"sm\">\r\n            <Download className=\"h-4 w-4 mr-2\" />\r\n            Export\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats */}\r\n      <div className=\"grid grid-cols-4 gap-4 mb-6\">\r\n        <div className=\"p-4 border rounded-lg\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <Clock className=\"h-4 w-4 text-yellow-500\" />\r\n            <span className=\"text-sm font-medium\">Pending</span>\r\n          </div>\r\n          <div className=\"text-2xl font-bold mt-1\">{pendingCount}</div>\r\n        </div>\r\n        <div className=\"p-4 border rounded-lg\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <FileText className=\"h-4 w-4 text-blue-500\" />\r\n            <span className=\"text-sm font-medium\">Under Review</span>\r\n          </div>\r\n          <div className=\"text-2xl font-bold mt-1\">{underReviewCount}</div>\r\n        </div>\r\n        <div className=\"p-4 border rounded-lg\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <CheckCircle className=\"h-4 w-4 text-green-500\" />\r\n            <span className=\"text-sm font-medium\">Verified</span>\r\n          </div>\r\n          <div className=\"text-2xl font-bold mt-1\">{verifiedCount}</div>\r\n        </div>\r\n        <div className=\"p-4 border rounded-lg\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <XCircle className=\"h-4 w-4 text-red-500\" />\r\n            <span className=\"text-sm font-medium\">Rejected</span>\r\n          </div>\r\n          <div className=\"text-2xl font-bold mt-1\">{rejectedCount}</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Search and Filters */}\r\n      <div className=\"space-y-4 mb-6\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <div className=\"relative flex-1 max-w-sm\">\r\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n            <Input\r\n              placeholder=\"Search businesses or applicants...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              className=\"pl-10\"\r\n            />\r\n          </div>\r\n          <Select\r\n            placeholder=\"Filter by status\"\r\n            value={statusFilter}\r\n            onValueChange={setStatusFilter}\r\n            options={statusFilterOptions}\r\n            className=\"w-48\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Table */}\r\n      <div className=\"border rounded-lg overflow-hidden\">\r\n        <Table\r\n          columns={columns}\r\n          data={filteredVerifications}\r\n          loading={isLoadingVerifications}\r\n          emptyText=\"No promoter verifications found\"\r\n        />\r\n      </div>\r\n\r\n      {/* Details Modal */}\r\n      {selectedVerification && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\r\n          <Card className=\"w-full max-w-2xl max-h-[90vh] overflow-y-auto p-6\">\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <h3 className=\"text-xl font-semibold\">Verification Details</h3>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={() => setSelectedVerification(null)}\r\n              >\r\n                \r\n              </Button>\r\n            </div>\r\n\r\n            <div className=\"space-y-6\">\r\n              {/* Business Information */}\r\n              <div>\r\n                <h4 className=\"font-semibold mb-3 flex items-center gap-2\">\r\n                  <Building2 className=\"h-4 w-4\" />\r\n                  Business Information\r\n                </h4>\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-muted-foreground\">Business Name</label>\r\n                    <p className=\"font-medium\">{selectedVerification.businessName}</p>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-muted-foreground\">Business License</label>\r\n                    <p className=\"font-medium\">{selectedVerification.businessLicense}</p>\r\n                  </div>\r\n                  <div className=\"col-span-2\">\r\n                    <label className=\"text-sm font-medium text-muted-foreground\">Description</label>\r\n                    <p className=\"text-sm\">{selectedVerification.businessDescription}</p>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-muted-foreground\">Tax ID</label>\r\n                    <p className=\"font-medium\">{selectedVerification.taxId}</p>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-muted-foreground\">Status</label>\r\n                    <div className=\"mt-1\">{getStatusBadge(selectedVerification.status)}</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Address */}\r\n              <div>\r\n                <h4 className=\"font-semibold mb-3 flex items-center gap-2\">\r\n                  <MapPin className=\"h-4 w-4\" />\r\n                  Business Address\r\n                </h4>\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div className=\"col-span-2\">\r\n                    <label className=\"text-sm font-medium text-muted-foreground\">Address</label>\r\n                    <p className=\"font-medium\">{selectedVerification.businessAddress.address}</p>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-muted-foreground\">City</label>\r\n                    <p className=\"font-medium\">{selectedVerification.businessAddress.city}</p>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-muted-foreground\">State</label>\r\n                    <p className=\"font-medium\">{selectedVerification.businessAddress.state}</p>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-muted-foreground\">ZIP Code</label>\r\n                    <p className=\"font-medium\">{selectedVerification.businessAddress.zipCode}</p>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-muted-foreground\">Country</label>\r\n                    <p className=\"font-medium\">{selectedVerification.businessAddress.country}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Applicant Information */}\r\n              <div>\r\n                <h4 className=\"font-semibold mb-3 flex items-center gap-2\">\r\n                  <User className=\"h-4 w-4\" />\r\n                  Applicant\r\n                </h4>\r\n                <div className=\"flex items-center gap-4 mb-4\">\r\n                  <Avatar src={selectedVerification.user.avatar} size=\"lg\" />\r\n                  <div>\r\n                    <p className=\"font-medium text-lg\">\r\n                      {selectedVerification.user.firstName} {selectedVerification.user.lastName}\r\n                    </p>\r\n                    <p className=\"text-muted-foreground\">{selectedVerification.user.email}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Online Presence */}\r\n              {(selectedVerification.website || selectedVerification.socialMedia) && (\r\n                <div>\r\n                  <h4 className=\"font-semibold mb-3 flex items-center gap-2\">\r\n                    <Globe className=\"h-4 w-4\" />\r\n                    Online Presence\r\n                  </h4>\r\n                  <div className=\"space-y-2\">\r\n                    {selectedVerification.website && (\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <Globe className=\"h-4 w-4\" />\r\n                        <a \r\n                          href={selectedVerification.website} \r\n                          target=\"_blank\" \r\n                          rel=\"noopener noreferrer\"\r\n                          className=\"text-blue-600 hover:underline\"\r\n                        >\r\n                          {selectedVerification.website}\r\n                        </a>\r\n                      </div>\r\n                    )}\r\n                    {selectedVerification.socialMedia?.facebook && (\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <Facebook className=\"h-4 w-4\" />\r\n                        <a \r\n                          href={selectedVerification.socialMedia.facebook} \r\n                          target=\"_blank\" \r\n                          rel=\"noopener noreferrer\"\r\n                          className=\"text-blue-600 hover:underline\"\r\n                        >\r\n                          Facebook Page\r\n                        </a>\r\n                      </div>\r\n                    )}\r\n                    {selectedVerification.socialMedia?.instagram && (\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <Instagram className=\"h-4 w-4\" />\r\n                        <a \r\n                          href={selectedVerification.socialMedia.instagram} \r\n                          target=\"_blank\" \r\n                          rel=\"noopener noreferrer\"\r\n                          className=\"text-pink-600 hover:underline\"\r\n                        >\r\n                          Instagram\r\n                        </a>\r\n                      </div>\r\n                    )}\r\n                    {selectedVerification.socialMedia?.twitter && (\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <Twitter className=\"h-4 w-4\" />\r\n                        <a \r\n                          href={selectedVerification.socialMedia.twitter} \r\n                          target=\"_blank\" \r\n                          rel=\"noopener noreferrer\"\r\n                          className=\"text-blue-400 hover:underline\"\r\n                        >\r\n                          Twitter\r\n                        </a>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Business References */}\r\n              {selectedVerification.references.length > 0 && (\r\n                <div>\r\n                  <h4 className=\"font-semibold mb-3 flex items-center gap-2\">\r\n                    <Star className=\"h-4 w-4\" />\r\n                    Business References\r\n                  </h4>\r\n                  <div className=\"space-y-3\">\r\n                    {selectedVerification.references.map((reference, index) => (\r\n                      <div key={index} className=\"p-3 border rounded-lg\">\r\n                        <div className=\"grid grid-cols-2 gap-2 text-sm\">\r\n                          <div>\r\n                            <label className=\"font-medium\">Name</label>\r\n                            <p>{reference.name}</p>\r\n                          </div>\r\n                          <div>\r\n                            <label className=\"font-medium\">Company</label>\r\n                            <p>{reference.company}</p>\r\n                          </div>\r\n                          <div>\r\n                            <label className=\"font-medium\">Email</label>\r\n                            <p>{reference.email}</p>\r\n                          </div>\r\n                          <div>\r\n                            <label className=\"font-medium\">Phone</label>\r\n                            <p>{reference.phone}</p>\r\n                          </div>\r\n                          <div>\r\n                            <label className=\"font-medium\">Relationship</label>\r\n                            <p>{reference.relationship}</p>\r\n                          </div>\r\n                          <div>\r\n                            <label className=\"font-medium\">Years Known</label>\r\n                            <p>{reference.yearsKnown}</p>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Notes */}\r\n              {selectedVerification.notes && (\r\n                <div>\r\n                  <h4 className=\"font-semibold mb-3\">Admin Notes</h4>\r\n                  <p className=\"text-sm p-3 bg-muted rounded-lg\">{selectedVerification.notes}</p>\r\n                </div>\r\n              )}\r\n\r\n              {/* Timestamps */}\r\n              <div className=\"text-sm text-muted-foreground space-y-1\">\r\n                <div>Submitted: {formatDate(selectedVerification.submittedAt)}</div>\r\n                {selectedVerification.reviewedAt && (\r\n                  <div>Reviewed: {formatDate(selectedVerification.reviewedAt)}</div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Actions */}\r\n              <div className=\"flex items-center gap-2 pt-4 border-t\">\r\n                {selectedVerification.status === 'pending' && (\r\n                  <>\r\n                    <Button\r\n                      onClick={() => {\r\n                        setReviewModal({ type: 'verify', verification: selectedVerification })\r\n                        setSelectedVerification(null)\r\n                      }}\r\n                      className=\"flex-1\"\r\n                    >\r\n                      <CheckCircle className=\"h-4 w-4 mr-2\" />\r\n                      Verify Business\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"destructive\"\r\n                      onClick={() => {\r\n                        setReviewModal({ type: 'reject', verification: selectedVerification })\r\n                        setSelectedVerification(null)\r\n                      }}\r\n                      className=\"flex-1\"\r\n                    >\r\n                      <XCircle className=\"h-4 w-4 mr-2\" />\r\n                      Reject Verification\r\n                    </Button>\r\n                  </>\r\n                )}\r\n                {selectedVerification.status === 'under-review' && (\r\n                  <Button\r\n                    onClick={() => {\r\n                      setReviewModal({ type: 'verify', verification: selectedVerification })\r\n                      setSelectedVerification(null)\r\n                    }}\r\n                    className=\"flex-1\"\r\n                  >\r\n                    <CheckCircle className=\"h-4 w-4 mr-2\" />\r\n                    Complete Verification\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      )}\r\n\r\n      {/* Review Modal */}\r\n      {reviewModal && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\r\n          <Card className=\"w-full max-w-md p-6\">\r\n            <h3 className=\"text-lg font-semibold mb-4\">\r\n              {reviewModal.type === 'verify' ? 'Verify Business' : 'Reject Verification'}\r\n            </h3>\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2\">\r\n                  Notes (Optional)\r\n                </label>\r\n                <textarea\r\n                  className=\"w-full p-2 border rounded-md resize-none\"\r\n                  rows={3}\r\n                  value={reviewNotes}\r\n                  onChange={(e) => setReviewNotes(e.target.value)}\r\n                  placeholder=\"Add notes about this decision...\"\r\n                />\r\n              </div>\r\n              <div className=\"flex items-center gap-2 justify-end\">\r\n                <Button\r\n                  variant=\"outline\"\r\n                  onClick={() => {\r\n                    setReviewModal(null)\r\n                    setReviewNotes('')\r\n                  }}\r\n                >\r\n                  Cancel\r\n                </Button>\r\n                <Button \r\n                  onClick={confirmReview}\r\n                  variant={reviewModal.type === 'verify' ? 'primary' : 'destructive'}\r\n                >\r\n                  Confirm {reviewModal.type === 'verify' ? 'Verification' : 'Rejection'}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      )}\r\n    </Card>\r\n  )\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\AdminTools.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":56,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":56,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2118,2121],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2118,2121],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":82,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":82,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2905,2908],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2905,2908],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useCallback } from 'react'\r\nimport { \r\n  Settings, \r\n  Database, \r\n  Mail, \r\n  Shield, \r\n  Download, \r\n  Upload,\r\n  Trash2,\r\n  RefreshCw,\r\n  AlertTriangle,\r\n  Clock,\r\n  Activity,\r\n  Users,\r\n  Lock,\r\n  Unlock,\r\n  Zap\r\n} from 'lucide-react'\r\nimport { Card } from '@/components/ui/Card'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { Input } from '@/components/ui/Input'\r\nimport { Select, SelectOption } from '@/components/ui/Select'\r\nimport { Badge } from '@/components/ui/Badge'\r\nimport { useToast } from '@/components/ui/Toast'\r\nimport { useAdminSystemSettings, useAdminBulkOperations } from '@/features/admin/hooks/useAdmin'\r\nimport { SystemSettings } from '@/types'\r\nimport { cn } from '@/utils/cn'\r\n\r\ninterface AdminToolsProps {\r\n  className?: string\r\n}\r\n\r\nexport function AdminTools({ className }: AdminToolsProps) {\r\n  const { systemSettings, isLoadingSettings, refreshSettings, handleUpdateSetting } = useAdminSystemSettings()\r\n  const { bulkOperations, getOperationProgress, getOperationStatus, addBulkOperation } = useAdminBulkOperations()\r\n  const [activeTab, setActiveTab] = useState<'settings' | 'bulk' | 'system' | 'maintenance'>('settings')\r\n  const [bulkOperationType, setBulkOperationType] = useState('')\r\n  const [bulkTargetIds, setBulkTargetIds] = useState('')\r\n  const [bulkParameters, setBulkParameters] = useState('')\r\n  const [isExecutingBulk, setIsExecutingBulk] = useState(false)\r\n  const [maintenanceMode, setMaintenanceMode] = useState(false)\r\n  const [isTogglingMaintenance, setIsTogglingMaintenance] = useState(false)\r\n  const { addToast } = useToast()\r\n\r\n  const handleSettingUpdate = useCallback(async (key: string, value: string) => {\r\n    await handleUpdateSetting(key, value)\r\n  }, [handleUpdateSetting])\r\n\r\n  const executeBulkOperation = useCallback(async () => {\r\n    if (!bulkOperationType || !bulkTargetIds) return\r\n    \r\n    setIsExecutingBulk(true)\r\n    try {\r\n      const targetIds = bulkTargetIds.split(',').map(id => id.trim()).filter(Boolean)\r\n      let operation: 'role' | 'suspend' | 'verify' | 'approve' | 'reject' = 'role'\r\n      let value: any = {}\r\n      \r\n      if (bulkParameters) {\r\n        try {\r\n          const params = JSON.parse(bulkParameters)\r\n          if (params.role) {\r\n            operation = 'role'\r\n            value = params.role\r\n          } else if (params.suspend) {\r\n            operation = 'suspend'\r\n            value = params.suspend\r\n          } else if (params.approve) {\r\n            operation = 'approve'\r\n            value = params.approve\r\n          } else if (params.reject) {\r\n            operation = 'reject'\r\n            value = params.reject\r\n          }\r\n        } catch {\r\n          // Invalid JSON, use defaults\r\n        }\r\n      }\r\n      \r\n      // Create bulk operation based on type\r\n      const newOperation = {\r\n        id: `bulk-${Date.now()}`,\r\n        type: bulkOperationType as any,\r\n        targetIds,\r\n        parameters: { operation, value, reason: bulkParameters },\r\n        status: 'processing' as const,\r\n        progress: 0,\r\n        total: targetIds.length,\r\n        createdBy: 'current-admin',\r\n        createdAt: new Date().toISOString()\r\n      }\r\n      \r\n      addBulkOperation(newOperation)\r\n      \r\n      // Simulate progress\r\n      let progress = 0\r\n      const interval = setInterval(() => {\r\n        progress += 20\r\n        if (progress >= 100) {\r\n          clearInterval(interval)\r\n          addToast({ \r\n            variant: 'success', \r\n            title: 'Bulk Operation Complete', \r\n            description: `Successfully processed ${targetIds.length} items.` \r\n          })\r\n        }\r\n      }, 500)\r\n      \r\n      // Reset form\r\n      setBulkOperationType('')\r\n      setBulkTargetIds('')\r\n      setBulkParameters('')\r\n      \r\n      addToast({ \r\n        variant: 'success', \r\n        title: 'Operation Started', \r\n        description: `Bulk operation \"${bulkOperationType}\" has been queued.` \r\n      })\r\n    } catch (error) {\r\n      addToast({ \r\n        variant: 'destructive', \r\n        title: 'Operation Failed', \r\n        description: 'Failed to execute bulk operation. Please try again.' \r\n      })\r\n    } finally {\r\n      setIsExecutingBulk(false)\r\n    }\r\n  }, [bulkOperationType, bulkTargetIds, bulkParameters, addBulkOperation, addToast])\r\n\r\n  const toggleMaintenanceMode = useCallback(async () => {\r\n    setIsTogglingMaintenance(true)\r\n    try {\r\n      const newValue = !maintenanceMode\r\n      await handleUpdateSetting('maintenance_mode', newValue.toString())\r\n      setMaintenanceMode(newValue)\r\n      addToast({ \r\n        variant: 'success', \r\n        title: newValue ? 'Maintenance Mode Enabled' : 'Maintenance Mode Disabled', \r\n        description: newValue \r\n          ? 'The application is now in maintenance mode.'\r\n          : 'The application is now running normally.'\r\n      })\r\n    } catch (error) {\r\n      addToast({ \r\n        variant: 'destructive', \r\n        title: 'Failed to Toggle Maintenance Mode', \r\n        description: 'Please try again.' \r\n      })\r\n    } finally {\r\n      setIsTogglingMaintenance(false)\r\n    }\r\n  }, [maintenanceMode, handleUpdateSetting, addToast])\r\n\r\n  const systemHealth = {\r\n    status: 'healthy',\r\n    uptime: '99.9%',\r\n    lastBackup: '2 hours ago',\r\n    activeConnections: 147,\r\n    diskUsage: '68%',\r\n    memoryUsage: '45%'\r\n  }\r\n\r\n  const maintenanceTasks = [\r\n    {\r\n      id: '1',\r\n      name: 'Database Optimization',\r\n      description: 'Optimize database indexes and clean up old records',\r\n      status: 'completed',\r\n      lastRun: '2 hours ago',\r\n      nextRun: '24 hours'\r\n    },\r\n    {\r\n      id: '2',\r\n      name: 'Cache Cleanup',\r\n      description: 'Clear expired cache and rebuild indexes',\r\n      status: 'completed',\r\n      lastRun: '1 hour ago',\r\n      nextRun: '6 hours'\r\n    },\r\n    {\r\n      id: '3',\r\n      name: 'Log Rotation',\r\n      description: 'Archive and rotate system logs',\r\n      status: 'pending',\r\n      lastRun: '12 hours ago',\r\n      nextRun: '12 hours'\r\n    }\r\n  ]\r\n\r\n  const getStatusBadge = (status: string) => {\r\n    switch (status) {\r\n      case 'healthy': return <Badge variant=\"default\">Healthy</Badge>\r\n      case 'warning': return <Badge variant=\"warning\">Warning</Badge>\r\n      case 'error': return <Badge variant=\"destructive\">Error</Badge>\r\n      case 'completed': return <Badge variant=\"default\">Completed</Badge>\r\n      case 'pending': return <Badge variant=\"outline\">Pending</Badge>\r\n      case 'processing': return <Badge variant=\"warning\">Processing</Badge>\r\n      default: return <Badge variant=\"muted\">{status}</Badge>\r\n    }\r\n  }\r\n\r\n  const bulkOperationOptions: SelectOption[] = [\r\n    { value: '', label: 'Select operation type' },\r\n    { value: 'user-role', label: 'Bulk User Role Update' },\r\n    { value: 'user-suspend', label: 'Bulk User Suspension' },\r\n    { value: 'content-approve', label: 'Bulk Content Approval' },\r\n    { value: 'content-reject', label: 'Bulk Content Rejection' },\r\n    { value: 'application-bulk-review', label: 'Bulk Application Review' }\r\n  ]\r\n\r\n  const settingsByCategory = systemSettings.reduce((acc, setting) => {\r\n    if (!acc[setting.category]) acc[setting.category] = []\r\n    acc[setting.category].push(setting)\r\n    return acc\r\n  }, {} as Record<string, SystemSettings[]>)\r\n\r\n  const renderSettingsTab = () => (\r\n    <div className=\"space-y-6\">\r\n      {Object.entries(settingsByCategory).map(([category, settings]) => (\r\n        <Card key={category} className=\"p-6\">\r\n          <h3 className=\"text-lg font-semibold mb-4 capitalize flex items-center gap-2\">\r\n            {category === 'general' && <Settings className=\"h-5 w-5\" />}\r\n            {category === 'moderation' && <Shield className=\"h-5 w-5\" />}\r\n            {category === 'notifications' && <Mail className=\"h-5 w-5\" />}\r\n            {category === 'features' && <Zap className=\"h-5 w-5\" />}\r\n            {category} Settings\r\n          </h3>\r\n          <div className=\"space-y-4\">\r\n            {settings.map((setting) => (\r\n              <div key={setting.id} className=\"flex items-center justify-between p-3 border rounded-lg\">\r\n                <div className=\"flex-1\">\r\n                  <label className=\"block text-sm font-medium mb-1\">\r\n                    {setting.key.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())}\r\n                  </label>\r\n                  <p className=\"text-xs text-muted-foreground\">{setting.description}</p>\r\n                </div>\r\n                <div className=\"ml-4\">\r\n                  {setting.type === 'boolean' ? (\r\n                    <Button\r\n                      variant={setting.value === 'true' ? 'primary' : 'outline'}\r\n                      size=\"sm\"\r\n                      onClick={() => handleSettingUpdate(setting.key, setting.value === 'true' ? 'false' : 'true')}\r\n                    >\r\n                      {setting.value === 'true' ? 'Enabled' : 'Disabled'}\r\n                    </Button>\r\n                  ) : (\r\n                    <Input\r\n                      value={setting.value}\r\n                      onChange={(e) => handleSettingUpdate(setting.key, e.target.value)}\r\n                      className=\"w-32\"\r\n                    />\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </Card>\r\n      ))}\r\n    </div>\r\n  )\r\n\r\n  const renderBulkOperationsTab = () => (\r\n    <div className=\"space-y-6\">\r\n      <Card className=\"p-6\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">Create Bulk Operation</h3>\r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2\">Operation Type</label>\r\n            <Select\r\n              value={bulkOperationType}\r\n              onValueChange={setBulkOperationType}\r\n              options={bulkOperationOptions}\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2\">Target IDs (comma-separated)</label>\r\n            <Input\r\n              value={bulkTargetIds}\r\n              onChange={(e) => setBulkTargetIds(e.target.value)}\r\n              placeholder=\"user-1, user-2, user-3\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2\">Parameters (JSON)</label>\r\n            <textarea\r\n              className=\"w-full p-2 border rounded-md resize-none\"\r\n              rows={3}\r\n              value={bulkParameters}\r\n              onChange={(e) => setBulkParameters(e.target.value)}\r\n              placeholder='{\"role\": \"vendor\", \"reason\": \"bulk update\"}'\r\n            />\r\n          </div>\r\n          <Button\r\n            onClick={executeBulkOperation}\r\n            disabled={!bulkOperationType || !bulkTargetIds || isExecutingBulk}\r\n            className=\"w-full\"\r\n          >\r\n            {isExecutingBulk ? (\r\n              <><RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" /> Executing...</>\r\n            ) : (\r\n              'Execute Bulk Operation'\r\n            )}\r\n          </Button>\r\n        </div>\r\n      </Card>\r\n\r\n      <Card className=\"p-6\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">Recent Operations</h3>\r\n        <div className=\"space-y-3\">\r\n          {bulkOperations.map((operation) => (\r\n            <div key={operation.id} className=\"flex items-center justify-between p-3 border rounded-lg\">\r\n              <div className=\"flex-1\">\r\n                <div className=\"flex items-center gap-2 mb-1\">\r\n                  <span className=\"font-medium\">{operation.type.replace(/-/g, ' ')}</span>\r\n                  {getStatusBadge(getOperationStatus(operation))}\r\n                </div>\r\n                <p className=\"text-sm text-muted-foreground\">\r\n                  {operation.targetIds.length} items  {operation.createdAt}\r\n                </p>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <div className=\"text-sm\">\r\n                  {getOperationProgress(operation.id)}%\r\n                </div>\r\n                <div className=\"w-20 bg-gray-200 rounded-full h-2\">\r\n                  <div \r\n                    className=\"bg-blue-600 h-2 rounded-full transition-all\"\r\n                    style={{ width: `${getOperationProgress(operation.id)}%` }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n          {bulkOperations.length === 0 && (\r\n            <p className=\"text-center text-muted-foreground py-8\">No bulk operations found</p>\r\n          )}\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  )\r\n\r\n  const renderSystemTab = () => (\r\n    <div className=\"space-y-6\">\r\n      <Card className=\"p-6\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">System Health</h3>\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          <div className=\"p-4 border rounded-lg\">\r\n            <div className=\"flex items-center gap-2 mb-2\">\r\n              <Activity className=\"h-4 w-4 text-green-500\" />\r\n              <span className=\"font-medium\">Status</span>\r\n            </div>\r\n            <div className=\"text-2xl font-bold\">{getStatusBadge(systemHealth.status)}</div>\r\n            <p className=\"text-sm text-muted-foreground\">All systems operational</p>\r\n          </div>\r\n          <div className=\"p-4 border rounded-lg\">\r\n            <div className=\"flex items-center gap-2 mb-2\">\r\n              <Clock className=\"h-4 w-4 text-blue-500\" />\r\n              <span className=\"font-medium\">Uptime</span>\r\n            </div>\r\n            <div className=\"text-2xl font-bold\">{systemHealth.uptime}</div>\r\n            <p className=\"text-sm text-muted-foreground\">Last 30 days</p>\r\n          </div>\r\n          <div className=\"p-4 border rounded-lg\">\r\n            <div className=\"flex items-center gap-2 mb-2\">\r\n              <Users className=\"h-4 w-4 text-purple-500\" />\r\n              <span className=\"font-medium\">Active Connections</span>\r\n            </div>\r\n            <div className=\"text-2xl font-bold\">{systemHealth.activeConnections}</div>\r\n            <p className=\"text-sm text-muted-foreground\">Current session</p>\r\n          </div>\r\n          <div className=\"p-4 border rounded-lg\">\r\n            <div className=\"flex items-center gap-2 mb-2\">\r\n              <Database className=\"h-4 w-4 text-yellow-500\" />\r\n              <span className=\"font-medium\">Disk Usage</span>\r\n            </div>\r\n            <div className=\"text-2xl font-bold\">{systemHealth.diskUsage}</div>\r\n            <p className=\"text-sm text-muted-foreground\">Available storage</p>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      <Card className=\"p-6\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">Maintenance Tasks</h3>\r\n        <div className=\"space-y-3\">\r\n          {maintenanceTasks.map((task) => (\r\n            <div key={task.id} className=\"flex items-center justify-between p-3 border rounded-lg\">\r\n              <div className=\"flex-1\">\r\n                <div className=\"flex items-center gap-2 mb-1\">\r\n                  <span className=\"font-medium\">{task.name}</span>\r\n                  {getStatusBadge(task.status)}\r\n                </div>\r\n                <p className=\"text-sm text-muted-foreground\">{task.description}</p>\r\n                <div className=\"text-xs text-muted-foreground mt-1\">\r\n                  Last run: {task.lastRun}  Next: {task.nextRun}\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <Button variant=\"outline\" size=\"sm\">\r\n                  <RefreshCw className=\"h-4 w-4 mr-1\" />\r\n                  Run Now\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </Card>\r\n\r\n      <Card className=\"p-6\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">Data Management</h3>\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          <Button variant=\"outline\" className=\"h-16 flex flex-col items-center gap-2\">\r\n            <Download className=\"h-5 w-5\" />\r\n            <span>Export Data</span>\r\n          </Button>\r\n          <Button variant=\"outline\" className=\"h-16 flex flex-col items-center gap-2\">\r\n            <Upload className=\"h-5 w-5\" />\r\n            <span>Import Data</span>\r\n          </Button>\r\n          <Button variant=\"outline\" className=\"h-16 flex flex-col items-center gap-2\">\r\n            <Database className=\"h-5 w-5\" />\r\n            <span>Backup Database</span>\r\n          </Button>\r\n          <Button variant=\"outline\" className=\"h-16 flex flex-col items-center gap-2\">\r\n            <RefreshCw className=\"h-5 w-5\" />\r\n            <span>Sync Services</span>\r\n          </Button>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  )\r\n\r\n  const renderMaintenanceTab = () => (\r\n    <div className=\"space-y-6\">\r\n      <Card className=\"p-6\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">Maintenance Mode</h3>\r\n        <div className=\"flex items-center justify-between p-4 border rounded-lg\">\r\n          <div>\r\n            <div className=\"flex items-center gap-2 mb-2\">\r\n              {maintenanceMode ? (\r\n                <Lock className=\"h-5 w-5 text-red-500\" />\r\n              ) : (\r\n                <Unlock className=\"h-5 w-5 text-green-500\" />\r\n              )}\r\n              <span className=\"font-medium\">\r\n                {maintenanceMode ? 'Maintenance Mode Active' : 'Maintenance Mode Inactive'}\r\n              </span>\r\n            </div>\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              {maintenanceMode \r\n                ? 'The application is currently in maintenance mode. Only administrators can access the site.'\r\n                : 'The application is running normally. All users have access.'\r\n              }\r\n            </p>\r\n          </div>\r\n          <Button\r\n            variant={maintenanceMode ? 'destructive' : 'primary'}\r\n            onClick={toggleMaintenanceMode}\r\n            disabled={isTogglingMaintenance}\r\n          >\r\n            {isTogglingMaintenance ? (\r\n              <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\r\n            ) : maintenanceMode ? (\r\n              <Lock className=\"h-4 w-4 mr-2\" />\r\n            ) : (\r\n              <Unlock className=\"h-4 w-4 mr-2\" />\r\n            )}\r\n            {maintenanceMode ? 'Disabling...' : 'Enabling...'}\r\n          </Button>\r\n        </div>\r\n      </Card>\r\n\r\n      <Card className=\"p-6\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">Emergency Actions</h3>\r\n        <div className=\"space-y-3\">\r\n          <div className=\"flex items-center justify-between p-4 border rounded-lg border-red-200 bg-red-50\">\r\n            <div>\r\n              <div className=\"flex items-center gap-2 mb-2\">\r\n                <AlertTriangle className=\"h-5 w-5 text-red-500\" />\r\n                <span className=\"font-medium text-red-900\">Clear All Caches</span>\r\n              </div>\r\n              <p className=\"text-sm text-red-700\">\r\n                Clear all application caches. This may cause temporary performance degradation.\r\n              </p>\r\n            </div>\r\n            <Button variant=\"destructive\" size=\"sm\">\r\n              Clear Caches\r\n            </Button>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center justify-between p-4 border rounded-lg border-red-200 bg-red-50\">\r\n            <div>\r\n              <div className=\"flex items-center gap-2 mb-2\">\r\n                <AlertTriangle className=\"h-5 w-5 text-red-500\" />\r\n                <span className=\"font-medium text-red-900\">Restart Services</span>\r\n              </div>\r\n              <p className=\"text-sm text-red-700\">\r\n                Restart all application services. This will briefly interrupt service.\r\n              </p>\r\n            </div>\r\n            <Button variant=\"destructive\" size=\"sm\">\r\n              Restart Services\r\n            </Button>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center justify-between p-4 border rounded-lg border-red-200 bg-red-50\">\r\n            <div>\r\n              <div className=\"flex items-center gap-2 mb-2\">\r\n                <Trash2 className=\"h-5 w-5 text-red-500\" />\r\n                <span className=\"font-medium text-red-900\">Purge Logs</span>\r\n              </div>\r\n              <p className=\"text-sm text-red-700\">\r\n                Delete all log files older than 30 days. This action cannot be undone.\r\n              </p>\r\n            </div>\r\n            <Button variant=\"destructive\" size=\"sm\">\r\n              Purge Logs\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      <Card className=\"p-6\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">System Information</h3>\r\n        <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n          <div>\r\n            <label className=\"font-medium\">Version</label>\r\n            <p>v1.0.0 (Build 2024.12.01)</p>\r\n          </div>\r\n          <div>\r\n            <label className=\"font-medium\">Environment</label>\r\n            <p>Production</p>\r\n          </div>\r\n          <div>\r\n            <label className=\"font-medium\">Node Version</label>\r\n            <p>18.17.0</p>\r\n          </div>\r\n          <div>\r\n            <label className=\"font-medium\">Database</label>\r\n            <p>PostgreSQL 14.5</p>\r\n          </div>\r\n          <div>\r\n            <label className=\"font-medium\">Last Backup</label>\r\n            <p>{systemHealth.lastBackup}</p>\r\n          </div>\r\n          <div>\r\n            <label className=\"font-medium\">Memory Usage</label>\r\n            <p>{systemHealth.memoryUsage}</p>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  )\r\n\r\n  const tabs = [\r\n    { id: 'settings', label: 'Settings', icon: Settings },\r\n    { id: 'bulk', label: 'Bulk Operations', icon: Users },\r\n    { id: 'system', label: 'System', icon: Activity },\r\n    { id: 'maintenance', label: 'Maintenance', icon: Shield }\r\n  ] as const\r\n\r\n  return (\r\n    <div className={cn('space-y-6', className)}>\r\n      {/* Header */}\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <Settings className=\"h-6 w-6 text-primary\" />\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold\">Admin Tools</h1>\r\n              <p className=\"text-muted-foreground\">\r\n                System management and configuration tools\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={refreshSettings}\r\n              disabled={isLoadingSettings}\r\n            >\r\n              <RefreshCw className={cn('h-4 w-4 mr-2', isLoadingSettings && 'animate-spin')} />\r\n              Refresh\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Tabs */}\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex space-x-1 mb-6\">\r\n          {tabs.map((tab) => {\r\n            const Icon = tab.icon\r\n            return (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => setActiveTab(tab.id)}\r\n                className={cn(\r\n                  'flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors',\r\n                  activeTab === tab.id\r\n                    ? 'bg-primary text-primary-foreground'\r\n                    : 'text-muted-foreground hover:text-foreground hover:bg-muted'\r\n                )}\r\n              >\r\n                <Icon className=\"h-4 w-4\" />\r\n                {tab.label}\r\n              </button>\r\n            )\r\n          })}\r\n        </div>\r\n\r\n        {/* Tab Content */}\r\n        <div>\r\n          {activeTab === 'settings' && renderSettingsTab()}\r\n          {activeTab === 'bulk' && renderBulkOperationsTab()}\r\n          {activeTab === 'system' && renderSystemTab()}\r\n          {activeTab === 'maintenance' && renderMaintenanceTab()}\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  )\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\AdminUserTable.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":98,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":98,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2638,2641],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2638,2641],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":103,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":103,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2786,2789],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2786,2789],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":165,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":165,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4677,4680],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4677,4680],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":183,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":183,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5148,5151],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5148,5151],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":200,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":200,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5659,5662],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5659,5662],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":209,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":209,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5884,5887],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5884,5887],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":214,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":214,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6016,6019],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6016,6019],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":219,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":219,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6157,6160],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6157,6160],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":228,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":228,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6420,6423],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6420,6423],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useMemo } from 'react'\r\nimport { \r\n  Users, \r\n  Search, \r\n  Filter, \r\n  ShieldCheck, \r\n  ShieldX, \r\n  UserX, \r\n  UserCheck, \r\n  CheckSquare, \r\n  Square,\r\n  Download,\r\n  RefreshCw\r\n} from 'lucide-react'\r\nimport { Card } from '@/components/ui/Card'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { Input } from '@/components/ui/Input'\r\nimport { Select, SelectOption } from '@/components/ui/Select'\r\nimport { Badge } from '@/components/ui/Badge'\r\nimport { Table } from '@/components/ui/Table'\r\nimport { Avatar } from '@/components/ui/Avatar'\r\nimport { useAdminUsers } from '@/features/admin/hooks/useAdmin'\r\nimport { UserRole, UserWithStats } from '@/types'\r\nimport { cn } from '@/utils/cn'\r\n\r\ninterface AdminUserTableProps {\r\n  className?: string\r\n}\r\n\r\nexport function AdminUserTable({ className }: AdminUserTableProps) {\r\n  const {\r\n    users,\r\n    usersPagination,\r\n    isLoadingUsers,\r\n    selectedUsers,\r\n    userFilters,\r\n    refreshUsers,\r\n    handleRoleChange,\r\n    handleSuspendUser,\r\n    handleVerifyUser,\r\n    handleBulkUpdate,\r\n    handleFilterChange,\r\n    selectUser,\r\n    selectUsers,\r\n    clearUserSelection\r\n  } = useAdminUsers()\r\n\r\n  const [searchTerm, setSearchTerm] = useState(userFilters?.search || '')\r\n  const [showFilters, setShowFilters] = useState(false)\r\n  const [bulkAction, setBulkAction] = useState('')\r\n  const [bulkValue, setBulkValue] = useState('')\r\n\r\n  const filteredUsers = useMemo(() => {\r\n    if (!searchTerm) return users\r\n    \r\n    const search = searchTerm.toLowerCase()\r\n    return users.filter(user => \r\n      user.firstName.toLowerCase().includes(search) ||\r\n      user.lastName.toLowerCase().includes(search) ||\r\n      user.email.toLowerCase().includes(search)\r\n    )\r\n  }, [users, searchTerm])\r\n\r\n  const handleSearch = (value: string) => {\r\n    setSearchTerm(value)\r\n    handleFilterChange({\r\n      ...userFilters,\r\n      search: value || undefined\r\n    })\r\n  }\r\n\r\n  const handleRoleFilter = (value: string) => {\r\n    handleFilterChange({\r\n      ...userFilters,\r\n      role: value ? [value as UserRole] : undefined\r\n    })\r\n  }\r\n\r\n  const handleStatusFilter = (status: string) => {\r\n    const isActive = status === 'active' ? true : status === 'inactive' ? false : undefined\r\n    handleFilterChange({\r\n      ...userFilters,\r\n      isActive\r\n    })\r\n  }\r\n\r\n  const handleSelectAll = () => {\r\n    if (selectedUsers.length === filteredUsers.length) {\r\n      clearUserSelection()\r\n    } else {\r\n      selectUsers(filteredUsers.map(u => u.id))\r\n    }\r\n  }\r\n\r\n  const handleBulkAction = () => {\r\n    if (!bulkAction || selectedUsers.length === 0) return\r\n\r\n    let value: any = bulkValue\r\n    if (bulkAction === 'verify') {\r\n      value = bulkValue === 'true'\r\n    }\r\n\r\n    handleBulkUpdate(selectedUsers, bulkAction as any, value)\r\n    setBulkAction('')\r\n    setBulkValue('')\r\n  }\r\n\r\n  const getRoleBadgeVariant = (role: UserRole) => {\r\n    switch (role) {\r\n      case 'admin': return 'destructive'\r\n      case 'promoter': return 'default'\r\n      case 'vendor': return 'outline'\r\n      default: return 'muted'\r\n    }\r\n  }\r\n\r\n  // Select options\r\n  const roleFilterOptions: SelectOption[] = [\r\n    { value: '', label: 'All Roles' },\r\n    { value: 'visitor', label: 'Visitor' },\r\n    { value: 'vendor', label: 'Vendor' },\r\n    { value: 'promoter', label: 'Promoter' },\r\n    { value: 'admin', label: 'Admin' }\r\n  ]\r\n\r\n  const statusFilterOptions: SelectOption[] = [\r\n    { value: '', label: 'All Status' },\r\n    { value: 'active', label: 'Active' },\r\n    { value: 'inactive', label: 'Inactive' }\r\n  ]\r\n\r\n  const bulkActionOptions: SelectOption[] = [\r\n    { value: '', label: 'Select action' },\r\n    { value: 'role', label: 'Change Role' },\r\n    { value: 'suspend', label: 'Suspend/Activate' },\r\n    { value: 'verify', label: 'Verify/Unverify' }\r\n  ]\r\n\r\n  const bulkValueOptions: SelectOption[] = bulkAction === 'role' ? [\r\n    { value: 'visitor', label: 'Visitor' },\r\n    { value: 'vendor', label: 'Vendor' },\r\n    { value: 'promoter', label: 'Promoter' },\r\n    { value: 'admin', label: 'Admin' }\r\n  ] : bulkAction === 'suspend' ? [\r\n    { value: 'suspend', label: 'Suspend' },\r\n    { value: 'activate', label: 'Activate' }\r\n  ] : bulkAction === 'verify' ? [\r\n    { value: 'true', label: 'Verify' },\r\n    { value: 'false', label: 'Unverify' }\r\n  ] : []\r\n\r\n  const roleChangeOptions: SelectOption[] = [\r\n    { value: 'visitor', label: 'Visitor' },\r\n    { value: 'vendor', label: 'Vendor' },\r\n    { value: 'promoter', label: 'Promoter' },\r\n    { value: 'admin', label: 'Admin' }\r\n  ]\r\n\r\n  // Table columns\r\n  const columns = [\r\n    {\r\n      key: 'select',\r\n      title: '',\r\n      width: '48px',\r\n      render: (_: any, record: UserWithStats) => (\r\n        <Button\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          onClick={() => selectUser(record.id)}\r\n          className=\"h-8 w-8 p-0\"\r\n        >\r\n          {selectedUsers.includes(record.id) ? (\r\n            <CheckSquare className=\"h-4 w-4\" />\r\n          ) : (\r\n            <Square className=\"h-4 w-4\" />\r\n          )}\r\n        </Button>\r\n      )\r\n    },\r\n    {\r\n      key: 'user',\r\n      title: 'User',\r\n      render: (_: any, record: UserWithStats) => (\r\n        <div className=\"flex items-center gap-3\">\r\n          <Avatar src={record.avatar} alt={record.firstName} />\r\n          <div>\r\n            <div className=\"font-medium\">\r\n              {record.firstName} {record.lastName}\r\n            </div>\r\n            <div className=\"text-sm text-muted-foreground\">\r\n              {record.email}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      key: 'role',\r\n      title: 'Role',\r\n      render: (_: any, record: UserWithStats) => (\r\n        <Badge variant={getRoleBadgeVariant(record.role)}>\r\n          {record.role}\r\n        </Badge>\r\n      )\r\n    },\r\n    {\r\n      key: 'status',\r\n      title: 'Status',\r\n      render: (_: any, record: UserWithStats) => getStatusBadge(record)\r\n    },\r\n    {\r\n      key: 'stats',\r\n      title: 'Stats',\r\n      render: (_: any, record: UserWithStats) => getUserStats(record)\r\n    },\r\n    {\r\n      key: 'lastActive',\r\n      title: 'Last Active',\r\n      render: (_: any, record: UserWithStats) => (\r\n        <span className=\"text-sm text-muted-foreground\">\r\n          {new Date(record.lastActiveAt).toLocaleDateString()}\r\n        </span>\r\n      )\r\n    },\r\n    {\r\n      key: 'actions',\r\n      title: 'Actions',\r\n      render: (_: any, record: UserWithStats) => (\r\n        <div className=\"flex items-center gap-1\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={() => handleVerifyUser(record.id, !record.isEmailVerified)}\r\n            title={record.isEmailVerified ? 'Unverify user' : 'Verify user'}\r\n          >\r\n            {record.isEmailVerified ? (\r\n              <ShieldCheck className=\"h-4 w-4\" />\r\n            ) : (\r\n              <ShieldX className=\"h-4 w-4\" />\r\n            )}\r\n          </Button>\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={() => handleSuspendUser(record.id, record.isActive)}\r\n            title={record.isActive ? 'Suspend user' : 'Activate user'}\r\n          >\r\n            {record.isActive ? (\r\n              <UserX className=\"h-4 w-4\" />\r\n            ) : (\r\n              <UserCheck className=\"h-4 w-4\" />\r\n            )}\r\n          </Button>\r\n          <Select\r\n            value={record.role}\r\n            onValueChange={(value) => handleRoleChange(record.id, value as UserRole)}\r\n            options={roleChangeOptions}\r\n            className=\"w-24\"\r\n          />\r\n        </div>\r\n      )\r\n    }\r\n  ]\r\n\r\n  const getStatusBadge = (user: UserWithStats) => {\r\n    if (!user.isActive) {\r\n      return <Badge variant=\"destructive\">Suspended</Badge>\r\n    }\r\n    if (!user.isEmailVerified) {\r\n      return <Badge variant=\"outline\">Unverified</Badge>\r\n    }\r\n    if (user.isVerified) {\r\n      return <Badge variant=\"default\">Verified</Badge>\r\n    }\r\n    return <Badge variant=\"default\">Active</Badge>\r\n  }\r\n\r\n  const getUserStats = (user: UserWithStats) => {\r\n    return (\r\n      <div className=\"text-sm text-muted-foreground space-y-1\">\r\n        <div>Applications: {user.totalApplications}</div>\r\n        <div>Approved: {user.approvedApplications}</div>\r\n        <div>Reports: {user.reportedContent}</div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Card className={cn('p-6', className)}>\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <Users className=\"h-5 w-5 text-primary\" />\r\n          <div>\r\n            <h2 className=\"text-lg font-semibold\">User Management</h2>\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              Manage user accounts, roles, and permissions\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => refreshUsers()}\r\n            disabled={isLoadingUsers}\r\n          >\r\n            <RefreshCw className={cn('h-4 w-4 mr-2', isLoadingUsers && 'animate-spin')} />\r\n            Refresh\r\n          </Button>\r\n          <Button variant=\"outline\" size=\"sm\">\r\n            <Download className=\"h-4 w-4 mr-2\" />\r\n            Export\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Search and Filters */}\r\n      <div className=\"space-y-4 mb-6\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <div className=\"relative flex-1 max-w-sm\">\r\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n            <Input\r\n              placeholder=\"Search users...\"\r\n              value={searchTerm}\r\n              onChange={(e) => handleSearch(e.target.value)}\r\n              className=\"pl-10\"\r\n            />\r\n          </div>\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={() => setShowFilters(!showFilters)}\r\n          >\r\n            <Filter className=\"h-4 w-4 mr-2\" />\r\n            Filters\r\n          </Button>\r\n        </div>\r\n\r\n        {showFilters && (\r\n          <div className=\"flex items-center gap-4 p-4 border rounded-lg bg-muted/50\">\r\n            <Select\r\n              placeholder=\"Filter by role\"\r\n              value={userFilters?.role?.[0] || ''}\r\n              onValueChange={handleRoleFilter}\r\n              options={roleFilterOptions}\r\n            />\r\n            <Select\r\n              placeholder=\"Filter by status\"\r\n              value={\r\n                userFilters?.isActive === true ? 'active' : \r\n                userFilters?.isActive === false ? 'inactive' : ''\r\n              }\r\n              onValueChange={handleStatusFilter}\r\n              options={statusFilterOptions}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Bulk Actions */}\r\n      {selectedUsers.length > 0 && (\r\n        <div className=\"flex items-center gap-4 mb-4 p-4 border rounded-lg bg-muted/50\">\r\n          <span className=\"text-sm font-medium\">\r\n            {selectedUsers.length} user(s) selected\r\n          </span>\r\n          <Select\r\n            placeholder=\"Bulk action\"\r\n            value={bulkAction}\r\n            onValueChange={setBulkAction}\r\n            options={bulkActionOptions}\r\n            className=\"w-40\"\r\n          />\r\n          {bulkAction && (\r\n            <Select\r\n              placeholder=\"Value\"\r\n              value={bulkValue}\r\n              onValueChange={setBulkValue}\r\n              options={bulkValueOptions}\r\n              className=\"w-40\"\r\n            />\r\n          )}\r\n          {bulkAction && bulkValue && (\r\n            <Button onClick={handleBulkAction}>\r\n              Apply\r\n            </Button>\r\n          )}\r\n          <Button variant=\"outline\" onClick={clearUserSelection}>\r\n            Clear Selection\r\n          </Button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Select All Header */}\r\n      <div className=\"flex items-center justify-between mb-4 p-2\">\r\n        <Button\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          onClick={handleSelectAll}\r\n          className=\"h-8 w-8 p-0\"\r\n        >\r\n          {selectedUsers.length === filteredUsers.length ? (\r\n            <CheckSquare className=\"h-4 w-4\" />\r\n          ) : (\r\n            <Square className=\"h-4 w-4\" />\r\n          )}\r\n        </Button>\r\n        <span className=\"text-sm text-muted-foreground\">\r\n          {selectedUsers.length === filteredUsers.length && filteredUsers.length > 0 ? 'All selected' : 'Select all'}\r\n        </span>\r\n      </div>\r\n\r\n      {/* Table */}\r\n      <div className=\"border rounded-lg overflow-hidden\">\r\n        <Table\r\n          columns={columns}\r\n          data={filteredUsers}\r\n          loading={isLoadingUsers}\r\n          emptyText=\"No users found\"\r\n        />\r\n      </div>\r\n\r\n      {/* Pagination */}\r\n      {usersPagination && usersPagination.totalPages > 1 && (\r\n        <div className=\"flex items-center justify-between mt-4\">\r\n          <div className=\"text-sm text-muted-foreground\">\r\n            Showing {(usersPagination.page - 1) * usersPagination.limit + 1} to{' '}\r\n            {Math.min(usersPagination.page * usersPagination.limit, usersPagination.total)} of{' '}\r\n            {usersPagination.total} users\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              disabled={usersPagination.page <= 1}\r\n            >\r\n              Previous\r\n            </Button>\r\n            <span className=\"text-sm\">\r\n              Page {usersPagination.page} of {usersPagination.totalPages}\r\n            </span>\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              disabled={usersPagination.page >= usersPagination.totalPages}\r\n            >\r\n              Next\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Card>\r\n  )\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ApplicationActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ApplicationCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ApplicationFilters.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":65,"column":63,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":65,"endColumn":66,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1978,1981],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1978,1981],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react'\r\nimport { Input } from '@/components/ui/Input'\r\nimport { Select } from '@/components/ui/Select'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { Checkbox } from '@/components/ui/Checkbox'\r\nimport { Card } from '@/components/ui/Card'\r\nimport { ApplicationStatus } from '@/types'\r\nimport { cn } from '@/utils/cn'\r\n\r\n\r\nexport interface ApplicationFilters {\r\n  search: string\r\n  status: ApplicationStatus | 'all'\r\n  marketId: string\r\n  vendorId?: string\r\n  category?: string[]\r\n  location?: {\r\n    city?: string\r\n    state?: string\r\n  }\r\n  dateRange: {\r\n    from: string\r\n    to: string\r\n  }\r\n  sortBy: 'createdAt' | 'updatedAt' | 'marketName' | 'status' | 'vendorName' | 'applicationCount'\r\n  sortOrder: 'asc' | 'desc'\r\n  hasDocuments?: boolean\r\n  reviewedBy?: string\r\n  priority?: 'high' | 'medium' | 'low'\r\n  tags?: string[]\r\n}\r\n\r\ninterface ApplicationFiltersProps {\r\n  filters: ApplicationFilters\r\n  onFiltersChange: (filters: ApplicationFilters) => void\r\n  markets?: Array<{ id: string; name: string }>\r\n  className?: string\r\n}\r\n\r\nconst statusOptions: Array<{ value: ApplicationStatus | 'all'; label: string }> = [\r\n  { value: 'all', label: 'All Statuses' },\r\n  { value: 'draft', label: 'Draft' },\r\n  { value: 'submitted', label: 'Submitted' },\r\n  { value: 'under-review', label: 'Under Review' },\r\n  { value: 'approved', label: 'Approved' },\r\n  { value: 'rejected', label: 'Rejected' },\r\n  { value: 'withdrawn', label: 'Withdrawn' },\r\n]\r\n\r\nconst sortOptions = [\r\n  { value: 'createdAt', label: 'Date Created' },\r\n  { value: 'updatedAt', label: 'Last Updated' },\r\n  { value: 'marketName', label: 'Market Name' },\r\n  { value: 'status', label: 'Status' },\r\n]\r\n\r\nexport const ApplicationFilters: React.FC<ApplicationFiltersProps> = ({\r\n  filters,\r\n  onFiltersChange,\r\n  markets = [],\r\n  className\r\n}) => {\r\n  const [showAdvanced, setShowAdvanced] = useState(false)\r\n\r\n  const updateFilter = (key: keyof ApplicationFilters, value: any) => {\r\n    onFiltersChange({\r\n      ...filters,\r\n      [key]: value\r\n    })\r\n  }\r\n\r\n  const updateDateRange = (key: 'from' | 'to', value: string) => {\r\n    updateFilter('dateRange', {\r\n      ...filters.dateRange,\r\n      [key]: value\r\n    })\r\n  }\r\n\r\n  const clearFilters = () => {\r\n    onFiltersChange({\r\n      search: '',\r\n      status: 'all',\r\n      marketId: '',\r\n      dateRange: { from: '', to: '' },\r\n      sortBy: 'createdAt',\r\n      sortOrder: 'desc'\r\n    })\r\n  }\r\n\r\n  const hasActiveFilters = \r\n    filters.search || \r\n    filters.status !== 'all' || \r\n    filters.marketId || \r\n    filters.dateRange.from || \r\n    filters.dateRange.to\r\n\r\n  return (\r\n    <Card className={cn('p-4', className)}>\r\n      <div className=\"space-y-4\">\r\n        {/* Basic Filters */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <label className=\"text-sm font-medium\">Search</label>\r\n            <Input\r\n              value={filters.search}\r\n              onChange={(e) => updateFilter('search', e.target.value)}\r\n              placeholder=\"Search applications...\"\r\n              className=\"w-full\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <label className=\"text-sm font-medium\">Status</label>\r\n            <Select\r\n              value={filters.status}\r\n              onValueChange={(value) => updateFilter('status', value as ApplicationStatus | 'all')}\r\n              options={statusOptions.map(option => ({\r\n                value: option.value,\r\n                label: option.label\r\n              }))}\r\n              placeholder=\"All statuses\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <label className=\"text-sm font-medium\">Market</label>\r\n            <Select\r\n              value={filters.marketId}\r\n              onValueChange={(value) => updateFilter('marketId', value)}\r\n              options={[\r\n                { value: '', label: 'All markets' },\r\n                ...markets.map(market => ({\r\n                  value: market.id,\r\n                  label: market.name\r\n                }))\r\n              ]}\r\n              placeholder=\"All markets\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <label className=\"text-sm font-medium\">Sort By</label>\r\n            <Select\r\n              value={filters.sortBy}\r\n              onValueChange={(value) => updateFilter('sortBy', value)}\r\n              options={sortOptions.map(option => ({\r\n                value: option.value,\r\n                label: option.label\r\n              }))}\r\n              placeholder=\"Sort by\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Sort Order */}\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center space-x-4\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <label className=\"text-sm font-medium\">Order:</label>\r\n              <Select\r\n                value={filters.sortOrder}\r\n                onValueChange={(value) => updateFilter('sortOrder', value as 'asc' | 'desc')}\r\n                options={[\r\n                  { value: 'desc', label: 'Newest First' },\r\n                  { value: 'asc', label: 'Oldest First' }\r\n                ]}\r\n                placeholder=\"Sort order\"\r\n              />\r\n            </div>\r\n\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={() => setShowAdvanced(!showAdvanced)}\r\n            >\r\n              {showAdvanced ? 'Hide' : 'Show'} Advanced Filters\r\n            </Button>\r\n          </div>\r\n\r\n          {hasActiveFilters && (\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={clearFilters}\r\n            >\r\n              Clear Filters\r\n            </Button>\r\n          )}\r\n        </div>\r\n\r\n        {/* Advanced Filters */}\r\n        {showAdvanced && (\r\n          <div className=\"border-t pt-4 space-y-4\">\r\n            <h4 className=\"text-sm font-medium\">Date Range</h4>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-sm font-medium\">From</label>\r\n                <Input\r\n                  type=\"date\"\r\n                  value={filters.dateRange.from}\r\n                  onChange={(e) => updateDateRange('from', e.target.value)}\r\n                  className=\"w-full\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-sm font-medium\">To</label>\r\n                <Input\r\n                  type=\"date\"\r\n                  value={filters.dateRange.to}\r\n                  onChange={(e) => updateDateRange('to', e.target.value)}\r\n                  className=\"w-full\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Quick Date Filters */}\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={() => {\r\n                  const today = new Date().toISOString().split('T')[0]\r\n                  const weekAgo = new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]\r\n                  updateFilter('dateRange', { from: weekAgo, to: today })\r\n                }}\r\n              >\r\n                Last 7 days\r\n              </Button>\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={() => {\r\n                  const today = new Date().toISOString().split('T')[0]\r\n                  const monthAgo = new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]\r\n                  updateFilter('dateRange', { from: monthAgo, to: today })\r\n                }}\r\n              >\r\n                Last 30 days\r\n              </Button>\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={() => {\r\n                  const today = new Date().toISOString().split('T')[0]\r\n                  const yearAgo = new Date(Date.now() - 365 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]\r\n                  updateFilter('dateRange', { from: yearAgo, to: today })\r\n                }}\r\n              >\r\n                Last year\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Card>\r\n  )\r\n}\r\n\r\n// Status-specific filters\r\nexport const StatusFilters: React.FC<{\r\n  selectedStatuses: ApplicationStatus[]\r\n  onStatusToggle: (status: ApplicationStatus) => void\r\n  className?: string\r\n}> = ({ selectedStatuses, onStatusToggle, className }) => {\r\n  const statusOptions: Array<{ value: ApplicationStatus; label: string; color: string }> = [\r\n    { value: 'draft', label: 'Draft', color: 'bg-gray-50 text-gray-700' },\r\n    { value: 'submitted', label: 'Submitted', color: 'bg-blue-50 text-blue-700' },\r\n    { value: 'under-review', label: 'Under Review', color: 'bg-yellow-50 text-yellow-700' },\r\n    { value: 'approved', label: 'Approved', color: 'bg-green-50 text-green-700' },\r\n    { value: 'rejected', label: 'Rejected', color: 'bg-red-50 text-red-700' },\r\n    { value: 'withdrawn', label: 'Withdrawn', color: 'bg-gray-50 text-gray-700' },\r\n  ]\r\n\r\n  return (\r\n    <Card className={cn('p-4', className)}>\r\n      <h4 className=\"text-sm font-medium mb-3\">Filter by Status</h4>\r\n      <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\r\n        {statusOptions.map(option => (\r\n          <Checkbox\r\n            key={option.value}\r\n            checked={selectedStatuses.includes(option.value)}\r\n            onValueChange={() => onStatusToggle(option.value)}\r\n            label={option.label}\r\n          />\r\n        ))}\r\n      </div>\r\n    </Card>\r\n  )\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ApplicationForm.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":55,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":55,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1939,1942],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1939,1942],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":65,"column":77,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":65,"endColumn":80,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2176,2179],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2176,2179],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":151,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":151,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5737,5740],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5737,5740],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":217,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":217,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7530,7533],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7530,7533],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":218,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":218,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7574,7577],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7574,7577],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":284,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":284,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9401,9404],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9401,9404],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":339,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":339,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11054,11057],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11054,11057],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useRef, useMemo } from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport { zodResolver } from '@hookform/resolvers/zod'\r\nimport { z } from 'zod'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { Input } from '@/components/ui/Input'\r\nimport { Textarea } from '@/components/ui/Textarea'\r\nimport { Select } from '@/components/ui/Select'\r\nimport { Checkbox } from '@/components/ui/Checkbox'\r\nimport { Card } from '@/components/ui/Card'\r\nimport { Spinner } from '@/components/ui/Spinner'\r\nimport { Progress } from '@/components/ui/Progress'\r\nimport { Market, CustomField, Application } from '@/types'\r\nimport { useVendorApplications } from '@/features/applications/hooks/useApplications'\r\nimport { useAuthStore } from '@/features/auth/authStore'\r\nimport { cn } from '@/utils/cn'\r\nimport { Upload, X, FileText, Image, AlertCircle } from 'lucide-react'\r\n\r\ninterface ApplicationFormProps {\r\n  market: Market\r\n  existingApplication?: Application\r\n  onSuccess?: (application: Application) => void\r\n  onCancel?: () => void\r\n  className?: string\r\n}\r\n\r\ninterface UploadedFile {\r\n  id: string\r\n  name: string\r\n  size: number\r\n  type: string\r\n  url?: string\r\n  file: File\r\n}\r\n\r\n// Default form schema\r\nconst defaultFormSchema = z.object({\r\n  businessName: z.string().min(2, 'Business name is required'),\r\n  businessDescription: z.string().min(50, 'Description must be at least 50 characters'),\r\n  contactEmail: z.string().email('Valid email is required'),\r\n  contactPhone: z.string().min(10, 'Valid phone number is required'),\r\n  website: z.string().optional(),\r\n  experience: z.string().min(1, 'Experience level is required'),\r\n  certifications: z.array(z.string()).optional(),\r\n})\r\n\r\ninterface FormData {\r\n  businessName: string\r\n  businessDescription: string\r\n  contactEmail: string\r\n  contactPhone: string\r\n  website?: string\r\n  experience: string\r\n  certifications?: string[]\r\n  [key: string]: any\r\n}\r\n\r\nexport const ApplicationForm: React.FC<ApplicationFormProps> = ({\r\n  market,\r\n  existingApplication,\r\n  onSuccess,\r\n  onCancel,\r\n  className\r\n}) => {\r\n  const [customFieldValues, setCustomFieldValues] = useState<Record<string, any>>({})\r\n  const [uploadedFiles, setUploadedFiles] = useState<UploadedFile[]>([])\r\n  const [uploadErrors, setUploadErrors] = useState<string[]>([])\r\n  const [currentStep, setCurrentStep] = useState(0)\r\n  const [lastSavedAt, setLastSavedAt] = useState<string | null>(null)\r\n  const [isAutoSaving, setIsAutoSaving] = useState(false)\r\n  const [autoSaveError, setAutoSaveError] = useState<string | null>(null)\r\n  const fileInputRef = useRef<HTMLInputElement>(null)\r\n  const autoSaveTimeoutRef = useRef<number | null>(null)\r\n  const isInitialLoad = useRef(true)\r\n\r\n  const { user } = useAuthStore()\r\n  const { createApplication, updateApplication, submitApplication, isSubmitting } = useVendorApplications()\r\n\r\n  const customFieldNames = useMemo(() => {\r\n    return (market.applicationFields || [])\r\n      .map(field => field.name)\r\n      .filter(name => !['businessName', 'businessDescription', 'experience', 'contactEmail', 'contactPhone', 'website'].includes(name))\r\n  }, [market.applicationFields])\r\n\r\n  const steps = useMemo(() => ([\r\n    {\r\n      id: 'business',\r\n      label: 'Business Info',\r\n      description: 'Tell us about your business and experience.',\r\n      fields: ['businessName', 'businessDescription', 'experience']\r\n    },\r\n    {\r\n      id: 'contact',\r\n      label: 'Contact Details',\r\n      description: 'Provide the best way to reach you.',\r\n      fields: ['contactEmail', 'contactPhone', 'website']\r\n    },\r\n    {\r\n      id: 'additional',\r\n      label: 'Additional Details',\r\n      description: 'Share supporting details and documents.',\r\n      fields: ['certifications', ...customFieldNames]\r\n    }\r\n  ]), [customFieldNames])\r\n\r\n  // Create dynamic schema based on market's custom fields\r\n  const createDynamicSchema = (): z.ZodSchema<FormData> => {\r\n    let schema = defaultFormSchema\r\n\r\n    // Add custom fields validation\r\n    market.applicationFields?.forEach(field => {\r\n      let fieldSchema: z.ZodTypeAny = z.string()\r\n      \r\n      switch (field.type) {\r\n        case 'textarea':\r\n          fieldSchema = z.string()\r\n          if (field.validation?.minLength) {\r\n            fieldSchema = (fieldSchema as z.ZodString).min(field.validation.minLength, `${field.name} must be at least ${field.validation.minLength} characters`)\r\n          }\r\n          if (field.validation?.maxLength) {\r\n            fieldSchema = (fieldSchema as z.ZodString).max(field.validation.maxLength, `${field.name} must be less than ${field.validation.maxLength} characters`)\r\n          }\r\n          break\r\n        case 'select':\r\n          if (field.options && field.options.length > 0) {\r\n            fieldSchema = z.enum(field.options as [string, ...string[]])\r\n          }\r\n          break\r\n        case 'checkbox':\r\n          fieldSchema = z.array(z.string())\r\n          if (field.required) {\r\n            fieldSchema = (fieldSchema as z.ZodArray<z.ZodString>).min(1, `${field.name} is required`)\r\n          }\r\n          break\r\n        case 'radio':\r\n          if (field.options && field.options.length > 0) {\r\n            fieldSchema = z.enum(field.options as [string, ...string[]])\r\n          }\r\n          break\r\n        case 'file':\r\n          // File validation would be handled separately\r\n          fieldSchema = z.any()\r\n          break\r\n      }\r\n\r\n      if (field.required && field.type !== 'checkbox') {\r\n        fieldSchema = fieldSchema.refine(val => val !== undefined && val !== '', `${field.name} is required`)\r\n      }\r\n\r\n      // Create a new schema with the extended fields\r\n      schema = schema.extend({ [field.name]: fieldSchema }) as any\r\n    })\r\n\r\n    return schema\r\n  }\r\n\r\n  const schema = createDynamicSchema()\r\n  \r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors, isValid, isDirty },\r\n    setValue,\r\n    watch,\r\n    trigger,\r\n    getValues,\r\n  } = useForm<FormData>({\r\n    resolver: zodResolver(schema),\r\n    mode: 'onChange',\r\n  })\r\n\r\n  const watchedValues = watch()\r\n  const storageKey = useMemo(() => {\r\n    const userId = user?.id || 'guest'\r\n    return `application-draft-${market.id}-${userId}`\r\n  }, [market.id, user?.id])\r\n\r\n  // Initialize form with existing data or defaults\r\n  useEffect(() => {\r\n    if (existingApplication) {\r\n      // Populate form with existing application data\r\n      const data = existingApplication.submittedData || {}\r\n      setCustomFieldValues(existingApplication.customFields || {})\r\n\r\n      Object.keys(data).forEach(key => {\r\n        setValue(key as string, data[key])\r\n      })\r\n\r\n      if (existingApplication.customFields) {\r\n        Object.keys(existingApplication.customFields).forEach(key => {\r\n          setCustomFieldValues(prev => ({\r\n            ...prev,\r\n            [key]: existingApplication.customFields![key]\r\n          }))\r\n        })\r\n      }\r\n\r\n      if (existingApplication.updatedAt) {\r\n        setLastSavedAt(existingApplication.updatedAt)\r\n      }\r\n    } else {\r\n      setValue('contactEmail', user?.email || '')\r\n      setValue('contactPhone', '')\r\n      setValue('website', '')\r\n      setValue('certifications', [])\r\n    }\r\n  }, [existingApplication, setValue, user?.email])\r\n\r\n  useEffect(() => {\r\n    if (existingApplication) return\r\n\r\n    try {\r\n      const storedDraft = localStorage.getItem(storageKey)\r\n      if (!storedDraft) return\r\n\r\n      const parsedDraft = JSON.parse(storedDraft) as {\r\n        submittedData?: Record<string, any>\r\n        customFields?: Record<string, any>\r\n        savedAt?: string\r\n      }\r\n\r\n      if (parsedDraft.submittedData) {\r\n        Object.entries(parsedDraft.submittedData).forEach(([key, value]) => {\r\n          setValue(key as string, value)\r\n        })\r\n      }\r\n\r\n      if (parsedDraft.customFields) {\r\n        setCustomFieldValues(parsedDraft.customFields)\r\n      }\r\n\r\n      if (parsedDraft.savedAt) {\r\n        setLastSavedAt(parsedDraft.savedAt)\r\n      }\r\n    } catch (error) {\r\n      console.warn('Failed to load saved draft', error)\r\n    }\r\n  }, [existingApplication, setValue, storageKey])\r\n\r\n  useEffect(() => {\r\n    if (existingApplication) return\r\n    if (!isDirty) return\r\n\r\n    if (isInitialLoad.current) {\r\n      isInitialLoad.current = false\r\n      return\r\n    }\r\n\r\n    if (autoSaveTimeoutRef.current) {\r\n      window.clearTimeout(autoSaveTimeoutRef.current)\r\n    }\r\n\r\n    setIsAutoSaving(true)\r\n    setAutoSaveError(null)\r\n\r\n    autoSaveTimeoutRef.current = window.setTimeout(() => {\r\n      try {\r\n        const savedAt = new Date().toISOString()\r\n        const draftPayload = {\r\n          submittedData: {\r\n            ...watchedValues,\r\n            ...customFieldValues\r\n          },\r\n          customFields: customFieldValues,\r\n          savedAt\r\n        }\r\n        localStorage.setItem(storageKey, JSON.stringify(draftPayload))\r\n        setLastSavedAt(savedAt)\r\n      } catch (error) {\r\n        setAutoSaveError('Auto-save failed. Please use Save Draft.')\r\n      } finally {\r\n        setIsAutoSaving(false)\r\n      }\r\n    }, 900)\r\n\r\n    return () => {\r\n      if (autoSaveTimeoutRef.current) {\r\n        window.clearTimeout(autoSaveTimeoutRef.current)\r\n      }\r\n    }\r\n  }, [customFieldValues, existingApplication, isDirty, storageKey, watchedValues])\r\n\r\n  // Handle custom field changes\r\n  const handleCustomFieldChange = (fieldName: string, value: any) => {\r\n    setCustomFieldValues(prev => ({\r\n      ...prev,\r\n      [fieldName]: value\r\n    }))\r\n  }\r\n\r\n  // File upload handlers\r\n  const handleFileUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const files = Array.from(event.target.files || [])\r\n    const newFiles: UploadedFile[] = []\r\n    const errors: string[] = []\r\n\r\n    files.forEach(file => {\r\n      // Validate file size (max 10MB)\r\n      if (file.size > 10 * 1024 * 1024) {\r\n        errors.push(`${file.name}: File size must be less than 10MB`)\r\n        return\r\n      }\r\n\r\n      // Validate file type\r\n      const allowedTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'image/jpeg', 'image/png', 'image/gif', 'image/webp']\r\n      if (!allowedTypes.includes(file.type)) {\r\n        errors.push(`${file.name}: Unsupported file type`)\r\n        return\r\n      }\r\n\r\n      // Create uploaded file object\r\n      const uploadedFile: UploadedFile = {\r\n        id: Math.random().toString(36).substr(2, 9),\r\n        name: file.name,\r\n        size: file.size,\r\n        type: file.type,\r\n        file\r\n      }\r\n\r\n      newFiles.push(uploadedFile)\r\n    })\r\n\r\n    if (errors.length > 0) {\r\n      setUploadErrors(errors)\r\n    } else {\r\n      setUploadErrors([])\r\n    }\r\n\r\n    setUploadedFiles(prev => [...prev, ...newFiles])\r\n  }\r\n\r\n  const removeFile = (fileId: string) => {\r\n    setUploadedFiles(prev => prev.filter(f => f.id !== fileId))\r\n  }\r\n\r\n  // Render custom field\r\n  const renderCustomField = (field: CustomField) => {\r\n    const value = customFieldValues[field.name] || ''\r\n    const error = (errors as any)[field.name]?.message\r\n\r\n    switch (field.type) {\r\n      case 'text':\r\n        return (\r\n          <div key={field.id} className=\"space-y-2\">\r\n            <label className=\"text-sm font-medium\">\r\n              {field.name}\r\n              {field.required && <span className=\"text-destructive ml-1\">*</span>}\r\n            </label>\r\n            <Input\r\n              {...register(field.name)}\r\n              value={value}\r\n              onChange={(e) => handleCustomFieldChange(field.name, e.target.value)}\r\n              placeholder={`Enter ${field.name.toLowerCase()}`}\r\n              className={error ? 'border-destructive' : ''}\r\n            />\r\n            {error && <p className=\"text-sm text-destructive\">{error}</p>}\r\n          </div>\r\n        )\r\n\r\n      case 'textarea':\r\n        return (\r\n          <div key={field.id} className=\"space-y-2\">\r\n            <label className=\"text-sm font-medium\">\r\n              {field.name}\r\n              {field.required && <span className=\"text-destructive ml-1\">*</span>}\r\n            </label>\r\n            <Textarea\r\n              {...register(field.name)}\r\n              value={value}\r\n              onChange={(e) => handleCustomFieldChange(field.name, e.target.value)}\r\n              placeholder={`Enter ${field.name.toLowerCase()}`}\r\n              rows={4}\r\n              className={error ? 'border-destructive' : ''}\r\n            />\r\n            {error && <p className=\"text-sm text-destructive\">{error}</p>}\r\n          </div>\r\n        )\r\n\r\n      case 'select':\r\n        return (\r\n          <div key={field.id} className=\"space-y-2\">\r\n            <label className=\"text-sm font-medium\">\r\n              {field.name}\r\n              {field.required && <span className=\"text-destructive ml-1\">*</span>}\r\n            </label>\r\n            <Select\r\n              value={value}\r\n              onValueChange={(val) => handleCustomFieldChange(field.name, val)}\r\n              className={error ? 'border-destructive' : ''}\r\n              options={[\r\n                { value: '', label: `Select ${field.name.toLowerCase()}` },\r\n                ...field.options?.map(option => ({ value: option, label: option })) || []\r\n              ]}\r\n            />\r\n            {error && <p className=\"text-sm text-destructive\">{error}</p>}\r\n          </div>\r\n        )\r\n\r\n      case 'checkbox': {\r\n        const checkboxValues = Array.isArray(value) ? value : []\r\n        return (\r\n          <div key={field.id} className=\"space-y-2\">\r\n            <label className=\"text-sm font-medium\">\r\n              {field.name}\r\n              {field.required && <span className=\"text-destructive ml-1\">*</span>}\r\n            </label>\r\n            <div className=\"space-y-2\">\r\n              {field.options?.map(option => (\r\n                <Checkbox\r\n                  key={option}\r\n                  checked={checkboxValues.includes(option)}\r\n                  onValueChange={(checked: boolean) => {\r\n                    const currentValues = checkboxValues\r\n                    if (checked) {\r\n                      handleCustomFieldChange(field.name, [...currentValues, option])\r\n                    } else {\r\n                      handleCustomFieldChange(field.name, currentValues.filter(v => v !== option))\r\n                    }\r\n                  }}\r\n                  label={option}\r\n                />\r\n              ))}\r\n            </div>\r\n            {error && <p className=\"text-sm text-destructive\">{error}</p>}\r\n          </div>\r\n        )\r\n      }\r\n\r\n      case 'radio':\r\n        return (\r\n          <div key={field.id} className=\"space-y-2\">\r\n            <label className=\"text-sm font-medium\">\r\n              {field.name}\r\n              {field.required && <span className=\"text-destructive ml-1\">*</span>}\r\n            </label>\r\n            <div className=\"space-y-2\">\r\n              {field.options?.map(option => (\r\n                <div key={option} className=\"flex items-center space-x-2\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    id={`${field.name}-${option}`}\r\n                    name={field.name}\r\n                    value={option}\r\n                    checked={value === option}\r\n                    onChange={(e) => handleCustomFieldChange(field.name, e.target.value)}\r\n                    className=\"h-4 w-4 text-accent\"\r\n                  />\r\n                  <label htmlFor={`${field.name}-${option}`} className=\"text-sm\">\r\n                    {option}\r\n                  </label>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            {error && <p className=\"text-sm text-destructive\">{error}</p>}\r\n          </div>\r\n        )\r\n\r\n      case 'file':\r\n        return (\r\n          <div key={field.id} className=\"space-y-2\">\r\n            <label className=\"text-sm font-medium\">\r\n              {field.name}\r\n              {field.required && <span className=\"text-destructive ml-1\">*</span>}\r\n            </label>\r\n            \r\n            {/* File Upload Area */}\r\n            <div className=\"border-2 border-dashed border-muted-foreground/25 rounded-lg p-6 text-center\">\r\n              <Upload className=\"mx-auto h-12 w-12 text-muted-foreground\" />\r\n              <div className=\"mt-4\">\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"outline\"\r\n                  onClick={() => fileInputRef.current?.click()}\r\n                >\r\n                  Choose Files\r\n                </Button>\r\n                <p className=\"mt-2 text-sm text-muted-foreground\">\r\n                  or drag and drop files here\r\n                </p>\r\n              </div>\r\n              \r\n              <input\r\n                ref={fileInputRef}\r\n                type=\"file\"\r\n                accept=\".pdf,.doc,.docx,.jpg,.jpeg,.png,.gif,.webp\"\r\n                multiple\r\n                className=\"hidden\"\r\n                onChange={handleFileUpload}\r\n              />\r\n            </div>\r\n            \r\n            {/* Uploaded Files List */}\r\n            {uploadedFiles.length > 0 && (\r\n              <div className=\"space-y-2\">\r\n                <p className=\"text-sm font-medium\">Uploaded Files:</p>\r\n                {uploadedFiles.map((file) => (\r\n                  <div key={file.id} className=\"flex items-center justify-between p-2 bg-muted rounded\">\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      {file.type.startsWith('image/') ? (\r\n                        <Image className=\"h-4 w-4 text-muted-foreground\" />\r\n                      ) : (\r\n                        <FileText className=\"h-4 w-4 text-muted-foreground\" />\r\n                      )}\r\n                      <span className=\"text-sm\">{file.name}</span>\r\n                      <span className=\"text-xs text-muted-foreground\">\r\n                        ({(file.size / 1024 / 1024).toFixed(2)} MB)\r\n                      </span>\r\n                    </div>\r\n                    <Button\r\n                      type=\"button\"\r\n                      variant=\"ghost\"\r\n                      size=\"sm\"\r\n                      onClick={() => removeFile(file.id)}\r\n                    >\r\n                      <X className=\"h-4 w-4\" />\r\n                    </Button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n            \r\n            {uploadErrors.length > 0 && (\r\n              <div className=\"space-y-1\">\r\n                {uploadErrors.map((error, index) => (\r\n                  <p key={index} className=\"text-sm text-destructive flex items-center\">\r\n                    <AlertCircle className=\"h-3 w-3 mr-1\" />\r\n                    {error}\r\n                  </p>\r\n                ))}\r\n              </div>\r\n            )}\r\n            \r\n            {error && <p className=\"text-sm text-destructive\">{error}</p>}\r\n          </div>\r\n        )\r\n\r\n      default:\r\n        return null\r\n    }\r\n  }\r\n\r\n  const saveApplication = async (data: FormData, draft: boolean) => {\r\n    try {\r\n      const applicationData = {\r\n        marketId: market.id,\r\n        market,\r\n        submittedData: {\r\n          ...data,\r\n          ...customFieldValues\r\n        },\r\n        customFields: customFieldValues,\r\n        status: draft ? 'draft' as const : 'submitted' as const,\r\n      }\r\n\r\n      let result: Application | null = null\r\n\r\n      if (existingApplication) {\r\n        // Update existing application\r\n        const success = await updateApplication(existingApplication.id, applicationData)\r\n        if (success && onSuccess) {\r\n          // If updating draft, might need to submit\r\n          if (!draft && existingApplication.status === 'draft') {\r\n            await submitApplication(existingApplication.id)\r\n          }\r\n          if (!draft) {\r\n            localStorage.removeItem(storageKey)\r\n          }\r\n          onSuccess(existingApplication)\r\n        }\r\n      } else {\r\n        // Create new application\r\n        result = await createApplication(applicationData)\r\n        if (result && onSuccess) {\r\n          if (!draft) {\r\n            await submitApplication(result.id)\r\n            localStorage.removeItem(storageKey)\r\n          }\r\n          onSuccess(result)\r\n        }\r\n      }\r\n      if (draft) {\r\n        const savedAt = new Date().toISOString()\r\n        setLastSavedAt(savedAt)\r\n      }\r\n    } catch (error) {\r\n      console.error('Error submitting application:', error)\r\n    }\r\n  }\r\n\r\n  const onSubmit = async (data: FormData) => {\r\n    await saveApplication(data, false)\r\n  }\r\n\r\n  const handleSaveDraft = async () => {\r\n    const data = getValues()\r\n    await saveApplication(data, true)\r\n  }\r\n\r\n  const handleSubmitForm = () => {\r\n    handleSubmit(onSubmit)()\r\n  }\r\n\r\n  const handleNextStep = async () => {\r\n    const fields = (steps[currentStep]?.fields || []) as string[]\r\n    const isStepValid = await trigger(fields)\r\n    if (!isStepValid) return\r\n    setCurrentStep(prev => Math.min(prev + 1, steps.length - 1))\r\n  }\r\n\r\n  const handlePreviousStep = () => {\r\n    setCurrentStep(prev => Math.max(prev - 1, 0))\r\n  }\r\n\r\n  const progressValue = Math.round(((currentStep + 1) / steps.length) * 100)\r\n\r\n  return (\r\n    <div className={cn('max-w-2xl mx-auto', className)}>\r\n      <Card className=\"p-6\">\r\n        <div className=\"mb-6 space-y-4\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold mb-2\">Apply to {market.name}</h2>\r\n            <p className=\"text-muted-foreground\">\r\n              Complete the application form below. Fields marked with * are required.\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"space-y-2 rounded-lg border bg-muted/30 p-4\">\r\n            <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between\">\r\n              <span className=\"text-sm font-medium\">\r\n                Step {currentStep + 1} of {steps.length}  {steps[currentStep]?.label}\r\n              </span>\r\n              <span className=\"text-xs text-muted-foreground\">{progressValue}% complete</span>\r\n            </div>\r\n            <Progress value={progressValue} className=\"h-2\" />\r\n            <p className=\"text-xs text-muted-foreground\">{steps[currentStep]?.description}</p>\r\n            <div className=\"flex flex-wrap items-center gap-2 text-xs text-muted-foreground\">\r\n              {isAutoSaving && <span>Saving draft...</span>}\r\n              {!isAutoSaving && lastSavedAt && (\r\n                <span>Last saved {new Date(lastSavedAt).toLocaleTimeString()}</span>\r\n              )}\r\n              {autoSaveError && <span className=\"text-destructive\">{autoSaveError}</span>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {Object.keys(errors).length > 0 && (\r\n          <div className=\"rounded-lg border border-destructive/30 bg-destructive/5 p-4 text-sm\">\r\n            <p className=\"font-medium text-destructive\">Please review the highlighted fields:</p>\r\n            <ul className=\"mt-2 list-disc space-y-1 pl-5 text-destructive\">\r\n              {Object.entries(errors).map(([field, error]) => (\r\n                <li key={field}>{error?.message as string}</li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        )}\r\n\r\n        <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\r\n          {currentStep === 0 && (\r\n            <div className=\"space-y-4\">\r\n              <h3 className=\"text-lg font-semibold\">Basic Information</h3>\r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <label className=\"text-sm font-medium\">\r\n                    Business Name <span className=\"text-destructive\">*</span>\r\n                  </label>\r\n                  <Input\r\n                    {...register('businessName')}\r\n                    placeholder=\"Enter your business name\"\r\n                    className={errors.businessName ? 'border-destructive' : ''}\r\n                  />\r\n                  {errors.businessName && (\r\n                    <p className=\"text-sm text-destructive\">{errors.businessName.message}</p>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <label className=\"text-sm font-medium\">\r\n                    Experience Level <span className=\"text-destructive\">*</span>\r\n                  </label>\r\n                  <Select\r\n                    {...register('experience')}\r\n                    className={errors.experience ? 'border-destructive' : ''}\r\n                    options={[\r\n                      { value: '', label: 'Select experience level' },\r\n                      { value: '1-2 years', label: '1-2 years' },\r\n                      { value: '3-5 years', label: '3-5 years' },\r\n                      { value: '5-10 years', label: '5-10 years' },\r\n                      { value: '10+ years', label: '10+ years' },\r\n                    ]}\r\n                  />\r\n                  {errors.experience && (\r\n                    <p className=\"text-sm text-destructive\">{errors.experience.message}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-sm font-medium\">\r\n                  Business Description <span className=\"text-destructive\">*</span>\r\n                </label>\r\n                <Textarea\r\n                  {...register('businessDescription')}\r\n                  placeholder=\"Describe your business, products, and services\"\r\n                  rows={4}\r\n                  className={errors.businessDescription ? 'border-destructive' : ''}\r\n                />\r\n                {errors.businessDescription && (\r\n                  <p className=\"text-sm text-destructive\">{errors.businessDescription.message}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {currentStep === 1 && (\r\n            <div className=\"space-y-4\">\r\n              <h3 className=\"text-lg font-semibold\">Contact Information</h3>\r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <label className=\"text-sm font-medium\">\r\n                    Email <span className=\"text-destructive\">*</span>\r\n                  </label>\r\n                  <Input\r\n                    {...register('contactEmail')}\r\n                    type=\"email\"\r\n                    placeholder=\"your@email.com\"\r\n                    className={errors.contactEmail ? 'border-destructive' : ''}\r\n                  />\r\n                  {errors.contactEmail && (\r\n                    <p className=\"text-sm text-destructive\">{errors.contactEmail.message}</p>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <label className=\"text-sm font-medium\">\r\n                    Phone <span className=\"text-destructive\">*</span>\r\n                  </label>\r\n                  <Input\r\n                    {...register('contactPhone')}\r\n                    type=\"tel\"\r\n                    placeholder=\"(555) 123-4567\"\r\n                    className={errors.contactPhone ? 'border-destructive' : ''}\r\n                  />\r\n                  {errors.contactPhone && (\r\n                    <p className=\"text-sm text-destructive\">{errors.contactPhone.message}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-sm font-medium\">Website</label>\r\n                <Input\r\n                  {...register('website')}\r\n                  type=\"url\"\r\n                  placeholder=\"https://your-website.com\"\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {currentStep === 2 && (\r\n            <>\r\n              {market.applicationFields && market.applicationFields.length > 0 && (\r\n                <div className=\"space-y-4\">\r\n                  <h3 className=\"text-lg font-semibold\">Additional Information</h3>\r\n                  <div className=\"space-y-4\">\r\n                    {market.applicationFields.map(renderCustomField)}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"space-y-4\">\r\n                <h3 className=\"text-lg font-semibold\">Certifications</h3>\r\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\r\n                  {['Organic Certified', 'FDA Approved', 'Local Producer', 'Vegan', 'Gluten-Free', 'Fair Trade'].map(cert => (\r\n                    <Checkbox\r\n                      key={cert}\r\n                      checked={watch('certifications')?.includes(cert) || false}\r\n                      onValueChange={(checked: boolean) => {\r\n                        const current = watch('certifications') || []\r\n                        if (checked) {\r\n                          setValue('certifications', [...current, cert])\r\n                        } else {\r\n                          setValue('certifications', current.filter(c => c !== cert))\r\n                        }\r\n                      }}\r\n                      label={cert}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex flex-col gap-4 pt-6 border-t sm:flex-row sm:items-center sm:justify-between\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              onClick={onCancel}\r\n              disabled={isSubmitting}\r\n            >\r\n              Cancel\r\n            </Button>\r\n\r\n            <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center\">\r\n              {currentStep > 0 && (\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"outline\"\r\n                  onClick={handlePreviousStep}\r\n                  disabled={isSubmitting}\r\n                >\r\n                  Back\r\n                </Button>\r\n              )}\r\n\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"outline\"\r\n                onClick={handleSaveDraft}\r\n                disabled={isSubmitting}\r\n              >\r\n                {isSubmitting ? (\r\n                  <Spinner className=\"h-4 w-4 mr-2\" />\r\n                ) : (\r\n                  'Save Draft'\r\n                )}\r\n              </Button>\r\n\r\n              {currentStep < steps.length - 1 ? (\r\n                <Button\r\n                  type=\"button\"\r\n                  onClick={handleNextStep}\r\n                  disabled={isSubmitting}\r\n                >\r\n                  Continue\r\n                </Button>\r\n              ) : (\r\n                <Button\r\n                  type=\"button\"\r\n                  onClick={handleSubmitForm}\r\n                  disabled={isSubmitting || !isValid}\r\n                >\r\n                  {isSubmitting ? (\r\n                    <Spinner className=\"h-4 w-4 mr-2\" />\r\n                  ) : null}\r\n                  Submit Application\r\n                </Button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ApplicationStatus.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\BottomNav.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":53,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1802,1805],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1802,1805],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":58,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":58,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2025,2028],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2025,2028],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Link, useLocation } from 'react-router-dom'\r\nimport { UserRole } from '@/types'\r\nimport { cn } from '@/utils/cn'\r\nimport {\r\n  LayoutDashboard,\r\n  Store,\r\n  FileText,\r\n  Calendar,\r\n  CheckSquare,\r\n  Settings,\r\n  HelpCircle,\r\n  BarChart3,\r\n  Users,\r\n  MapPin,\r\n  Shield,\r\n} from 'lucide-react'\r\n\r\ninterface BottomNavProps {\r\n  role: UserRole\r\n}\r\n\r\nconst navigationConfig = {\r\n  visitor: [\r\n    { name: 'Markets', href: '/markets', icon: Store },\r\n    { name: 'Events', href: '/events', icon: Calendar },\r\n    { name: 'About', href: '/about', icon: HelpCircle },\r\n  ],\r\n  vendor: [\r\n    { name: 'Dashboard', href: '/vendor/dashboard', icon: LayoutDashboard },\r\n    { name: 'Applications', href: '/vendor/applications', icon: FileText },\r\n    { name: 'Markets', href: '/markets', icon: Store },\r\n    { name: 'Todos', href: '/vendor/todos', icon: CheckSquare },\r\n    { name: 'More', href: '/vendor/more', icon: Settings },\r\n  ],\r\n  promoter: [\r\n    { name: 'Dashboard', href: '/promoter/dashboard', icon: LayoutDashboard },\r\n    { name: 'Markets', href: '/promoter/markets', icon: MapPin },\r\n    { name: 'Applications', href: '/promoter/applications', icon: FileText },\r\n    { name: 'Analytics', href: '/promoter/analytics', icon: BarChart3 },\r\n    { name: 'More', href: '/promoter/more', icon: Settings },\r\n  ],\r\n  admin: [\r\n    { name: 'Dashboard', href: '/admin/dashboard', icon: LayoutDashboard },\r\n    { name: 'Users', href: '/admin/users', icon: Users },\r\n    { name: 'Markets', href: '/admin/markets', icon: MapPin },\r\n    { name: 'Moderation', href: '/admin/moderation', icon: Shield },\r\n    { name: 'More', href: '/admin/more', icon: Settings },\r\n  ],\r\n}\r\n\r\nexport function BottomNav({ role }: BottomNavProps) {\r\n  const location = useLocation()\r\n  const navigation = (navigationConfig as any)[role] || []\r\n\r\n  return (\r\n    <div className=\"fixed bottom-0 left-0 right-0 z-50 bg-surface border-t border-border\">\r\n      <nav className=\"flex justify-around items-center py-2 px-4\">\r\n        {navigation.map((item: any) => {\r\n          const isActive = location.pathname === item.href\r\n          return (\r\n            <Link\r\n              key={item.name}\r\n              to={item.href}\r\n              className={cn(\r\n                'flex min-h-[44px] min-w-[44px] flex-col items-center justify-center rounded-md px-3 py-2 text-xs font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background',\r\n                isActive\r\n                  ? 'text-accent'\r\n                  : 'text-muted-foreground hover:text-foreground'\r\n              )}\r\n            >\r\n              <item.icon\r\n                className={cn(\r\n                  'h-5 w-5 mb-1',\r\n                  isActive ? 'text-accent' : 'text-muted-foreground'\r\n                )}\r\n              />\r\n              <span className=\"truncate\">{item.name}</span>\r\n            </Link>\r\n          )\r\n        })}\r\n      </nav>\r\n    </div>\r\n  )\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\CommentForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\CommentItem.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\CommentList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\CommentReactions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\EmailAlertsSettings.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ErrorBoundary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ExpenseChart.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":116,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":116,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3628,3631],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3628,3631],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":121,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":121,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3882,3885],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3882,3885],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react'\r\nimport { \r\n  BarChart, \r\n  Bar, \r\n  XAxis, \r\n  YAxis, \r\n  CartesianGrid, \r\n  Tooltip, \r\n  ResponsiveContainer,\r\n  PieChart,\r\n  Pie,\r\n  Cell,\r\n  LineChart,\r\n  Line\r\n} from 'recharts'\r\nimport { TrendingUp, TrendingDown, DollarSign } from 'lucide-react'\r\nimport { Expense, ExpenseCategory } from '@/types'\r\nimport { Card } from '@/components/ui/Card'\r\nimport { cn } from '@/utils/cn'\r\n\r\ninterface ExpenseChartProps {\r\n  expenses: Expense[]\r\n  className?: string\r\n}\r\n\r\nconst COLORS = [\r\n  '#8B5CF6', // purple\r\n  '#3B82F6', // blue\r\n  '#6366F1', // indigo\r\n  '#10B981', // emerald\r\n  '#F59E0B', // amber\r\n  '#EF4444', // red\r\n  '#F97316', // orange\r\n  '#84CC16', // lime\r\n  '#EC4899', // pink\r\n  '#6B7280'  // gray\r\n]\r\n\r\nconst categoryConfig = {\r\n  'booth-fee': { label: 'Booth Fee', color: COLORS[0] },\r\n  'transportation': { label: 'Transportation', color: COLORS[1] },\r\n  'accommodation': { label: 'Accommodation', color: COLORS[2] },\r\n  'supplies': { label: 'Supplies', color: COLORS[3] },\r\n  'equipment': { label: 'Equipment', color: COLORS[4] },\r\n  'marketing': { label: 'Marketing', color: COLORS[5] },\r\n  'food': { label: 'Food', color: COLORS[6] },\r\n  'fuel': { label: 'Fuel', color: COLORS[7] },\r\n  'insurance': { label: 'Insurance', color: COLORS[8] },\r\n  'other': { label: 'Other', color: COLORS[9] }\r\n}\r\n\r\nexport const ExpenseChart: React.FC<ExpenseChartProps> = React.memo(({\r\n  expenses,\r\n  className\r\n}) => {\r\n  // Group expenses by category\r\n  const expensesByCategory = React.useMemo(() => {\r\n    const grouped = expenses.reduce((acc, expense) => {\r\n      const category = expense.category\r\n      if (!acc[category]) {\r\n        acc[category] = { total: 0, count: 0, expenses: [] }\r\n      }\r\n      acc[category].total += expense.amount\r\n      acc[category].count += 1\r\n      acc[category].expenses.push(expense)\r\n      return acc\r\n    }, {} as Record<ExpenseCategory, { total: number; count: number; expenses: Expense[] }>)\r\n\r\n    return Object.entries(grouped).map(([category, data]) => ({\r\n      category,\r\n      label: categoryConfig[category as ExpenseCategory]?.label || category,\r\n      total: data.total,\r\n      count: data.count,\r\n      color: categoryConfig[category as ExpenseCategory]?.color || COLORS[9]\r\n    })).sort((a, b) => b.total - a.total)\r\n  }, [expenses])\r\n\r\n  // Group expenses by month\r\n  const expensesByMonth = React.useMemo(() => {\r\n    const grouped = expenses.reduce((acc, expense) => {\r\n      const month = new Date(expense.date).toISOString().slice(0, 7) // YYYY-MM\r\n      if (!acc[month]) {\r\n        acc[month] = { total: 0, count: 0 }\r\n      }\r\n      acc[month].total += expense.amount\r\n      acc[month].count += 1\r\n      return acc\r\n    }, {} as Record<string, { total: number; count: number }>)\r\n\r\n    return Object.entries(grouped)\r\n      .map(([month, data]) => ({\r\n        month,\r\n        total: data.total,\r\n        count: data.count,\r\n        label: new Date(month + '-01').toLocaleDateString('en-US', { \r\n          year: 'numeric', \r\n          month: 'short' \r\n        })\r\n      }))\r\n      .sort((a, b) => a.month.localeCompare(b.month))\r\n  }, [expenses])\r\n\r\n  // Calculate trends\r\n  const totalExpenses = expenses.reduce((sum, expense) => sum + expense.amount, 0)\r\n  const averagePerMonth = expensesByMonth.length > 0 \r\n    ? expensesByMonth.reduce((sum, month) => sum + month.total, 0) / expensesByMonth.length\r\n    : 0\r\n\r\n  const formatCurrency = (value: number) => {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD'\r\n    }).format(value)\r\n  }\r\n\r\n  const CustomTooltip = ({ active, payload, label }: any) => {\r\n    if (active && payload && payload.length) {\r\n      return (\r\n        <div className=\"bg-white p-3 border border-gray-200 rounded-lg shadow-lg\">\r\n          <p className=\"font-medium text-gray-900\">{label}</p>\r\n          {payload.map((entry: any, index: number) => (\r\n            <p key={index} className=\"text-sm\" style={{ color: entry.color }}>\r\n              {entry.name}: {formatCurrency(entry.value)}\r\n            </p>\r\n          ))}\r\n        </div>\r\n      )\r\n    }\r\n    return null\r\n  }\r\n\r\n  if (expenses.length === 0) {\r\n    return (\r\n      <Card className={cn(\"p-6\", className)}>\r\n        <div className=\"text-center text-gray-500\">\r\n          <DollarSign className=\"w-12 h-12 mx-auto mb-3 text-gray-300\" />\r\n          <h3 className=\"text-lg font-medium mb-2\">No expenses yet</h3>\r\n          <p className=\"text-sm\">Start tracking your market expenses to see charts and insights</p>\r\n        </div>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className={cn(\"space-y-6\", className)}>\r\n      {/* Summary Stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n        <Card className=\"p-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm text-gray-600\">Total Expenses</p>\r\n              <p className=\"text-2xl font-bold text-gray-900\">{formatCurrency(totalExpenses)}</p>\r\n            </div>\r\n            <div className=\"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center\">\r\n              <DollarSign className=\"w-5 h-5 text-purple-600\" />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm text-gray-600\">Average/Month</p>\r\n              <p className=\"text-2xl font-bold text-gray-900\">{formatCurrency(averagePerMonth)}</p>\r\n            </div>\r\n            <div className=\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\">\r\n              <TrendingUp className=\"w-5 h-5 text-blue-600\" />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm text-gray-600\">Categories</p>\r\n              <p className=\"text-2xl font-bold text-gray-900\">{expensesByCategory.length}</p>\r\n            </div>\r\n            <div className=\"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center\">\r\n              <TrendingDown className=\"w-5 h-5 text-green-600\" />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Expenses by Category (Pie Chart) */}\r\n      <Card className=\"p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Expenses by Category</h3>\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n          <div className=\"h-80\">\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n              <PieChart>\r\n                <Pie\r\n                  data={expensesByCategory}\r\n                  cx=\"50%\"\r\n                  cy=\"50%\"\r\n                  labelLine={false}\r\n                  label={({ label, percent }) => `${label} ${(percent * 100).toFixed(0)}%`}\r\n                  outerRadius={80}\r\n                  fill=\"#8884d8\"\r\n                  dataKey=\"total\"\r\n                >\r\n                  {expensesByCategory.map((entry, index) => (\r\n                    <Cell key={`cell-${index}`} fill={entry.color} />\r\n                  ))}\r\n                </Pie>\r\n                <Tooltip formatter={(value: number) => formatCurrency(value)} />\r\n              </PieChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n          \r\n          <div className=\"space-y-3\">\r\n            <h4 className=\"font-medium text-gray-900\">Category Breakdown</h4>\r\n            {expensesByCategory.map((category) => {\r\n              const percentage = totalExpenses > 0 ? (category.total / totalExpenses) * 100 : 0\r\n              return (\r\n                <div key={category.category} className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <div \r\n                      className=\"w-3 h-3 rounded-full\"\r\n                      style={{ backgroundColor: category.color }}\r\n                    />\r\n                    <span className=\"text-sm text-gray-700\">{category.label}</span>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <div className=\"text-sm font-medium text-gray-900\">\r\n                      {formatCurrency(category.total)}\r\n                    </div>\r\n                    <div className=\"text-xs text-gray-500\">\r\n                      {percentage.toFixed(1)}%\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )\r\n            })}\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Monthly Trends (Line Chart) */}\r\n      {expensesByMonth.length > 1 && (\r\n        <Card className=\"p-6\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Monthly Spending Trends</h3>\r\n          <div className=\"h-80\">\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n              <LineChart data={expensesByMonth}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis \r\n                  dataKey=\"label\" \r\n                  tick={{ fontSize: 12 }}\r\n                  angle={-45}\r\n                  textAnchor=\"end\"\r\n                  height={60}\r\n                />\r\n                <YAxis \r\n                  tick={{ fontSize: 12 }}\r\n                  tickFormatter={(value) => `$${value}`}\r\n                />\r\n                <Tooltip \r\n                  content={<CustomTooltip />}\r\n                  formatter={(value: number) => [formatCurrency(value), 'Expenses']}\r\n                />\r\n                <Line \r\n                  type=\"monotone\" \r\n                  dataKey=\"total\" \r\n                  stroke=\"#8B5CF6\" \r\n                  strokeWidth={3}\r\n                  dot={{ fill: '#8B5CF6', strokeWidth: 2, r: 4 }}\r\n                  activeDot={{ r: 6, stroke: '#8B5CF6', strokeWidth: 2 }}\r\n                />\r\n              </LineChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Category Comparison (Bar Chart) */}\r\n      <Card className=\"p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Category Comparison</h3>\r\n        <div className=\"h-80\">\r\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n            <BarChart data={expensesByCategory} margin={{ top: 20, right: 30, left: 20, bottom: 5 }}>\r\n              <CartesianGrid strokeDasharray=\"3 3\" />\r\n              <XAxis \r\n                dataKey=\"label\" \r\n                tick={{ fontSize: 12 }}\r\n                angle={-45}\r\n                textAnchor=\"end\"\r\n                height={60}\r\n              />\r\n              <YAxis \r\n                tick={{ fontSize: 12 }}\r\n                tickFormatter={(value) => `$${value}`}\r\n              />\r\n              <Tooltip \r\n                content={<CustomTooltip />}\r\n                formatter={(value: number) => [formatCurrency(value), 'Total']}\r\n              />\r\n              <Bar dataKey=\"total\" fill=\"#8B5CF6\" radius={[4, 4, 0, 0]} />\r\n            </BarChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Insights */}\r\n      <Card className=\"p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Spending Insights</h3>\r\n        <div className=\"space-y-3\">\r\n          {expensesByCategory.length > 0 && (\r\n            <div className=\"flex items-start gap-3 p-3 bg-blue-50 rounded-lg\">\r\n              <TrendingUp className=\"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0\" />\r\n              <div>\r\n                <p className=\"text-sm font-medium text-blue-800\">\r\n                  Top spending category\r\n                </p>\r\n                <p className=\"text-xs text-blue-600\">\r\n                  {expensesByCategory[0].label} accounts for {((expensesByCategory[0].total / totalExpenses) * 100).toFixed(1)}% of your total expenses\r\n                </p>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {expensesByMonth.length > 1 && (\r\n            <div className=\"flex items-start gap-3 p-3 bg-green-50 rounded-lg\">\r\n              <DollarSign className=\"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0\" />\r\n              <div>\r\n                <p className=\"text-sm font-medium text-green-800\">\r\n                  Average monthly spending\r\n                </p>\r\n                <p className=\"text-xs text-green-600\">\r\n                  You spend approximately {formatCurrency(averagePerMonth)} per month on market-related expenses\r\n                </p>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {expenses.length > 0 && (\r\n            <div className=\"flex items-start gap-3 p-3 bg-purple-50 rounded-lg\">\r\n              <TrendingDown className=\"w-5 h-5 text-purple-600 mt-0.5 flex-shrink-0\" />\r\n              <div>\r\n                <p className=\"text-sm font-medium text-purple-800\">\r\n                  Expense tracking\r\n                </p>\r\n                <p className=\"text-xs text-purple-600\">\r\n                  You've tracked {expenses.length} expense{expenses.length !== 1 ? 's' : ''} across {expensesByCategory.length} categories\r\n                </p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  )\r\n})","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ExpenseForm.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":126,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":126,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4264,4267],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4264,4267],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react'\r\nimport { format } from 'date-fns'\r\nimport { DollarSign, Calendar, FileText, Tag, AlertCircle } from 'lucide-react'\r\nimport { Expense, ExpenseCategory } from '@/types'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { Input } from '@/components/ui/Input'\r\nimport { Textarea } from '@/components/ui/Textarea'\r\nimport { Select } from '@/components/ui/Select'\r\nimport { Modal } from '@/components/ui/Modal'\r\nimport { Badge } from '@/components/ui/Badge'\r\nimport { cn } from '@/utils/cn'\r\n\r\ninterface ExpenseFormProps {\r\n  isOpen: boolean\r\n  onClose: () => void\r\n  onSubmit: (expense: Omit<Expense, 'id' | 'createdAt' | 'updatedAt'>) => void\r\n  editingExpense?: Expense | null\r\n  isLoading?: boolean\r\n  marketId: string\r\n}\r\n\r\nconst categories: { value: ExpenseCategory; label: string; description: string }[] = [\r\n  { value: 'booth-fee', label: 'Booth Fee', description: 'Market booth rental fees' },\r\n  { value: 'transportation', label: 'Transportation', description: 'Gas, parking, rideshare' },\r\n  { value: 'accommodation', label: 'Accommodation', description: 'Hotel, lodging costs' },\r\n  { value: 'supplies', label: 'Supplies', description: 'Display materials, tablecloths' },\r\n  { value: 'equipment', label: 'Equipment', description: 'Tools, machinery rental' },\r\n  { value: 'marketing', label: 'Marketing', description: 'Flyers, business cards, ads' },\r\n  { value: 'food', label: 'Food', description: 'Meals during market events' },\r\n  { value: 'fuel', label: 'Fuel', description: 'Vehicle fuel costs' },\r\n  { value: 'insurance', label: 'Insurance', description: 'Event or liability insurance' },\r\n  { value: 'other', label: 'Other', description: 'Miscellaneous expenses' }\r\n]\r\n\r\nexport const ExpenseForm: React.FC<ExpenseFormProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  onSubmit,\r\n  editingExpense,\r\n  isLoading = false,\r\n  marketId\r\n}) => {\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    description: '',\r\n    amount: '',\r\n    category: 'other' as ExpenseCategory,\r\n    date: format(new Date(), 'yyyy-MM-dd'),\r\n    receipt: ''\r\n  })\r\n\r\n  const [errors, setErrors] = useState<Record<string, string>>({})\r\n\r\n  // Populate form when editing\r\n  useEffect(() => {\r\n    if (editingExpense) {\r\n      setFormData({\r\n        title: editingExpense.title,\r\n        description: editingExpense.description || '',\r\n        amount: editingExpense.amount.toString(),\r\n        category: editingExpense.category,\r\n        date: format(new Date(editingExpense.date), 'yyyy-MM-dd'),\r\n        receipt: editingExpense.receipt || ''\r\n      })\r\n    } else {\r\n      setFormData({\r\n        title: '',\r\n        description: '',\r\n        amount: '',\r\n        category: 'other',\r\n        date: format(new Date(), 'yyyy-MM-dd'),\r\n        receipt: ''\r\n      })\r\n    }\r\n    setErrors({})\r\n  }, [editingExpense, isOpen])\r\n\r\n  const validateForm = () => {\r\n    const newErrors: Record<string, string> = {}\r\n\r\n    if (!formData.title.trim()) {\r\n      newErrors.title = 'Title is required'\r\n    }\r\n\r\n    const amount = parseFloat(formData.amount)\r\n    if (!formData.amount || isNaN(amount) || amount <= 0) {\r\n      newErrors.amount = 'Please enter a valid amount greater than 0'\r\n    }\r\n\r\n    if (!formData.date) {\r\n      newErrors.date = 'Date is required'\r\n    } else {\r\n      const selectedDate = new Date(formData.date)\r\n      const today = new Date()\r\n      today.setHours(23, 59, 59, 999) // End of today\r\n      if (selectedDate > today) {\r\n        newErrors.date = 'Date cannot be in the future'\r\n      }\r\n    }\r\n\r\n    setErrors(newErrors)\r\n    return Object.keys(newErrors).length === 0\r\n  }\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    \r\n    if (!validateForm()) {\r\n      return\r\n    }\r\n\r\n    const expenseData = {\r\n      vendorId: 'vendor-1', // This should come from auth store\r\n      marketId,\r\n      title: formData.title.trim(),\r\n      description: formData.description.trim() || undefined,\r\n      amount: parseFloat(formData.amount),\r\n      category: formData.category,\r\n      date: new Date(formData.date).toISOString(),\r\n      receipt: formData.receipt.trim() || undefined\r\n    }\r\n\r\n    onSubmit(expenseData)\r\n  }\r\n\r\n  const handleInputChange = (field: string, value: any) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }))\r\n    if (errors[field]) {\r\n      setErrors(prev => ({ ...prev, [field]: '' }))\r\n    }\r\n  }\r\n\r\n  const getCategoryColor = (category: ExpenseCategory) => {\r\n    switch (category) {\r\n      case 'booth-fee': return 'border-purple-300'\r\n      case 'transportation': return 'border-blue-300'\r\n      case 'accommodation': return 'border-indigo-300'\r\n      case 'supplies': return 'border-green-300'\r\n      case 'equipment': return 'border-yellow-300'\r\n      case 'marketing': return 'border-pink-300'\r\n      case 'food': return 'border-orange-300'\r\n      case 'fuel': return 'border-red-300'\r\n      case 'insurance': return 'border-gray-300'\r\n      default: return 'border-slate-300'\r\n    }\r\n  }\r\n\r\n  const formatCurrency = (value: string) => {\r\n    const number = parseFloat(value)\r\n    if (isNaN(number)) return ''\r\n    return number.toFixed(2)\r\n  }\r\n\r\n  return (\r\n    <Modal \r\n      isOpen={isOpen} \r\n      onClose={onClose}\r\n      title={editingExpense ? 'Edit Expense' : 'Add New Expense'}\r\n      size=\"lg\"\r\n    >\r\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n        {/* Title */}\r\n        <div className=\"space-y-2\">\r\n          <label htmlFor=\"title\" className=\"text-sm font-medium text-gray-700\">\r\n            Expense Title *\r\n          </label>\r\n          <Input\r\n            id=\"title\"\r\n            value={formData.title}\r\n            onChange={(e) => handleInputChange('title', e.target.value)}\r\n            placeholder=\"e.g., Booth fee payment\"\r\n            className={cn(\r\n              \"w-full\",\r\n              errors.title && \"border-red-300 focus:border-red-500 focus:ring-red-500\"\r\n            )}\r\n            disabled={isLoading}\r\n          />\r\n          {errors.title && (\r\n            <p className=\"text-sm text-red-600 flex items-center gap-1\">\r\n              <AlertCircle className=\"w-3 h-3\" />\r\n              {errors.title}\r\n            </p>\r\n          )}\r\n        </div>\r\n\r\n        {/* Amount and Category */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          {/* Amount */}\r\n          <div className=\"space-y-2\">\r\n            <label htmlFor=\"amount\" className=\"text-sm font-medium text-gray-700 flex items-center gap-1\">\r\n              <DollarSign className=\"w-4 h-4\" />\r\n              Amount *\r\n            </label>\r\n            <div className=\"relative\">\r\n              <span className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500\">$</span>\r\n              <Input\r\n                id=\"amount\"\r\n                type=\"number\"\r\n                step=\"0.01\"\r\n                min=\"0\"\r\n                value={formData.amount}\r\n                onChange={(e) => handleInputChange('amount', formatCurrency(e.target.value))}\r\n                placeholder=\"0.00\"\r\n                className={cn(\r\n                  \"pl-8\",\r\n                  errors.amount && \"border-red-300 focus:border-red-500 focus:ring-red-500\"\r\n                )}\r\n                disabled={isLoading}\r\n              />\r\n            </div>\r\n            {errors.amount && (\r\n              <p className=\"text-sm text-red-600 flex items-center gap-1\">\r\n                <AlertCircle className=\"w-3 h-3\" />\r\n                {errors.amount}\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Category */}\r\n          <div className=\"space-y-2\">\r\n            <label className=\"text-sm font-medium text-gray-700\">\r\n              Category *\r\n            </label>\r\n            <Select\r\n              value={formData.category}\r\n              onValueChange={(value) => handleInputChange('category', value as ExpenseCategory)}\r\n              disabled={isLoading}\r\n              options={categories.map(c => ({ value: c.value, label: `${c.label} - ${c.description}` }))}\r\n            />\r\n            <div className=\"flex items-center gap-2\">\r\n              <Tag className=\"w-3 h-3 text-gray-400\" />\r\n              <span className=\"text-xs text-gray-500\">\r\n                {categories.find(c => c.value === formData.category)?.description}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Description */}\r\n        <div className=\"space-y-2\">\r\n          <label htmlFor=\"description\" className=\"text-sm font-medium text-gray-700 flex items-center gap-1\">\r\n            <FileText className=\"w-4 h-4\" />\r\n            Description\r\n          </label>\r\n          <Textarea\r\n            id=\"description\"\r\n            value={formData.description}\r\n            onChange={(e) => handleInputChange('description', e.target.value)}\r\n            placeholder=\"Optional description or notes about this expense\"\r\n            rows={3}\r\n            disabled={isLoading}\r\n          />\r\n        </div>\r\n\r\n        {/* Date and Receipt */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          {/* Date */}\r\n          <div className=\"space-y-2\">\r\n            <label htmlFor=\"date\" className=\"text-sm font-medium text-gray-700 flex items-center gap-1\">\r\n              <Calendar className=\"w-4 h-4\" />\r\n              Date *\r\n            </label>\r\n            <Input\r\n              id=\"date\"\r\n              type=\"date\"\r\n              value={formData.date}\r\n              onChange={(e) => handleInputChange('date', e.target.value)}\r\n              max={format(new Date(), 'yyyy-MM-dd')}\r\n              className={cn(\r\n                errors.date && \"border-red-300 focus:border-red-500 focus:ring-red-500\"\r\n              )}\r\n              disabled={isLoading}\r\n            />\r\n            {errors.date && (\r\n              <p className=\"text-sm text-red-600 flex items-center gap-1\">\r\n                <AlertCircle className=\"w-3 h-3\" />\r\n                {errors.date}\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Receipt */}\r\n          <div className=\"space-y-2\">\r\n            <label htmlFor=\"receipt\" className=\"text-sm font-medium text-gray-700\">\r\n              Receipt/File\r\n            </label>\r\n            <Input\r\n              id=\"receipt\"\r\n              value={formData.receipt}\r\n              onChange={(e) => handleInputChange('receipt', e.target.value)}\r\n              placeholder=\"Receipt filename or description\"\r\n              disabled={isLoading}\r\n            />\r\n            <p className=\"text-xs text-gray-500\">\r\n              Upload receipts separately or reference them here\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Preview */}\r\n        <div className=\"bg-gray-50 rounded-lg p-4\">\r\n          <h4 className=\"text-sm font-medium text-gray-700 mb-2\">Preview</h4>\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-900\">\r\n                {formData.title || 'Expense title'}\r\n              </p>\r\n              <p className=\"text-xs text-gray-600\">\r\n                {formData.description || 'No description provided'}\r\n              </p>\r\n              <div className=\"flex items-center gap-2 mt-1\">\r\n                <Badge variant=\"outline\" className={cn(\"text-xs\", getCategoryColor(formData.category))}>\r\n                  {categories.find(c => c.value === formData.category)?.label || 'Other'}\r\n                </Badge>\r\n                <span className=\"text-xs text-gray-500\">\r\n                  {formData.date ? format(new Date(formData.date), 'MMM dd, yyyy') : 'No date'}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <p className=\"text-lg font-semibold text-gray-900\">\r\n                {formData.amount ? `$${formatCurrency(formData.amount)}` : '$0.00'}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Form Actions */}\r\n        <div className=\"flex items-center justify-end gap-3 pt-4 border-t border-gray-200\">\r\n          <Button\r\n            type=\"button\"\r\n            variant=\"outline\"\r\n            onClick={onClose}\r\n            disabled={isLoading}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            type=\"submit\"\r\n            disabled={isLoading}\r\n            className=\"min-w-[100px]\"\r\n          >\r\n            {isLoading ? (\r\n              <div className=\"flex items-center gap-2\">\r\n                <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\" />\r\n                {editingExpense ? 'Updating...' : 'Adding...'}\r\n              </div>\r\n            ) : (\r\n              editingExpense ? 'Update Expense' : 'Add Expense'\r\n            )}\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </Modal>\r\n  )\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ExpenseItem.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ExpenseSummary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ExportModal.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":95,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":95,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2770,2773],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2770,2773],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":129,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":129,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3982,3985],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3982,3985],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":135,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":135,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4184,4187],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4184,4187],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":167,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":167,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5099,5102],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5099,5102],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react'\r\nimport { Card } from '@/components/ui/Card'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { Modal } from '@/components/ui/Modal'\r\nimport { Select } from '@/components/ui/Select'\r\nimport { Market } from '@/types'\r\nimport { format, parseISO } from 'date-fns'\r\nimport { Download, FileText, Table, Code, CheckCircle, AlertCircle } from 'lucide-react'\r\nimport { cn } from '@/utils/cn'\r\nimport jsPDF from 'jspdf'\r\nimport 'jspdf-autotable'\r\nimport Papa from 'papaparse'\r\nimport { saveAs } from 'file-saver'\r\n\r\ninterface ExportModalProps {\r\n  isOpen: boolean\r\n  onClose: () => void\r\n  markets: Market[]\r\n}\r\n\r\ntype ExportFormat = 'csv' | 'pdf' | 'json'\r\ntype ExportScope = 'all' | 'active' | 'upcoming'\r\n\r\ninterface ExportOptions {\r\n  format: ExportFormat\r\n  scope: ExportScope\r\n  includeContact: boolean\r\n  includeSchedule: boolean\r\n  includeDescription: boolean\r\n}\r\n\r\nconst defaultOptions: ExportOptions = {\r\n  format: 'csv',\r\n  scope: 'all',\r\n  includeContact: true,\r\n  includeSchedule: true,\r\n  includeDescription: true\r\n}\r\n\r\nexport const ExportModal: React.FC<ExportModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  markets\r\n}) => {\r\n  const [options, setOptions] = useState<ExportOptions>(defaultOptions)\r\n  const [isExporting, setIsExporting] = useState(false)\r\n  const [exportStatus, setExportStatus] = useState<'idle' | 'success' | 'error'>('idle')\r\n  const [exportMessage, setExportMessage] = useState('')\r\n\r\n  const formatOptions = [\r\n    { value: 'csv', label: 'CSV (Excel Compatible)', icon: Table },\r\n    { value: 'pdf', label: 'PDF Report', icon: FileText },\r\n    { value: 'json', label: 'JSON Data', icon: Code }\r\n  ]\r\n\r\n  const scopeOptions = [\r\n    { value: 'all', label: 'All Tracked Markets' },\r\n    { value: 'active', label: 'Active Markets Only' },\r\n    { value: 'upcoming', label: 'Upcoming Markets' }\r\n  ]\r\n\r\n  const handleOptionChange = <K extends keyof ExportOptions>(\r\n    key: K,\r\n    value: ExportOptions[K]\r\n  ) => {\r\n    setOptions(prev => ({ ...prev, [key]: value }))\r\n    setExportStatus('idle')\r\n  }\r\n\r\n  const getFilteredMarkets = (): Market[] => {\r\n    let filtered = [...markets]\r\n\r\n    switch (options.scope) {\r\n      case 'active':\r\n        filtered = filtered.filter(market => market.status === 'active')\r\n        break\r\n      case 'upcoming':\r\n        filtered = filtered.filter(market => {\r\n          const now = new Date()\r\n          return market.schedule?.some(schedule => {\r\n            const startDate = parseISO(schedule.startDate)\r\n            return startDate > now\r\n          })\r\n        })\r\n        break\r\n      default:\r\n        break\r\n    }\r\n\r\n    return filtered\r\n  }\r\n\r\n  const prepareExportData = (markets: Market[]) => {\r\n    return markets.map(market => {\r\n      const data: any = {\r\n        'Market Name': market.name,\r\n        'Category': market.category,\r\n        'Status': market.status,\r\n        'Location': `${market.location.city}, ${market.location.state}`,\r\n        'Address': market.location.address,\r\n        'Zip Code': market.location.zipCode,\r\n        'Country': market.location.country\r\n      }\r\n\r\n      if (options.includeSchedule && market.schedule) {\r\n        data['Schedule'] = market.schedule.map(s => \r\n          `${s.dayOfWeek}: ${s.startTime}-${s.endTime} (${s.startDate} to ${s.endDate})`\r\n        ).join('; ')\r\n      }\r\n\r\n      if (options.includeDescription) {\r\n        data['Description'] = market.description\r\n      }\r\n\r\n      if (options.includeContact) {\r\n        if (market.contact.phone) data['Phone'] = market.contact.phone\r\n        if (market.contact.email) data['Email'] = market.contact.email\r\n        if (market.contact.website) data['Website'] = market.contact.website\r\n      }\r\n\r\n      data['Tags'] = market.tags.join(', ')\r\n      data['Created Date'] = format(parseISO(market.createdAt), 'yyyy-MM-dd')\r\n      data['Updated Date'] = format(parseISO(market.updatedAt), 'yyyy-MM-dd')\r\n\r\n      return data\r\n    })\r\n  }\r\n\r\n  const exportToCSV = (data: any[], filename: string) => {\r\n    const csv = Papa.unparse(data)\r\n    const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' })\r\n    saveAs(blob, filename)\r\n  }\r\n\r\n  const exportToPDF = (data: any[], filename: string) => {\r\n    const pdf = new jsPDF()\r\n    \r\n    // Add title\r\n    pdf.setFontSize(20)\r\n    pdf.text('Tracked Markets Report', 20, 20)\r\n    \r\n    // Add metadata\r\n    pdf.setFontSize(12)\r\n    pdf.text(`Generated: ${format(new Date(), 'PPpp')}`, 20, 35)\r\n    pdf.text(`Total Markets: ${data.length}`, 20, 45)\r\n    \r\n    if (data.length === 0) {\r\n      pdf.text('No markets to display', 20, 60)\r\n    } else {\r\n      // Prepare table data\r\n      const headers = Object.keys(data[0])\r\n      const rows = data.map(row => headers.map(header => row[header] || ''))\r\n      \r\n      // @ts-expect-error - jsPDF-autotable types\r\n      pdf.autoTable({\r\n        head: [headers],\r\n        body: rows,\r\n        startY: 55,\r\n        styles: { fontSize: 8, cellPadding: 2 },\r\n        headStyles: { fillColor: [66, 139, 202] }\r\n      })\r\n    }\r\n    \r\n    pdf.save(filename)\r\n  }\r\n\r\n  const exportToJSON = (data: any[], filename: string) => {\r\n    const jsonData = {\r\n      exportDate: new Date().toISOString(),\r\n      totalMarkets: data.length,\r\n      scope: options.scope,\r\n      markets: data\r\n    }\r\n    \r\n    const blob = new Blob([JSON.stringify(jsonData, null, 2)], { \r\n      type: 'application/json;charset=utf-8;' \r\n    })\r\n    saveAs(blob, filename)\r\n  }\r\n\r\n  const generateFilename = (fileFormat: ExportFormat): string => {\r\n    const timestamp = format(new Date(), 'yyyy-MM-dd-HHmm')\r\n    const scopeText = options.scope === 'all' ? 'all-markets' : `${options.scope}-markets`\r\n    return `rumfor-markets-${scopeText}-${timestamp}.${fileFormat}`\r\n  }\r\n\r\n  const handleExport = async () => {\r\n    if (markets.length === 0) {\r\n      setExportStatus('error')\r\n      setExportMessage('No markets available to export')\r\n      return\r\n    }\r\n\r\n    setIsExporting(true)\r\n    setExportStatus('idle')\r\n\r\n    try {\r\n      const filteredMarkets = getFilteredMarkets()\r\n      \r\n      if (filteredMarkets.length === 0) {\r\n        setExportStatus('error')\r\n        setExportMessage('No markets match the selected criteria')\r\n        setIsExporting(false)\r\n        return\r\n      }\r\n\r\n      const exportData = prepareExportData(filteredMarkets)\r\n      const filename = generateFilename(options.format)\r\n\r\n      switch (options.format) {\r\n        case 'csv':\r\n          exportToCSV(exportData, filename)\r\n          break\r\n        case 'pdf':\r\n          exportToPDF(exportData, filename)\r\n          break\r\n        case 'json':\r\n          exportToJSON(exportData, filename)\r\n          break\r\n      }\r\n\r\n      setExportStatus('success')\r\n      setExportMessage(`Successfully exported ${filteredMarkets.length} markets`)\r\n      \r\n      // Auto close after success\r\n      setTimeout(() => {\r\n        onClose()\r\n        setExportStatus('idle')\r\n        setExportMessage('')\r\n      }, 2000)\r\n\r\n    } catch (error) {\r\n      console.error('Export failed:', error)\r\n      setExportStatus('error')\r\n      setExportMessage('Export failed. Please try again.')\r\n    } finally {\r\n      setIsExporting(false)\r\n    }\r\n  }\r\n\r\n  const handleClose = () => {\r\n    setOptions(defaultOptions)\r\n    setExportStatus('idle')\r\n    setExportMessage('')\r\n    onClose()\r\n  }\r\n\r\n  const filteredCount = getFilteredMarkets().length\r\n\r\n  return (\r\n    <Modal isOpen={isOpen} onClose={handleClose} size=\"lg\">\r\n      <div className=\"space-y-6\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <Download className=\"w-6 h-6 text-primary\" />\r\n            <div>\r\n              <h2 className=\"text-xl font-semibold\">Export Markets</h2>\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                Download your tracked markets in various formats\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Export Format */}\r\n        <div className=\"space-y-4\">\r\n          <h3 className=\"text-lg font-medium\">Export Format</h3>\r\n          <div className=\"grid grid-cols-1 gap-3\">\r\n            {formatOptions.map(({ value, label, icon: Icon }) => (\r\n              <Card \r\n                key={value}\r\n                className={cn(\r\n                  \"p-4 cursor-pointer transition-colors\",\r\n                  options.format === value \r\n                    ? \"border-primary bg-primary/5\" \r\n                    : \"hover:bg-muted/50\"\r\n                )}\r\n                onClick={() => handleOptionChange('format', value as ExportFormat)}\r\n              >\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Icon className=\"w-5 h-5 text-primary\" />\r\n                  <div className=\"flex-1\">\r\n                    <h4 className=\"font-medium\">{label}</h4>\r\n                    <p className=\"text-sm text-muted-foreground\">\r\n                      {value === 'csv' && 'Best for spreadsheet applications'}\r\n                      {value === 'pdf' && 'Formatted report for sharing'}\r\n                      {value === 'json' && 'Structured data for developers'}\r\n                    </p>\r\n                  </div>\r\n                  {options.format === value && (\r\n                    <CheckCircle className=\"w-5 h-5 text-primary\" />\r\n                  )}\r\n                </div>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Scope Selection */}\r\n        <div className=\"space-y-4\">\r\n          <h3 className=\"text-lg font-medium\">Market Scope</h3>\r\n          <Select\r\n            value={options.scope}\r\n            onValueChange={(value) => handleOptionChange('scope', value as ExportScope)}\r\n            options={scopeOptions}\r\n            placeholder=\"Select scope\"\r\n          />\r\n          <p className=\"text-sm text-muted-foreground\">\r\n            {filteredCount} markets will be exported with current selection\r\n          </p>\r\n        </div>\r\n\r\n        {/* Export Options */}\r\n        <div className=\"space-y-4\">\r\n          <h3 className=\"text-lg font-medium\">Include Information</h3>\r\n          <div className=\"space-y-3\">\r\n            <label className=\"flex items-center gap-3 cursor-pointer\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={options.includeContact}\r\n                onChange={(e) => handleOptionChange('includeContact', e.target.checked)}\r\n                className=\"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary\"\r\n              />\r\n              <div>\r\n                <span className=\"font-medium\">Contact Information</span>\r\n                <p className=\"text-sm text-muted-foreground\">Phone, email, website</p>\r\n              </div>\r\n            </label>\r\n            \r\n            <label className=\"flex items-center gap-3 cursor-pointer\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={options.includeSchedule}\r\n                onChange={(e) => handleOptionChange('includeSchedule', e.target.checked)}\r\n                className=\"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary\"\r\n              />\r\n              <div>\r\n                <span className=\"font-medium\">Schedule Details</span>\r\n                <p className=\"text-sm text-muted-foreground\">Operating days and hours</p>\r\n              </div>\r\n            </label>\r\n            \r\n            <label className=\"flex items-center gap-3 cursor-pointer\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={options.includeDescription}\r\n                onChange={(e) => handleOptionChange('includeDescription', e.target.checked)}\r\n                className=\"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary\"\r\n              />\r\n              <div>\r\n                <span className=\"font-medium\">Market Description</span>\r\n                <p className=\"text-sm text-muted-foreground\">Detailed description and tags</p>\r\n              </div>\r\n            </label>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Export Status */}\r\n        {exportStatus !== 'idle' && (\r\n          <Card className={cn(\r\n            \"p-4\",\r\n            exportStatus === 'success' \r\n              ? \"bg-green-50 border-green-200\" \r\n              : \"bg-red-50 border-red-200\"\r\n          )}>\r\n            <div className=\"flex items-center gap-3\">\r\n              {exportStatus === 'success' ? (\r\n                <CheckCircle className=\"w-5 h-5 text-green-600\" />\r\n              ) : (\r\n                <AlertCircle className=\"w-5 h-5 text-red-600\" />\r\n              )}\r\n              <div>\r\n                <p className={cn(\r\n                  \"font-medium\",\r\n                  exportStatus === 'success' ? \"text-green-800\" : \"text-red-800\"\r\n                )}>\r\n                  {exportStatus === 'success' ? 'Export Complete' : 'Export Failed'}\r\n                </p>\r\n                <p className={cn(\r\n                  \"text-sm\",\r\n                  exportStatus === 'success' ? \"text-green-700\" : \"text-red-700\"\r\n                )}>\r\n                  {exportMessage}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        )}\r\n\r\n        {/* Actions */}\r\n        <div className=\"flex items-center justify-end gap-3 pt-4 border-t\">\r\n          <Button variant=\"outline\" onClick={handleClose} disabled={isExporting}>\r\n            Cancel\r\n          </Button>\r\n          <Button \r\n            onClick={handleExport} \r\n            disabled={isExporting || markets.length === 0}\r\n          >\r\n            {isExporting ? (\r\n              <div className=\"w-4 h-4 mr-2 border-2 border-white/20 border-t-white rounded-full animate-spin\" />\r\n            ) : (\r\n              <Download className=\"w-4 h-4 mr-2\" />\r\n            )}\r\n            {isExporting ? 'Exporting...' : 'Export Markets'}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\Footer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\HashtagVoting.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":233,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":233,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7671,7674],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7671,7674],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { Input } from '@/components/ui/Input'\r\nimport { Card } from '@/components/ui/Card'\r\nimport { Avatar } from '@/components/ui/Avatar'\r\nimport { Spinner } from '@/components/ui/Spinner'\r\nimport { EmptyState } from '@/components/ui/EmptyState'\r\nimport { useHashtags } from '@/features/community/hooks/useHashtags'\r\nimport { useAuthStore } from '@/features/auth/authStore'\r\nimport { cn } from '@/utils/cn'\r\n\r\ninterface HashtagVotingProps {\r\n  marketId: string\r\n  showCreateForm?: boolean\r\n  maxDisplayCount?: number\r\n  className?: string\r\n}\r\n\r\nexport const HashtagVoting: React.FC<HashtagVotingProps> = ({\r\n  marketId,\r\n  showCreateForm = false,\r\n  maxDisplayCount = 20,\r\n  className\r\n}) => {\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [sortBy, setSortBy] = useState<'votes' | 'name' | 'created'>('votes')\r\n  const [isCreatingFormVisible, setIsCreatingFormVisible] = useState(showCreateForm)\r\n  const [newHashtag, setNewHashtag] = useState('')\r\n  \r\n  const { user } = useAuthStore()\r\n  const {\r\n    hashtags,\r\n    isLoading,\r\n    error,\r\n    createHashtag,\r\n    voteHashtag,\r\n    refreshHashtags,\r\n    getUserVote,\r\n    getVoteCount,\r\n    getVoteCounts,\r\n    sortHashtags,\r\n    validateHashtagName,\r\n    getSuggestedHashtags,\r\n    isCreating,\r\n    isVoting,\r\n  } = useHashtags(marketId)\r\n\r\n  // Filter and sort hashtags - hide low-signal tags (less than 3 votes net)\r\n  const filteredSortedHashtags = sortHashtags(sortBy).filter(hashtag => {\r\n    const voteCount = getVoteCount(hashtag.id)\r\n    return voteCount >= -2 && (voteCount > 0 || voteCount === 0) // Hide negative/zero vote tags\r\n  }).slice(0, maxDisplayCount)\r\n  const suggestedHashtags = getSuggestedHashtags()\r\n\r\n  const handleCreateHashtag = async () => {\r\n    if (!newHashtag.trim() || isCreating) return\r\n    \r\n    const validation = validateHashtagName(newHashtag.trim())\r\n    if (validation) {\r\n      alert(validation)\r\n      return\r\n    }\r\n    \r\n    try {\r\n      await createHashtag(newHashtag.trim())\r\n      setNewHashtag('')\r\n      setIsCreatingFormVisible(false)\r\n    } catch (error) {\r\n      console.error('Failed to create hashtag:', error)\r\n    }\r\n  }\r\n\r\n  const handleVote = async (hashtagId: string, value: 1 | -1 | 0) => {\r\n    try {\r\n      await voteHashtag(hashtagId, value)\r\n    } catch (error) {\r\n      console.error('Failed to vote:', error)\r\n    }\r\n  }\r\n\r\n  const handleSuggestedHashtagClick = (hashtag: string) => {\r\n    setNewHashtag(hashtag)\r\n  }\r\n\r\n  if (isLoading && hashtags.length === 0) {\r\n    return (\r\n      <div className={cn('flex items-center justify-center py-12', className)}>\r\n        <div className=\"text-center\">\r\n          <Spinner className=\"h-8 w-8 mx-auto mb-4\" />\r\n          <p className=\"text-muted-foreground\">Loading hashtags...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className={cn('space-y-6', className)}>\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold\">\r\n            Hashtags ({hashtags.length})\r\n          </h2>\r\n          <p className=\"text-sm text-muted-foreground mt-1\">\r\n            Help categorize and discover this market\r\n          </p>\r\n        </div>\r\n        \r\n        <Button\r\n          onClick={refreshHashtags}\r\n          variant=\"outline\"\r\n          size=\"sm\"\r\n          disabled={isLoading}\r\n        >\r\n          {isLoading ? (\r\n            <Spinner className=\"h-4 w-4\" />\r\n          ) : (\r\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\r\n            </svg>\r\n          )}\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Search and Controls */}\r\n      <div className=\"flex flex-col sm:flex-row gap-4\">\r\n        <div className=\"flex-1\">\r\n          <Input\r\n            type=\"text\"\r\n            placeholder=\"Search hashtags...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            className=\"w-full\"\r\n          />\r\n        </div>\r\n        \r\n        <div className=\"flex flex-wrap gap-2\">\r\n          <Button\r\n            variant={sortBy === 'votes' ? 'primary' : 'outline'}\r\n            size=\"sm\"\r\n            onClick={() => setSortBy('votes')}\r\n          >\r\n            By Votes\r\n          </Button>\r\n          <Button\r\n            variant={sortBy === 'name' ? 'primary' : 'outline'}\r\n            size=\"sm\"\r\n            onClick={() => setSortBy('name')}\r\n          >\r\n            By Name\r\n          </Button>\r\n          <Button\r\n            variant={sortBy === 'created' ? 'primary' : 'outline'}\r\n            size=\"sm\"\r\n            onClick={() => setSortBy('created')}\r\n          >\r\n            By Date\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Create Hashtag Form */}\r\n      {isCreatingFormVisible && user && (\r\n        <Card className=\"p-4 space-y-4\">\r\n          <h3 className=\"font-semibold\">Create New Hashtag</h3>\r\n          \r\n          <div className=\"flex gap-2\">\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"Enter hashtag name...\"\r\n              value={newHashtag}\r\n              onChange={(e) => setNewHashtag(e.target.value)}\r\n              onKeyDown={(e) => {\r\n                if (e.key === 'Enter') {\r\n                  handleCreateHashtag()\r\n                }\r\n              }}\r\n              disabled={isCreating}\r\n            />\r\n            <Button\r\n              onClick={handleCreateHashtag}\r\n              disabled={!newHashtag.trim() || isCreating}\r\n            >\r\n              {isCreating ? (\r\n                <Spinner className=\"h-4 w-4\" />\r\n              ) : (\r\n                'Create'\r\n              )}\r\n            </Button>\r\n          </div>\r\n          \r\n          {/* Suggested Hashtags */}\r\n          {suggestedHashtags.length > 0 && (\r\n            <div>\r\n              <p className=\"text-sm font-medium mb-2\">Suggested hashtags:</p>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {suggestedHashtags.slice(0, 10).map((hashtag: string) => (\r\n                  <Button\r\n                    key={hashtag}\r\n                    variant=\"outline\"\r\n                    size=\"sm\"\r\n                    onClick={() => handleSuggestedHashtagClick(hashtag)}\r\n                  >\r\n                    #{hashtag}\r\n                  </Button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </Card>\r\n      )}\r\n\r\n      {/* Hashtags List */}\r\n      {filteredSortedHashtags.length === 0 ? (\r\n        <EmptyState\r\n          icon={\r\n            <svg className=\"w-12 h-12\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z\" />\r\n            </svg>\r\n          }\r\n          title=\"No hashtags yet\"\r\n          description={searchTerm ? \"No hashtags found matching your search.\" : \"Be the first to add hashtags for this market!\"}\r\n          action={\r\n            user && !isCreatingFormVisible ? (\r\n              <Button onClick={() => setIsCreatingFormVisible(true)}>\r\n                Create First Hashtag\r\n              </Button>\r\n            ) : undefined\r\n          }\r\n        />\r\n      ) : (\r\n        <div className=\"space-y-3\">\r\n          {filteredSortedHashtags.map((hashtag: any) => {\r\n            const userVote = getUserVote(hashtag.id)\r\n            const voteCount = getVoteCount(hashtag.id)\r\n            const voteCounts = getVoteCounts(hashtag.id)\r\n            \r\n            return (\r\n              <Card key={hashtag.id} className=\"p-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  {/* Hashtag Info */}\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <div className=\"text-lg font-bold text-accent\">\r\n                      #{hashtag.name}\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center gap-2\">\r\n                      <span className=\"text-sm text-muted-foreground\">\r\n                        {voteCount >= 0 ? '+' : ''}{voteCount}\r\n                      </span>\r\n                      <div className=\"flex items-center gap-1\">\r\n                        <Button\r\n                          variant={userVote?.value === 1 ? 'primary' : 'ghost'}\r\n                          size=\"sm\"\r\n                          onClick={() => handleVote(hashtag.id, userVote?.value === 1 ? 0 : 1)}\r\n                          disabled={isVoting || !user}\r\n                          className=\"h-11 w-11 p-0\"\r\n                        >\r\n                          <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                            <path fillRule=\"evenodd\" d=\"M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z\" clipRule=\"evenodd\" />\r\n                          </svg>\r\n                        </Button>\r\n                        \r\n                        <Button\r\n                          variant={userVote?.value === -1 ? 'destructive' : 'ghost'}\r\n                          size=\"sm\"\r\n                          onClick={() => handleVote(hashtag.id, userVote?.value === -1 ? 0 : -1)}\r\n                          disabled={isVoting || !user}\r\n                          className=\"h-11 w-11 p-0\"\r\n                        >\r\n                          <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                            <path fillRule=\"evenodd\" d=\"M16.707 10.293a1 1 0 010 1.414l-6 6a1 1 0 01-1.414 0l-6-6a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l4.293-4.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\r\n                          </svg>\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {/* Creator Info */}\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Avatar\r\n                      src={hashtag.user.avatar}\r\n                      alt={`${hashtag.user.firstName} ${hashtag.user.lastName}`}\r\n                      fallback={`${hashtag.user.firstName[0]}${hashtag.user.lastName[0]}`}\r\n                      size=\"sm\"\r\n                    />\r\n                    <div className=\"text-xs text-muted-foreground\">\r\n                      by {hashtag.user.firstName} {hashtag.user.lastName}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                {/* Vote Breakdown */}\r\n                {(voteCounts.upvotes > 0 || voteCounts.downvotes > 0) && (\r\n                  <div className=\"mt-2 flex items-center gap-4 text-xs text-muted-foreground\">\r\n                    <span>{voteCounts.upvotes} upvote{voteCounts.upvotes !== 1 ? 's' : ''}</span>\r\n                    <span>{voteCounts.downvotes} downvote{voteCounts.downvotes !== 1 ? 's' : ''}</span>\r\n                  </div>\r\n                )}\r\n              </Card>\r\n            )\r\n          })}\r\n        </div>\r\n      )}\r\n\r\n      {/* Create Hashtag Button */}\r\n      {user && !isCreatingFormVisible && hashtags.length === 0 && (\r\n        <div className=\"text-center\">\r\n          <Button onClick={() => setIsCreatingFormVisible(true)}>\r\n            Create First Hashtag\r\n          </Button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Show More Button */}\r\n      {hashtags.length > maxDisplayCount && (\r\n        <div className=\"text-center\">\r\n          <Button variant=\"outline\">\r\n            Show {hashtags.length - maxDisplayCount} More Hashtags\r\n          </Button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Error Message */}\r\n      {error && (\r\n        <div className=\"text-sm text-destructive bg-destructive/10 border border-destructive/20 rounded-md p-3\">\r\n          {typeof error === 'string' ? error : error.message}\r\n        </div>\r\n      )}\r\n\r\n      {/* Guidelines */}\r\n      {user && (\r\n        <Card className=\"p-4 bg-muted/50\">\r\n          <h4 className=\"font-medium mb-2\">Hashtag Guidelines</h4>\r\n          <ul className=\"text-sm text-muted-foreground space-y-1\">\r\n            <li> Use descriptive hashtags to help others find this market</li>\r\n            <li> Keep hashtags short and relevant (2-50 characters)</li>\r\n            <li> Vote on hashtags you find helpful or relevant</li>\r\n            <li> Only letters, numbers, underscores, and hyphens allowed</li>\r\n            <li> Hashtags are case-insensitive</li>\r\n          </ul>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default HashtagVoting\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\LocationModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\MarketCalendar.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":123,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":123,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3858,3861],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3858,3861],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useMemo } from 'react'\r\nimport Calendar from 'react-calendar'\r\nimport { format, parseISO, isSameDay } from 'date-fns'\r\nimport { Card } from '@/components/ui/Card'\r\nimport { Badge } from '@/components/ui/Badge'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { Market } from '@/types'\r\nimport { cn } from '@/utils/cn'\r\nimport { Calendar as CalendarIcon, MapPin, Clock, Users } from 'lucide-react'\r\nimport 'react-calendar/dist/Calendar.css'\r\n\r\ninterface MarketCalendarProps {\r\n  markets: Market[]\r\n  onMarketSelect?: (market: Market) => void\r\n  onDateSelect?: (date: Date) => void\r\n  className?: string\r\n}\r\n\r\ninterface CalendarEvent {\r\n  date: Date\r\n  markets: Market[]\r\n  type: 'market-day' | 'event-start' | 'event-end'\r\n}\r\n\r\nexport const MarketCalendar: React.FC<MarketCalendarProps> = ({\r\n  markets,\r\n  onMarketSelect,\r\n  onDateSelect,\r\n  className\r\n}) => {\r\n  const [selectedDate, setSelectedDate] = useState<Date>(new Date())\r\n  const [viewMode, setViewMode] = useState<'month' | 'week'>('month')\r\n\r\n  // Generate calendar events from market schedules\r\n  const calendarEvents = useMemo(() => {\r\n    const events: CalendarEvent[] = []\r\n\r\n    markets.forEach(market => {\r\n      if (market.schedule && market.schedule.length > 0) {\r\n        market.schedule.forEach(schedule => {\r\n          const startDate = parseISO(schedule.startDate)\r\n          const endDate = parseISO(schedule.endDate)\r\n          \r\n          // Add event start\r\n          events.push({\r\n            date: startDate,\r\n            markets: [market],\r\n            type: 'event-start'\r\n          })\r\n          \r\n          // Add event end\r\n          if (!isSameDay(startDate, endDate)) {\r\n            events.push({\r\n              date: endDate,\r\n              markets: [market],\r\n              type: 'event-end'\r\n            })\r\n          }\r\n\r\n          // Add recurring schedule dates\r\n          if (schedule.isRecurring) {\r\n            let currentDate = new Date(startDate)\r\n            while (currentDate <= endDate) {\r\n              const dayOfWeek = currentDate.getDay()\r\n              if (dayOfWeek === schedule.dayOfWeek) {\r\n                events.push({\r\n                  date: new Date(currentDate),\r\n                  markets: [market],\r\n                  type: 'market-day'\r\n                })\r\n              }\r\n              currentDate = new Date(currentDate.getTime() + 24 * 60 * 60 * 1000)\r\n            }\r\n          }\r\n        })\r\n      }\r\n    })\r\n\r\n    return events.sort((a, b) => a.date.getTime() - b.date.getTime())\r\n  }, [markets])\r\n\r\n  // Get markets for a specific date\r\n  const getMarketsForDate = (date: Date): Market[] => {\r\n    return calendarEvents\r\n      .filter(event => isSameDay(event.date, date))\r\n      .flatMap(event => event.markets)\r\n  }\r\n\r\n  // Custom tile content for calendar\r\n  const tileContent = ({ date, view }: { date: Date; view: string }) => {\r\n    if (view === 'month') {\r\n      const dayMarkets = getMarketsForDate(date)\r\n      if (dayMarkets.length === 0) return null\r\n\r\n      return (\r\n        <div className=\"flex flex-col gap-1 mt-1\">\r\n          {dayMarkets.slice(0, 2).map((market) => (\r\n            <div\r\n              key={market.id}\r\n              className={cn(\r\n                \"text-xs px-1 py-0.5 rounded truncate\",\r\n                market.status === 'active' \r\n                  ? 'bg-green-100 text-green-800' \r\n                  : 'bg-blue-100 text-blue-800'\r\n              )}\r\n              title={market.name}\r\n            >\r\n              {market.name}\r\n            </div>\r\n          ))}\r\n          {dayMarkets.length > 2 && (\r\n            <div className=\"text-xs text-muted-foreground\">\r\n              +{dayMarkets.length - 2} more\r\n            </div>\r\n          )}\r\n        </div>\r\n      )\r\n    }\r\n    return null\r\n  }\r\n\r\n  // Handle date selection\r\n  const handleDateChange = (value: any) => {\r\n    if (!value) return\r\n    \r\n    const selectedDate = Array.isArray(value) ? value[0] : value\r\n    setSelectedDate(selectedDate)\r\n    onDateSelect?.(selectedDate)\r\n  }\r\n\r\n  // Handle market selection\r\n  const handleMarketSelect = (market: Market) => {\r\n    onMarketSelect?.(market)\r\n  }\r\n\r\n  const selectedDateMarkets = getMarketsForDate(selectedDate)\r\n\r\n  return (\r\n    <div className={cn(\"space-y-6\", className)}>\r\n      {/* Header with view mode toggle */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <CalendarIcon className=\"w-6 h-6\" />\r\n          <h2 className=\"text-xl font-semibold\">Market Calendar</h2>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <Button\r\n            variant={viewMode === 'month' ? 'primary' : 'outline'}\r\n            size=\"sm\"\r\n            onClick={() => setViewMode('month')}\r\n          >\r\n            Month\r\n          </Button>\r\n          <Button\r\n            variant={viewMode === 'week' ? 'primary' : 'outline'}\r\n            size=\"sm\"\r\n            onClick={() => setViewMode('week')}\r\n          >\r\n            Week\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        {/* Calendar */}\r\n        <div className=\"lg:col-span-2\">\r\n          <Card className=\"p-4\">\r\n            <Calendar\r\n              onChange={handleDateChange}\r\n              value={selectedDate}\r\n              tileContent={tileContent}\r\n              className=\"w-full border-none\"\r\n              prev2Label={null}\r\n              next2Label={null}\r\n              showNeighboringMonth={false}\r\n            />\r\n          </Card>\r\n        </div>\r\n\r\n        {/* Selected date details */}\r\n        <div className=\"space-y-4\">\r\n          <Card className=\"p-4\">\r\n            <h3 className=\"font-semibold mb-3\">\r\n              {format(selectedDate, 'MMMM d, yyyy')}\r\n            </h3>\r\n            \r\n            {selectedDateMarkets.length > 0 ? (\r\n              <div className=\"space-y-3\">\r\n                <p className=\"text-sm text-muted-foreground\">\r\n                  {selectedDateMarkets.length} market(s) scheduled\r\n                </p>\r\n                {selectedDateMarkets.map(market => (\r\n                  <div\r\n                    key={market.id}\r\n                    className=\"border rounded-lg p-3 hover:bg-muted/50 cursor-pointer transition-colors\"\r\n                    onClick={() => handleMarketSelect(market)}\r\n                  >\r\n                    <div className=\"flex items-start justify-between\">\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <h4 className=\"font-medium truncate\">{market.name}</h4>\r\n                        <div className=\"flex items-center gap-2 mt-1\">\r\n                          <MapPin className=\"w-3 h-3 text-muted-foreground\" />\r\n                          <span className=\"text-sm text-muted-foreground truncate\">\r\n                            {market.location.city}, {market.location.state}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2 mt-1\">\r\n                          <Clock className=\"w-3 h-3 text-muted-foreground\" />\r\n                          <span className=\"text-sm text-muted-foreground\">\r\n                            {market.schedule?.[0]?.startTime} - {market.schedule?.[0]?.endTime}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                      <Badge \r\n                        variant={market.status === 'active' ? 'success' : 'muted'}\r\n                        className=\"ml-2\"\r\n                      >\r\n                        {market.status}\r\n                      </Badge>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                No markets scheduled for this date.\r\n              </p>\r\n            )}\r\n          </Card>\r\n\r\n          {/* Legend */}\r\n          <Card className=\"p-4\">\r\n            <h4 className=\"font-medium mb-3\">Legend</h4>\r\n            <div className=\"space-y-2 text-sm\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <div className=\"w-3 h-3 bg-green-100 border border-green-200 rounded\"></div>\r\n                <span>Active Markets</span>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <div className=\"w-3 h-3 bg-blue-100 border border-blue-200 rounded\"></div>\r\n                <span>Upcoming Events</span>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <Users className=\"w-3 h-3\" />\r\n                <span>Click markets for details</span>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\MarketCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\MarketConversionRequestForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\MarketFilters.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":58,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":58,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2086,2089],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2086,2089],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react'\r\nimport type { MarketFilters as MarketFilterType, MarketCategory, MarketStatus } from '@/types'\r\nimport { Input } from '@/components/ui/Input'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { Card } from '@/components/ui/Card'\r\nimport { Badge } from '@/components/ui/Badge'\r\nimport { cn } from '@/utils/cn'\r\n\r\ninterface MarketFiltersProps {\r\n  filters: MarketFilterType\r\n  onFiltersChange: (filters: MarketFilterType) => void\r\n  onSearch?: (query: string) => void\r\n  onClear?: () => void\r\n  className?: string\r\n  showAdvanced?: boolean\r\n}\r\n\r\nconst categories: { value: MarketCategory; label: string }[] = [\r\n  { value: 'farmers-market', label: 'Farmers Market' },\r\n  { value: 'arts-crafts', label: 'Arts & Crafts' },\r\n  { value: 'flea-market', label: 'Flea Market' },\r\n  { value: 'food-festival', label: 'Food Festival' },\r\n  { value: 'holiday-market', label: 'Holiday Market' },\r\n  { value: 'craft-show', label: 'Craft Show' },\r\n  { value: 'community-event', label: 'Community Event' },\r\n  { value: 'night-market', label: 'Night Market' },\r\n  { value: 'street-fair', label: 'Street Fair' },\r\n  { value: 'vintage-antique', label: 'Vintage & Antique' }\r\n]\r\n\r\nconst statuses: { value: MarketStatus; label: string }[] = [\r\n  { value: 'active', label: 'Active' },\r\n  { value: 'draft', label: 'Draft' },\r\n  { value: 'cancelled', label: 'Cancelled' },\r\n  { value: 'completed', label: 'Completed' }\r\n]\r\n\r\n\r\n\r\nexport const MarketFilters: React.FC<MarketFiltersProps> = ({\r\n  filters,\r\n  onFiltersChange,\r\n  onSearch,\r\n  onClear,\r\n  className,\r\n  showAdvanced = false\r\n}) => {\r\n  const [localFilters, setLocalFilters] = useState<MarketFilterType>(filters)\r\n  const [searchQuery, setSearchQuery] = useState(filters.search || '')\r\n  const [showAdvancedFilters, setShowAdvancedFilters] = useState(showAdvanced)\r\n\r\n  // Update local filters when props change\r\n  useEffect(() => {\r\n    setLocalFilters(filters)\r\n    setSearchQuery(filters.search || '')\r\n  }, [filters])\r\n\r\n  const handleFilterChange = (key: keyof MarketFilterType, value: any) => {\r\n    const newFilters = { ...localFilters, [key]: value }\r\n    setLocalFilters(newFilters)\r\n    onFiltersChange(newFilters)\r\n  }\r\n\r\n  const handleCategoryToggle = (category: MarketCategory) => {\r\n    const currentCategories = localFilters.category || []\r\n    const newCategories = currentCategories.includes(category)\r\n      ? currentCategories.filter(c => c !== category)\r\n      : [...currentCategories, category]\r\n    \r\n    handleFilterChange('category', newCategories)\r\n  }\r\n\r\n  const handleStatusToggle = (status: MarketStatus) => {\r\n    const currentStatuses = localFilters.status || []\r\n    const newStatuses = currentStatuses.includes(status)\r\n      ? currentStatuses.filter(s => s !== status)\r\n      : [...currentStatuses, status]\r\n    \r\n    handleFilterChange('status', newStatuses)\r\n  }\r\n\r\n  const handleSearch = () => {\r\n    if (onSearch) {\r\n      onSearch(searchQuery)\r\n    }\r\n  }\r\n\r\n  const handleClear = () => {\r\n    setLocalFilters({} as MarketFilterType)\r\n    setSearchQuery('')\r\n    onFiltersChange({} as MarketFilterType)\r\n    if (onClear) {\r\n      onClear()\r\n    }\r\n  }\r\n\r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter') {\r\n      handleSearch()\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Card className={cn('p-6', className)}>\r\n      {/* Search Bar */}\r\n      <div className=\"space-y-4\">\r\n        <div className=\"flex gap-2\">\r\n          <div className=\"flex-1\">\r\n            <Input\r\n              placeholder=\"Search markets, locations, or keywords...\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              onKeyPress={handleKeyPress}\r\n              className=\"w-full\"\r\n            />\r\n          </div>\r\n          <Button\r\n            onClick={handleSearch}\r\n            disabled={!searchQuery.trim()}\r\n            className=\"shrink-0\"\r\n          >\r\n            Search\r\n          </Button>\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={() => setShowAdvancedFilters(!showAdvancedFilters)}\r\n            className=\"shrink-0\"\r\n          >\r\n            {showAdvancedFilters ? 'Hide' : 'Show'} Filters\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Quick Filters */}\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          <span className=\"text-sm font-medium text-muted-foreground mr-2\">Quick filters:</span>\r\n          <Badge\r\n            variant={localFilters.category?.includes('farmers-market') ? 'default' : 'outline'}\r\n            className=\"cursor-pointer\"\r\n            onClick={() => handleCategoryToggle('farmers-market')}\r\n          >\r\n            Farmers Markets\r\n          </Badge>\r\n          <Badge\r\n            variant={localFilters.category?.includes('arts-crafts') ? 'default' : 'outline'}\r\n            className=\"cursor-pointer\"\r\n            onClick={() => handleCategoryToggle('arts-crafts')}\r\n          >\r\n            Arts & Crafts\r\n          </Badge>\r\n          <Badge\r\n            variant={localFilters.category?.includes('night-market') ? 'default' : 'outline'}\r\n            className=\"cursor-pointer\"\r\n            onClick={() => handleCategoryToggle('night-market')}\r\n          >\r\n            Night Markets\r\n          </Badge>\r\n          <Badge\r\n            variant={localFilters.category?.includes('street-fair') ? 'default' : 'outline'}\r\n            className=\"cursor-pointer\"\r\n            onClick={() => handleCategoryToggle('street-fair')}\r\n          >\r\n            Street Fairs\r\n          </Badge>\r\n          <Badge\r\n            variant={localFilters.accessibility?.wheelchairAccessible ? 'default' : 'outline'}\r\n            className=\"cursor-pointer\"\r\n            onClick={() => handleFilterChange('accessibility', {\r\n              ...localFilters.accessibility,\r\n              wheelchairAccessible: !localFilters.accessibility?.wheelchairAccessible\r\n            })}\r\n          >\r\n             Wheelchair Accessible\r\n          </Badge>\r\n          <Badge\r\n            variant={localFilters.accessibility?.parkingAvailable ? 'default' : 'outline'}\r\n            className=\"cursor-pointer\"\r\n            onClick={() => handleFilterChange('accessibility', {\r\n              ...localFilters.accessibility,\r\n              parkingAvailable: !localFilters.accessibility?.parkingAvailable\r\n            })}\r\n          >\r\n             Parking\r\n          </Badge>\r\n          <Badge\r\n            variant={localFilters.accessibility?.restroomsAvailable ? 'default' : 'outline'}\r\n            className=\"cursor-pointer\"\r\n            onClick={() => handleFilterChange('accessibility', {\r\n              ...localFilters.accessibility,\r\n              restroomsAvailable: !localFilters.accessibility?.restroomsAvailable\r\n            })}\r\n          >\r\n             Restrooms\r\n          </Badge>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Advanced Filters */}\r\n      {showAdvancedFilters && (\r\n        <div className=\"mt-6 pt-6 space-y-6\">\r\n          <div className=\"h-px bg-surface-2/50\" />\r\n          {/* Categories */}\r\n          <div>\r\n            <h4 className=\"text-sm font-medium mb-3\">Categories</h4>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {categories.map((category) => (\r\n                <Badge\r\n                  key={category.value}\r\n                  variant={localFilters.category?.includes(category.value) ? 'default' : 'outline'}\r\n                  className=\"cursor-pointer\"\r\n                  onClick={() => handleCategoryToggle(category.value)}\r\n                >\r\n                  {category.label}\r\n                </Badge>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Status */}\r\n          <div>\r\n            <h4 className=\"text-sm font-medium mb-3\">Status</h4>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {statuses.map((status) => (\r\n                <Badge\r\n                  key={status.value}\r\n                  variant={localFilters.status?.includes(status.value) ? 'default' : 'outline'}\r\n                  className=\"cursor-pointer\"\r\n                  onClick={() => handleStatusToggle(status.value)}\r\n                >\r\n                  {status.label}\r\n                </Badge>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Location */}\r\n          <div>\r\n            <h4 className=\"text-sm font-medium mb-3\">Location</h4>\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\r\n              <Input\r\n                placeholder=\"City\"\r\n                value={localFilters.location?.city || ''}\r\n                onChange={(e) => handleFilterChange('location', {\r\n                  ...localFilters.location,\r\n                  city: e.target.value\r\n                })}\r\n              />\r\n              <Input\r\n                placeholder=\"State\"\r\n                value={localFilters.location?.state || ''}\r\n                onChange={(e) => handleFilterChange('location', {\r\n                  ...localFilters.location,\r\n                  state: e.target.value\r\n                })}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Accessibility */}\r\n          <div>\r\n            <h4 className=\"text-sm font-medium mb-3\">Accessibility</h4>\r\n            <div className=\"space-y-3\">\r\n              <label className=\"flex items-center space-x-2 cursor-pointer\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={localFilters.accessibility?.wheelchairAccessible || false}\r\n                  onChange={(e) => handleFilterChange('accessibility', {\r\n                    ...localFilters.accessibility,\r\n                    wheelchairAccessible: e.target.checked\r\n                  })}\r\n                  className=\"rounded\"\r\n                />\r\n                <span className=\"text-sm\">Wheelchair Accessible</span>\r\n              </label>\r\n              <label className=\"flex items-center space-x-2 cursor-pointer\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={localFilters.accessibility?.parkingAvailable || false}\r\n                  onChange={(e) => handleFilterChange('accessibility', {\r\n                    ...localFilters.accessibility,\r\n                    parkingAvailable: e.target.checked\r\n                  })}\r\n                  className=\"rounded\"\r\n                />\r\n                <span className=\"text-sm\">Parking Available</span>\r\n              </label>\r\n              <label className=\"flex items-center space-x-2 cursor-pointer\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={localFilters.accessibility?.restroomsAvailable || false}\r\n                  onChange={(e) => handleFilterChange('accessibility', {\r\n                    ...localFilters.accessibility,\r\n                    restroomsAvailable: e.target.checked\r\n                  })}\r\n                  className=\"rounded\"\r\n                />\r\n                <span className=\"text-sm\">Restrooms Available</span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Clear Filters */}\r\n          <div className=\"pt-4 border-t\">\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={handleClear}\r\n              className=\"w-full\"\r\n            >\r\n              Clear All Filters\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Card>\r\n  )\r\n}\r\n\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\MarketGrid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\MarketLifespan.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\NotificationBell.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\PhotoGallery.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\PhotoThumbnail.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\PhotoUploader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ReportIssueModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\Sidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\TodoForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\TodoItem.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\TodoProgress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\TodoTemplates.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\VendorAnalyticsDashboard.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":31,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[578,581],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[578,581],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":32,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[602,605],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[602,605],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook React.useMemo has an unnecessary dependency: 'marketId'. Either exclude it or remove the dependency array.","line":76,"column":6,"nodeType":"ArrayExpression","endLine":76,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: []","fix":{"range":[1857,1867],"text":"[]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook React.useMemo has an unnecessary dependency: 'marketId'. Either exclude it or remove the dependency array.","line":110,"column":6,"nodeType":"ArrayExpression","endLine":110,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: []","fix":{"range":[3243,3253],"text":"[]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react'\r\nimport {\r\n  BarChart3,\r\n  TrendingUp,\r\n  DollarSign,\r\n  Users,\r\n  Star,\r\n  Calendar,\r\n  Download,\r\n  RefreshCw,\r\n  ArrowUpRight,\r\n  ArrowDownRight\r\n} from 'lucide-react'\r\nimport { Card } from '@/components/ui/Card'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { Badge } from '@/components/ui/Badge'\r\nimport {\r\n  AreaChart,\r\n  Area,\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  ResponsiveContainer\r\n} from 'recharts'\r\n\r\ninterface VendorAnalyticsDashboardProps {\r\n  marketId: string\r\n  marketData: any\r\n  applicationData: any\r\n  className?: string\r\n}\r\n\r\nexport const VendorAnalyticsDashboard: React.FC<VendorAnalyticsDashboardProps> = ({\r\n  marketId,\r\n  marketData,\r\n  applicationData,\r\n  className\r\n}) => {\r\n  const [timeRange, setTimeRange] = useState('all-time')\r\n\r\n  // Chart colors\r\n  const COLORS = {\r\n    primary: '#3B82F6',\r\n    secondary: '#10B981',\r\n    accent: '#F59E0B',\r\n    danger: '#EF4444',\r\n    purple: '#8B5CF6',\r\n    pink: '#EC4899',\r\n    indigo: '#6366F1',\r\n    gray: '#6B7280'\r\n  }\r\n\r\n  // Mock analytics data for this market - in real app this would come from API\r\n  const marketAnalytics = React.useMemo(() => {\r\n    // Generate mock data based on market and application data\r\n    const mockData = []\r\n\r\n    // Create trend data for the past 6 months\r\n    for (let i = 5; i >= 0; i--) {\r\n      const date = new Date()\r\n      date.setMonth(date.getMonth() - i)\r\n\r\n      mockData.push({\r\n        month: date.toLocaleDateString('en-US', { month: 'short', year: '2-digit' }),\r\n        earnings: Math.floor(Math.random() * 2000) + 500,\r\n        attendance: Math.floor(Math.random() * 1000) + 200,\r\n        rating: (Math.random() * 2) + 3, // 3-5 star rating\r\n        sales: Math.floor(Math.random() * 1500) + 300\r\n      })\r\n    }\r\n\r\n    return mockData\r\n  }, [marketId])\r\n\r\n  // Calculate market-specific stats\r\n  const marketStats = React.useMemo(() => {\r\n    const totalEarnings = marketAnalytics.reduce((sum, month) => sum + month.earnings, 0)\r\n    const avgEarnings = totalEarnings / marketAnalytics.length\r\n    const totalAttendance = marketAnalytics.reduce((sum, month) => sum + month.attendance, 0)\r\n    const avgRating = marketAnalytics.reduce((sum, month) => sum + month.rating, 0) / marketAnalytics.length\r\n    const totalSales = marketAnalytics.reduce((sum, month) => sum + month.sales, 0)\r\n\r\n    // Mock comparisons to previous periods\r\n    const earningsChange = Math.random() > 0.5 ? 15 : -5\r\n    const attendanceChange = Math.random() > 0.5 ? 8 : -12\r\n\r\n    return {\r\n      totalEarnings,\r\n      avgEarnings,\r\n      totalAttendance,\r\n      avgRating: avgRating.toFixed(1),\r\n      totalSales,\r\n      earningsChange,\r\n      attendanceChange,\r\n      applicationStatus: applicationData?.status || 'pending'\r\n    }\r\n  }, [marketAnalytics, applicationData])\r\n\r\n  // Performance by category (mock data)\r\n  const categoryPerformance = React.useMemo(() => {\r\n    const categories = ['Sales', 'Foot Traffic', 'Customer Satisfaction', 'Competition']\r\n    return categories.map(category => ({\r\n      category,\r\n      score: Math.floor(Math.random() * 40) + 60, // 60-100 score\r\n      trend: Math.random() > 0.5 ? 'up' : 'down'\r\n    }))\r\n  }, [marketId])\r\n\r\n  // Market comparison data (mock)\r\n  const marketComparison = React.useMemo(() => {\r\n    const similarMarkets = [\r\n      { name: 'Similar Market A', earnings: marketStats.avgEarnings * (Math.random() * 0.4 + 0.8) },\r\n      { name: 'Similar Market B', earnings: marketStats.avgEarnings * (Math.random() * 0.4 + 0.8) },\r\n      { name: 'Your Performance', earnings: marketStats.avgEarnings }\r\n    ]\r\n\r\n    return similarMarkets\r\n  }, [marketStats.avgEarnings])\r\n\r\n  const formatCurrency = (value: number) => {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD'\r\n    }).format(value)\r\n  }\r\n\r\n  const formatNumber = (value: number) => {\r\n    return new Intl.NumberFormat('en-US').format(value)\r\n  }\r\n\r\n  const timeRangeOptions = [\r\n    { value: 'all-time', label: 'All Markets' },\r\n    { value: 'this-year', label: 'This Year' },\r\n    { value: '6months', label: 'Last 6 Months' },\r\n    { value: '3months', label: 'Last 3 Months' }\r\n  ]\r\n\r\n\r\n\r\n  return (\r\n    <div className={`space-y-6 ${className}`}>\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <BarChart3 className=\"h-5 w-5 text-primary\" />\r\n          <div>\r\n            <h2 className=\"text-xl font-bold\">Performance Analytics</h2>\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              Your performance in {marketData?.name || 'this market'}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <select\r\n            value={timeRange}\r\n            onChange={(e) => setTimeRange(e.target.value)}\r\n            className=\"px-3 py-1 border border-border rounded-md text-sm\"\r\n          >\r\n            {timeRangeOptions.map(option => (\r\n              <option key={option.value} value={option.value}>\r\n                {option.label}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <Button variant=\"outline\" size=\"sm\">\r\n            <RefreshCw className=\"h-4 w-4 mr-2\" />\r\n            Refresh\r\n          </Button>\r\n          <Button variant=\"outline\" size=\"sm\">\r\n            <Download className=\"h-4 w-4 mr-2\" />\r\n            Export\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Key Metrics */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n        <Card className=\"p-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-xs font-medium text-muted-foreground uppercase tracking-wide\">Total Earnings</p>\r\n              <p className=\"text-2xl font-bold\">{formatCurrency(marketStats.totalEarnings)}</p>\r\n              <div className=\"flex items-center mt-1\">\r\n                {marketStats.earningsChange >= 0 ? (\r\n                  <ArrowUpRight className=\"h-3 w-3 text-green-500 mr-1\" />\r\n                ) : (\r\n                  <ArrowDownRight className=\"h-3 w-3 text-red-500 mr-1\" />\r\n                )}\r\n                <span className={`text-xs ${marketStats.earningsChange >= 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                  {Math.abs(marketStats.earningsChange)}% vs last period\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div className=\"p-2 bg-green-100 rounded-full\">\r\n              <DollarSign className=\"h-4 w-4 text-green-600\" />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-xs font-medium text-muted-foreground uppercase tracking-wide\">Avg Attendance</p>\r\n              <p className=\"text-2xl font-bold\">{formatNumber(marketStats.totalAttendance / marketAnalytics.length)}</p>\r\n              <div className=\"flex items-center mt-1\">\r\n                {marketStats.attendanceChange >= 0 ? (\r\n                  <ArrowUpRight className=\"h-3 w-3 text-green-500 mr-1\" />\r\n                ) : (\r\n                  <ArrowDownRight className=\"h-3 w-3 text-red-500 mr-1\" />\r\n                )}\r\n                <span className={`text-xs ${marketStats.attendanceChange >= 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                  {Math.abs(marketStats.attendanceChange)}% vs last period\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div className=\"p-2 bg-blue-100 rounded-full\">\r\n              <Users className=\"h-4 w-4 text-blue-600\" />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-xs font-medium text-muted-foreground uppercase tracking-wide\">Customer Rating</p>\r\n              <p className=\"text-2xl font-bold\">{marketStats.avgRating} </p>\r\n              <div className=\"flex items-center mt-1\">\r\n                <span className=\"text-xs text-muted-foreground\">Based on {marketAnalytics.length} months</span>\r\n              </div>\r\n            </div>\r\n            <div className=\"p-2 bg-yellow-100 rounded-full\">\r\n              <Star className=\"h-4 w-4 text-yellow-600\" />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-xs font-medium text-muted-foreground uppercase tracking-wide\">Application Status</p>\r\n              <div className=\"mt-1\">\r\n                <Badge\r\n                  variant=\"outline\"\r\n                  className={\r\n                    marketStats.applicationStatus === 'approved' ? 'bg-green-50 text-green-700 border-green-200' :\r\n                    marketStats.applicationStatus === 'rejected' ? 'bg-red-50 text-red-700 border-red-200' :\r\n                    marketStats.applicationStatus === 'submitted' ? 'bg-blue-50 text-blue-700 border-blue-200' :\r\n                    'bg-gray-50 text-gray-700 border-gray-200'\r\n                  }\r\n                >\r\n                  {marketStats.applicationStatus === 'under-review' ? 'Under Review' :\r\n                   marketStats.applicationStatus === 'submitted' ? 'Submitted' :\r\n                   marketStats.applicationStatus.charAt(0).toUpperCase() + marketStats.applicationStatus.slice(1)}\r\n                </Badge>\r\n              </div>\r\n            </div>\r\n            <div className=\"p-2 bg-purple-100 rounded-full\">\r\n              <Calendar className=\"h-4 w-4 text-purple-600\" />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Charts */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        {/* Earnings Trend */}\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h3 className=\"text-lg font-semibold\">Earnings Trend</h3>\r\n            <Badge variant=\"outline\">{timeRange}</Badge>\r\n          </div>\r\n          <div className=\"h-64\">\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n              <AreaChart data={marketAnalytics}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis dataKey=\"month\" />\r\n                <YAxis />\r\n                <Tooltip formatter={(value) => [formatCurrency(Number(value)), 'Earnings']} />\r\n                <Area\r\n                  type=\"monotone\"\r\n                  dataKey=\"earnings\"\r\n                  stroke={COLORS.primary}\r\n                  fill={COLORS.primary}\r\n                  fillOpacity={0.3}\r\n                />\r\n              </AreaChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Market Comparison */}\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h3 className=\"text-lg font-semibold\">Market Comparison</h3>\r\n            <Badge variant=\"outline\">Similar Markets</Badge>\r\n          </div>\r\n          <div className=\"h-64\">\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n              <BarChart data={marketComparison}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis dataKey=\"name\" />\r\n                <YAxis />\r\n                <Tooltip formatter={(value) => [formatCurrency(Number(value)), 'Avg Earnings']} />\r\n                <Bar\r\n                  dataKey=\"earnings\"\r\n                  fill={COLORS.primary}\r\n                />\r\n              </BarChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Performance Breakdown */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        <Card className=\"p-6\">\r\n          <h3 className=\"text-lg font-semibold mb-4\">Performance Categories</h3>\r\n          <div className=\"space-y-4\">\r\n            {categoryPerformance.map((item) => (\r\n              <div key={item.category} className=\"flex items-center justify-between\">\r\n                <span className=\"text-sm font-medium\">{item.category}</span>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <span className=\"text-sm font-semibold\">{item.score}/100</span>\r\n                  {item.trend === 'up' ? (\r\n                    <ArrowUpRight className=\"h-3 w-3 text-green-500\" />\r\n                  ) : (\r\n                    <ArrowDownRight className=\"h-3 w-3 text-red-500\" />\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <h3 className=\"text-lg font-semibold mb-4\">Key Insights</h3>\r\n          <div className=\"space-y-3 text-sm\">\r\n            <div className=\"flex items-start gap-2\">\r\n              <TrendingUp className=\"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0\" />\r\n              <p>Your earnings are trending upward with a <strong>{marketStats.earningsChange > 0 ? '+' : ''}{marketStats.earningsChange}%</strong> change from last period.</p>\r\n            </div>\r\n            <div className=\"flex items-start gap-2\">\r\n              <Users className=\"h-4 w-4 text-blue-500 mt-0.5 flex-shrink-0\" />\r\n              <p>Customer ratings average <strong>{marketStats.avgRating} stars</strong>, positioning you above average performance.</p>\r\n            </div>\r\n            <div className=\"flex items-start gap-2\">\r\n              <DollarSign className=\"h-4 w-4 text-purple-500 mt-0.5 flex-shrink-0\" />\r\n              <p>Consider optimizing for high-traffic days to maximize your <strong>{formatCurrency(marketStats.totalEarnings)}</strong> potential.</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  )\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\VendorAttendanceTracker.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\VendorConversionRequest.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\VendorExpenseTracker.tsx","messages":[{"ruleId":"no-case-declarations","severity":2,"message":"Unexpected lexical declaration in case block.","line":74,"column":9,"nodeType":"VariableDeclaration","messageId":"unexpected","endLine":74,"endColumn":74}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react'\r\nimport { Plus, Search, Filter, Download, DollarSign } from 'lucide-react'\r\nimport { useExpenses, useExpenseSummary } from '@/features/tracking/hooks/useExpenses'\r\nimport { Expense, ExpenseCategory } from '@/types'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { Input } from '@/components/ui/Input'\r\nimport { Select } from '@/components/ui/Select'\r\nimport { Card } from '@/components/ui/Card'\r\nimport { EmptyState } from '@/components/ui/EmptyState'\r\nimport { Spinner } from '@/components/ui/Spinner'\r\nimport { ExpenseItem } from './ExpenseItem'\r\nimport { ExpenseForm } from './ExpenseForm'\r\nimport { ExpenseSummary } from './ExpenseSummary'\r\nimport { ExpenseChart } from './ExpenseChart'\r\nimport { cn } from '@/utils/cn'\r\nimport Papa from 'papaparse'\r\nimport { saveAs } from 'file-saver'\r\nimport { format } from 'date-fns'\r\n\r\ninterface VendorExpenseTrackerProps {\r\n  marketId: string\r\n  className?: string\r\n}\r\n\r\ntype FilterType = 'all' | 'recent' | 'this-month' | 'this-year'\r\ntype SortType = 'date' | 'amount' | 'category' | 'title'\r\n\r\nconst categoryLabels: Record<ExpenseCategory, string> = {\r\n  'booth-fee': 'Booth Fee',\r\n  'transportation': 'Transportation',\r\n  'accommodation': 'Accommodation',\r\n  'supplies': 'Supplies',\r\n  'equipment': 'Equipment',\r\n  'marketing': 'Marketing',\r\n  'food': 'Food',\r\n  'fuel': 'Fuel',\r\n  'insurance': 'Insurance',\r\n  'other': 'Other'\r\n}\r\n\r\nexport const VendorExpenseTracker: React.FC<VendorExpenseTrackerProps> = React.memo(({\r\n  marketId,\r\n  className\r\n}) => {\r\n  const { expenses, isLoading, error, createExpense, deleteExpense } = useExpenses(marketId)\r\n  const { summary } = useExpenseSummary(marketId)\r\n  \r\n  const [searchQuery, setSearchQuery] = useState('')\r\n  const [filter, setFilter] = useState<FilterType>('all')\r\n  const [sortBy, setSortBy] = useState<SortType>('date')\r\n  const [selectedCategory, setSelectedCategory] = useState<ExpenseCategory | ''>('')\r\n  const [isFormOpen, setIsFormOpen] = useState(false)\r\n  const [editingExpense, setEditingExpense] = useState<Expense | null>(null)\r\n  const [showCharts, setShowCharts] = useState(false)\r\n\r\n  // Filter and sort expenses\r\n  const filteredAndSortedExpenses = React.useMemo(() => {\r\n    let filtered = expenses\r\n\r\n    // Apply search filter\r\n    if (searchQuery.trim()) {\r\n      const query = searchQuery.toLowerCase()\r\n      filtered = filtered.filter(expense =>\r\n        expense.title.toLowerCase().includes(query) ||\r\n        expense.description?.toLowerCase().includes(query) ||\r\n        expense.category.toLowerCase().includes(query)\r\n      )\r\n    }\r\n\r\n    // Apply date filter\r\n    const now = new Date()\r\n    switch (filter) {\r\n      case 'recent':\r\n        const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000)\r\n        filtered = filtered.filter(expense => new Date(expense.date) >= weekAgo)\r\n        break\r\n      case 'this-month':\r\n        filtered = filtered.filter(expense => {\r\n          const expenseDate = new Date(expense.date)\r\n          return expenseDate.getMonth() === now.getMonth() && expenseDate.getFullYear() === now.getFullYear()\r\n        })\r\n        break\r\n      case 'this-year':\r\n        filtered = filtered.filter(expense => new Date(expense.date).getFullYear() === now.getFullYear())\r\n        break\r\n    }\r\n\r\n    // Apply category filter\r\n    if (selectedCategory) {\r\n      filtered = filtered.filter(expense => expense.category === selectedCategory)\r\n    }\r\n\r\n    // Sort expenses\r\n    filtered.sort((a, b) => {\r\n      switch (sortBy) {\r\n        case 'date':\r\n          return new Date(b.date).getTime() - new Date(a.date).getTime()\r\n        case 'amount':\r\n          return b.amount - a.amount\r\n        case 'category':\r\n          return a.category.localeCompare(b.category)\r\n        case 'title':\r\n          return a.title.localeCompare(b.title)\r\n        default:\r\n          return 0\r\n      }\r\n    })\r\n\r\n    return filtered\r\n  }, [expenses, searchQuery, filter, sortBy, selectedCategory])\r\n\r\n  // Get unique categories\r\n  const categories = React.useMemo(() => {\r\n    const cats = Array.from(new Set(expenses.map(expense => expense.category)))\r\n    return cats.sort()\r\n  }, [expenses])\r\n\r\n  // Get stats\r\n  const stats = React.useMemo(() => {\r\n    const total = expenses.reduce((sum, expense) => sum + expense.amount, 0)\r\n    const thisMonth = expenses.filter(expense => {\r\n      const expenseDate = new Date(expense.date)\r\n      const now = new Date()\r\n      return expenseDate.getMonth() === now.getMonth() && expenseDate.getFullYear() === now.getFullYear()\r\n    }).reduce((sum, expense) => sum + expense.amount, 0)\r\n    \r\n    return {\r\n      total,\r\n      count: expenses.length,\r\n      thisMonth,\r\n      average: expenses.length > 0 ? total / expenses.length : 0\r\n    }\r\n  }, [expenses])\r\n\r\n  const handleCreateExpense = async (expenseData: Omit<Expense, 'id' | 'createdAt' | 'updatedAt'>) => {\r\n    try {\r\n      await createExpense(expenseData)\r\n      setIsFormOpen(false)\r\n    } catch (error) {\r\n      console.error('Failed to create expense:', error)\r\n    }\r\n  }\r\n\r\n  const handleDeleteExpense = async (id: string) => {\r\n    try {\r\n      await deleteExpense(id)\r\n    } catch (error) {\r\n      console.error('Failed to delete expense:', error)\r\n    }\r\n  }\r\n\r\n  const handleEditExpense = (expense: Expense) => {\r\n    setEditingExpense(expense)\r\n    setIsFormOpen(true)\r\n  }\r\n\r\n  const handleCloseForm = () => {\r\n    setIsFormOpen(false)\r\n    setEditingExpense(null)\r\n  }\r\n\r\n  const handleExport = () => {\r\n    try {\r\n      if (filteredAndSortedExpenses.length === 0) {\r\n        alert('No expenses to export')\r\n        return\r\n      }\r\n\r\n      // Prepare export data\r\n      const exportData = filteredAndSortedExpenses.map(expense => ({\r\n        'Title': expense.title,\r\n        'Description': expense.description || '',\r\n        'Category': categoryLabels[expense.category],\r\n        'Amount': formatCurrency(expense.amount),\r\n        'Date': format(new Date(expense.date), 'yyyy-MM-dd')\r\n      }))\r\n\r\n      // Generate filename with timestamp\r\n      const timestamp = format(new Date(), 'yyyy-MM-dd-HHmm')\r\n      const filename = `expenses-${timestamp}.csv`\r\n\r\n      // Convert to CSV and download\r\n      const csv = Papa.unparse(exportData)\r\n      const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' })\r\n      saveAs(blob, filename)\r\n    } catch (error) {\r\n      console.error('Export failed:', error)\r\n      alert('Export failed. Please try again.')\r\n    }\r\n  }\r\n\r\n  const formatCurrency = (amount: number) => {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD'\r\n    }).format(amount)\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Card className={cn(\"p-8\", className)}>\r\n        <div className=\"flex items-center justify-center\">\r\n          <Spinner className=\"w-6 h-6\" />\r\n          <span className=\"ml-2 text-muted-foreground\">Loading expenses...</span>\r\n        </div>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Card className={cn(\"p-8\", className)}>\r\n        <div className=\"text-center text-red-600\">\r\n          <DollarSign className=\"w-8 h-8 mx-auto mb-2\" />\r\n          <p>Error loading expenses: {error}</p>\r\n        </div>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className={cn(\"space-y-6\", className)}>\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold text-foreground\">Expense Tracking</h2>\r\n          <p className=\"text-sm text-muted-foreground mt-1\">\r\n            Monitor and analyze your market-related expenses\r\n          </p>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={() => setShowCharts(!showCharts)}\r\n            className=\"flex items-center gap-2 h-10 touch-manipulation\"\r\n            size=\"md\"\r\n          >\r\n            <Filter className=\"w-4 h-4\" />\r\n            {showCharts ? 'Hide Charts' : 'Show Charts'}\r\n          </Button>\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={handleExport}\r\n            className=\"flex items-center gap-2 h-10 touch-manipulation\"\r\n            size=\"md\"\r\n          >\r\n            <Download className=\"w-4 h-4\" />\r\n            Export\r\n          </Button>\r\n          <Button\r\n            onClick={() => setIsFormOpen(true)}\r\n            className=\"flex items-center gap-2 h-11 touch-manipulation\"\r\n            size=\"lg\"\r\n          >\r\n            <Plus className=\"w-4 h-4\" />\r\n            Add Expense\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats */}\r\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n        <Card className=\"p-4\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"w-8 h-8 bg-accent/10 rounded-lg flex items-center justify-center\">\r\n              <DollarSign className=\"w-4 h-4 text-accent\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Total</p>\r\n              <p className=\"text-lg font-semibold text-foreground\">{formatCurrency(stats.total)}</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-4\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"w-8 h-8 bg-blue-500/10 rounded-lg flex items-center justify-center\">\r\n              <Plus className=\"w-4 h-4 text-blue-500\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Transactions</p>\r\n              <p className=\"text-lg font-semibold text-foreground\">{stats.count}</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-4\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"w-8 h-8 bg-success/10 rounded-lg flex items-center justify-center\">\r\n              <DollarSign className=\"w-4 h-4 text-success\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">This Month</p>\r\n              <p className=\"text-lg font-semibold text-foreground\">{formatCurrency(stats.thisMonth)}</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-4\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"w-8 h-8 bg-warning/10 rounded-lg flex items-center justify-center\">\r\n              <DollarSign className=\"w-4 h-4 text-warning\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Average</p>\r\n              <p className=\"text-lg font-semibold text-foreground\">{formatCurrency(stats.average)}</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Summary */}\r\n      {summary && (\r\n        <ExpenseSummary \r\n          expenses={expenses} \r\n          onExport={handleExport}\r\n        />\r\n      )}\r\n\r\n      {/* Charts */}\r\n      {showCharts && (\r\n        <ExpenseChart expenses={expenses} />\r\n      )}\r\n\r\n      {/* Filters and Search */}\r\n      <Card className=\"p-4\">\r\n        <div className=\"flex flex-col md:flex-row gap-4\">\r\n          {/* Search */}\r\n          <div className=\"flex-1\">\r\n            <div className=\"relative\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\r\n              <Input\r\n                placeholder=\"Search expenses...\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                className=\"pl-10\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Filters */}\r\n          <div className=\"flex items-center gap-2\">\r\n            <Select\r\n              value={filter}\r\n              onValueChange={(value) => setFilter(value as FilterType)}\r\n              options={[\r\n                { value: 'all', label: 'All Time' },\r\n                { value: 'recent', label: 'Last 7 Days' },\r\n                { value: 'this-month', label: 'This Month' },\r\n                { value: 'this-year', label: 'This Year' }\r\n              ]}\r\n            />\r\n\r\n            <Select\r\n              value={sortBy}\r\n              onValueChange={(value) => setSortBy(value as SortType)}\r\n              options={[\r\n                { value: 'date', label: 'Date' },\r\n                { value: 'amount', label: 'Amount' },\r\n                { value: 'category', label: 'Category' },\r\n                { value: 'title', label: 'Title' }\r\n              ]}\r\n            />\r\n\r\n            <Select\r\n              value={selectedCategory}\r\n              onValueChange={(value) => setSelectedCategory(value as ExpenseCategory | '')}\r\n              options={[\r\n                { value: '', label: 'All Categories' },\r\n                ...categories.map(cat => ({ \r\n                  value: cat, \r\n                  label: categoryLabels[cat]\r\n                }))\r\n              ]}\r\n            />\r\n\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={() => {\r\n                setSearchQuery('')\r\n                setFilter('all')\r\n                setSelectedCategory('')\r\n              }}\r\n            >\r\n              Clear Filters\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Expense List */}\r\n      {filteredAndSortedExpenses.length === 0 ? (\r\n        <Card className=\"p-8\">\r\n          <EmptyState\r\n            icon={<DollarSign className=\"w-12 h-12 text-muted-foreground/50\" />}\r\n            title=\"No expenses found\"\r\n            description={\r\n              searchQuery || filter !== 'all' || selectedCategory\r\n                ? 'Try adjusting your search or filters'\r\n                : 'Start tracking your market expenses to stay organized'\r\n            }\r\n            action={\r\n              <Button onClick={() => setIsFormOpen(true)}>\r\n                <Plus className=\"w-4 h-4 mr-2\" />\r\n                Add Expense\r\n              </Button>\r\n            }\r\n          />\r\n        </Card>\r\n      ) : (\r\n        <div className=\"space-y-3\">\r\n          {filteredAndSortedExpenses.map((expense) => (\r\n            <ExpenseItem\r\n              key={expense.id}\r\n              expense={expense}\r\n              onEdit={handleEditExpense}\r\n              onDelete={handleDeleteExpense}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Form Modal */}\r\n      <ExpenseForm\r\n        isOpen={isFormOpen}\r\n        onClose={handleCloseForm}\r\n        onSubmit={handleCreateExpense}\r\n        editingExpense={editingExpense}\r\n        marketId={marketId}\r\n      />\r\n    </div>\r\n  )\r\n})","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\VendorMarketCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\VendorMarketRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\VendorTodoList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ui\\Accordion.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ui\\Alert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ui\\Avatar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ui\\Badge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ui\\Button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ui\\Card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ui\\Checkbox.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'indeterminate' is assigned a value but never used.","line":20,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":20,"endColumn":20}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react'\r\nimport { cn } from '@/utils/cn'\r\n\r\nexport interface CheckboxProps extends Omit<React.InputHTMLAttributes<HTMLInputElement>, 'type' | 'onChange'> {\r\n  label?: string\r\n  description?: string\r\n  error?: string\r\n  indeterminate?: boolean\r\n  onValueChange?: (checked: boolean) => void\r\n  onChange?: React.ChangeEventHandler<HTMLInputElement>\r\n}\r\n\r\nconst Checkbox = React.forwardRef<HTMLInputElement, CheckboxProps>(\r\n  (\r\n    {\r\n      className,\r\n      label,\r\n      description,\r\n      error,\r\n      indeterminate = false,\r\n      onValueChange,\r\n      onChange,\r\n      id,\r\n      disabled,\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const checkboxId = id || `checkbox-${Math.random().toString(36).substr(2, 9)}`\r\n\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      onValueChange?.(e.target.checked)\r\n      onChange?.(e)\r\n    }\r\n\r\n    return (\r\n      <div className=\"flex items-start space-x-3\">\r\n        <div className=\"flex items-center\">\r\n          <input\r\n            type=\"checkbox\"\r\n            ref={ref}\r\n            id={checkboxId}\r\n            className={cn(\r\n              'h-4 w-4 rounded border border-border text-accent focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50',\r\n              className\r\n            )}\r\n            onChange={handleChange}\r\n            disabled={disabled}\r\n            {...props}\r\n          />\r\n        </div>\r\n        {(label || description) && (\r\n          <div className=\"flex-1\">\r\n            {label && (\r\n              <label\r\n                htmlFor={checkboxId}\r\n                className={cn(\r\n                  'text-sm font-medium text-foreground cursor-pointer',\r\n                  disabled && 'cursor-not-allowed opacity-50'\r\n                )}\r\n              >\r\n                {label}\r\n                {props.required && <span className=\"text-destructive ml-1\">*</span>}\r\n              </label>\r\n            )}\r\n            {description && (\r\n              <p className=\"text-sm text-muted-foreground mt-1\">{description}</p>\r\n            )}\r\n            {error && (\r\n              <p className=\"text-sm text-destructive mt-1\">{error}</p>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n)\r\n\r\nCheckbox.displayName = 'Checkbox'\r\n\r\nexport { Checkbox }","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ui\\Dropdown.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ui\\EmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ui\\ErrorBoundary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ui\\Input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ui\\Loader.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":70,"column":127,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":70,"endColumn":130,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1900,1903],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1900,1903],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react'\r\nimport { cn } from '@/utils/cn'\r\n\r\nexport interface ShimmerProps {\r\n  className?: string\r\n  lines?: number\r\n}\r\n\r\nexport interface SkeletonProps {\r\n  className?: string\r\n  animate?: boolean\r\n}\r\n\r\nexport interface PageLoaderProps {\r\n  size?: 'sm' | 'md' | 'lg'\r\n  message?: string\r\n  className?: string\r\n}\r\n\r\n// Shimmer loading effect for content areas\r\nexport function Shimmer({ className, lines = 3 }: ShimmerProps) {\r\n  return (\r\n    <div className={cn(\"space-y-2\", className)}>\r\n      {Array.from({ length: lines }).map((_, index) => (\r\n        <div\r\n          key={index}\r\n          className=\"h-4 bg-gradient-to-r from-muted via-muted/50 to-muted animate-shimmer rounded\"\r\n          style={{\r\n            width: index === 0 ? '100%' : index === 1 ? '80%' : '60%',\r\n            animationDelay: `${index * 0.1}s`\r\n          }}\r\n        />\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\n// Skeleton loader for specific shapes\r\nexport function Skeleton({ className, animate = true }: SkeletonProps) {\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"bg-muted rounded-md\",\r\n        animate && \"animate-pulse\",\r\n        className\r\n      )}\r\n    />\r\n  )\r\n}\r\n\r\n// Full page loader\r\nexport function PageLoader({ size = 'md', message = 'Loading...', className }: PageLoaderProps) {\r\n  const sizes = {\r\n    sm: 'h-4 w-4',\r\n    md: 'h-6 w-6',\r\n    lg: 'h-8 w-8',\r\n  }\r\n\r\n  return (\r\n    <div className={cn(\"flex flex-col items-center justify-center space-y-4\", className)}>\r\n      <div className={cn(\"border-2 border-current border-t-transparent rounded-full animate-spin\", sizes[size])} />\r\n      {message && (\r\n        <p className=\"text-sm text-muted-foreground animate-fade-in\">{message}</p>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\n// Button loading state enhancer\r\nexport function LoadingButton({ children, loading, ...props }: { children: React.ReactNode, loading?: boolean, [key: string]: any }) {\r\n  return (\r\n    <button\r\n      {...props}\r\n      disabled={loading || props.disabled}\r\n      className={cn(\r\n        props.className,\r\n        loading && \"cursor-not-allowed opacity-70\"\r\n      )}\r\n    >\r\n      {loading ? (\r\n        <span className=\"flex items-center space-x-2\">\r\n          <div className=\"h-4 w-4 border-2 border-current border-t-transparent rounded-full animate-spin\" />\r\n          <span>Loading...</span>\r\n        </span>\r\n      ) : (\r\n        children\r\n      )}\r\n    </button>\r\n  )\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ui\\Modal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ui\\Progress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ui\\Radio.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ui\\Select.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ui\\Spinner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ui\\Table.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":4,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[95,98],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[95,98],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":8,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[187,190],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[187,190],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":14,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[363,366],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[363,366],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":26,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[694,697],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[694,697],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react'\r\nimport { cn } from '@/utils/cn'\r\n\r\nexport interface TableColumn<T = any> {\r\n  key: keyof T | string\r\n  title: string\r\n  dataIndex?: keyof T\r\n  render?: (value: any, record: T, index: number) => React.ReactNode\r\n  width?: string | number\r\n  align?: 'left' | 'center' | 'right'\r\n  sortable?: boolean\r\n}\r\n\r\nexport interface TableProps<T = any> extends React.HTMLAttributes<HTMLTableElement> {\r\n  columns: TableColumn<T>[]\r\n  data: T[]\r\n  loading?: boolean\r\n  emptyText?: string\r\n  size?: 'sm' | 'md' | 'lg'\r\n  striped?: boolean\r\n  hoverable?: boolean\r\n  bordered?: boolean\r\n  onRowClick?: (record: T, index: number) => void\r\n}\r\n\r\nconst Table = <T extends Record<string, any>>({\r\n  className,\r\n  columns,\r\n  data,\r\n  loading = false,\r\n  emptyText = 'No data available',\r\n  size = 'md',\r\n  striped = false,\r\n  hoverable = false,\r\n  bordered = false,\r\n  onRowClick,\r\n  ...props\r\n}: TableProps<T>) => {\r\n  const sizeClasses = {\r\n    sm: 'text-sm',\r\n    md: 'text-sm',\r\n    lg: 'text-base',\r\n  }\r\n\r\n  const cellPaddingClasses = {\r\n    sm: 'px-3 py-2',\r\n    md: 'px-4 py-3',\r\n    lg: 'px-6 py-4',\r\n  }\r\n\r\n  const getValue = (record: T, column: TableColumn<T>) => {\r\n    if (column.render) {\r\n      const dataIndex = column.dataIndex || (column.key as keyof T)\r\n      return column.render(record[dataIndex], record, data.indexOf(record))\r\n    }\r\n    \r\n    const dataIndex = column.dataIndex || (column.key as keyof T)\r\n    return record[dataIndex]\r\n  }\r\n\r\n  const handleRowClick = (record: T, index: number) => {\r\n    if (onRowClick) {\r\n      onRowClick(record, index)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"w-full\">\r\n      <div className=\"overflow-x-auto\">\r\n        <table\r\n          className={cn(\r\n            'w-full border-collapse',\r\n            sizeClasses[size],\r\n            bordered && 'border border-border',\r\n            className\r\n          )}\r\n          {...props}\r\n        >\r\n          <thead>\r\n            <tr className=\"bg-surface/50\">\r\n              {columns.map((column, index) => (\r\n                <th\r\n                  key={index}\r\n                  className={cn(\r\n                    'font-medium text-foreground text-left border-b border-border',\r\n                    cellPaddingClasses[size],\r\n                    column.align === 'center' && 'text-center',\r\n                    column.align === 'right' && 'text-right'\r\n                  )}\r\n                  style={{ width: column.width }}\r\n                >\r\n                  {column.title}\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {loading ? (\r\n              <tr>\r\n                <td\r\n                  colSpan={columns.length}\r\n                  className={cn(\r\n                    'text-center text-muted-foreground border-b border-border',\r\n                    cellPaddingClasses[size]\r\n                  )}\r\n                >\r\n                  <div className=\"flex items-center justify-center\">\r\n                    <div className=\"w-4 h-4 border-2 border-muted border-t-accent rounded-full animate-spin mr-2\" />\r\n                    Loading...\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ) : data.length === 0 ? (\r\n              <tr>\r\n                <td\r\n                  colSpan={columns.length}\r\n                  className={cn(\r\n                    'text-center text-muted-foreground border-b border-border',\r\n                    cellPaddingClasses[size]\r\n                  )}\r\n                >\r\n                  {emptyText}\r\n                </td>\r\n              </tr>\r\n            ) : (\r\n              data.map((record, rowIndex) => (\r\n                <tr\r\n                  key={rowIndex}\r\n                  className={cn(\r\n                    'border-b border-border',\r\n                    striped && rowIndex % 2 === 0 && 'bg-surface/25',\r\n                    hoverable && 'hover:bg-surface/50 cursor-pointer',\r\n                    onRowClick && 'cursor-pointer'\r\n                  )}\r\n                  onClick={() => onRowClick && handleRowClick(record, rowIndex)}\r\n                >\r\n                  {columns.map((column, colIndex) => (\r\n                    <td\r\n                      key={colIndex}\r\n                      className={cn(\r\n                        'text-foreground',\r\n                        cellPaddingClasses[size],\r\n                        column.align === 'center' && 'text-center',\r\n                        column.align === 'right' && 'text-right'\r\n                      )}\r\n                    >\r\n                      {getValue(record, column)}\r\n                    </td>\r\n                  ))}\r\n                </tr>\r\n              ))\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nTable.displayName = 'Table'\r\n\r\n// Table sub-components\r\nexport interface TableHeaderProps extends React.HTMLAttributes<HTMLTableSectionElement> {}\r\n\r\nconst TableHeader: React.FC<TableHeaderProps> = ({ className, children, ...props }) => (\r\n  <thead className={cn('bg-surface/50', className)} {...props}>\r\n    {children}\r\n  </thead>\r\n)\r\nTableHeader.displayName = 'TableHeader'\r\n\r\nexport interface TableBodyProps extends React.HTMLAttributes<HTMLTableSectionElement> {}\r\n\r\nconst TableBody: React.FC<TableBodyProps> = ({ className, children, ...props }) => (\r\n  <tbody className={cn('', className)} {...props}>\r\n    {children}\r\n  </tbody>\r\n)\r\nTableBody.displayName = 'TableBody'\r\n\r\nexport interface TableRowProps extends React.HTMLAttributes<HTMLTableRowElement> {}\r\n\r\nconst TableRow: React.FC<TableRowProps> = ({ className, children, ...props }) => (\r\n  <tr\r\n    className={cn('border-b border-border hover:bg-surface/50', className)}\r\n    {...props}\r\n  >\r\n    {children}\r\n  </tr>\r\n)\r\nTableRow.displayName = 'TableRow'\r\n\r\nexport interface TableCellProps extends React.TdHTMLAttributes<HTMLTableCellElement> {}\r\n\r\nconst TableCell: React.FC<TableCellProps> = ({ className, children, ...props }) => (\r\n  <td\r\n    className={cn('px-4 py-3 text-foreground', className)}\r\n    {...props}\r\n  >\r\n    {children}\r\n  </td>\r\n)\r\nTableCell.displayName = 'TableCell'\r\n\r\nexport interface TableHeadProps extends React.ThHTMLAttributes<HTMLTableCellElement> {}\r\n\r\nconst TableHead: React.FC<TableHeadProps> = ({ className, children, ...props }) => (\r\n  <th\r\n    className={cn('px-4 py-3 font-medium text-left text-foreground border-b border-border', className)}\r\n    {...props}\r\n  >\r\n    {children}\r\n  </th>\r\n)\r\nTableHead.displayName = 'TableHead'\r\n\r\nexport { Table, TableHeader, TableBody, TableRow, TableCell, TableHead }","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ui\\Tabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ui\\Textarea.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ui\\Toast.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":24,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":24,"endColumn":22},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'handleClose'. Either include it or remove the dependency array.","line":61,"column":6,"nodeType":"ArrayExpression","endLine":61,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [duration, handleClose]","fix":{"range":[1526,1536],"text":"[duration, handleClose]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, createContext, useContext } from 'react'\r\nimport { cn } from '@/utils/cn'\r\nimport { Button } from './Button'\r\n\r\nexport interface Toast {\r\n  id: string\r\n  title?: string\r\n  description?: string\r\n  variant?: 'default' | 'success' | 'warning' | 'destructive' | 'info'\r\n  duration?: number\r\n  action?: React.ReactNode\r\n  onClose?: (id: string) => void\r\n}\r\n\r\nexport interface ToastContextType {\r\n  toasts: Toast[]\r\n  addToast: (toast: Omit<Toast, 'id'>) => void\r\n  removeToast: (id: string) => void\r\n  clearToasts: () => void\r\n}\r\n\r\nconst ToastContext = createContext<ToastContextType | undefined>(undefined)\r\n\r\nexport const useToast = () => {\r\n  const context = useContext(ToastContext)\r\n  if (!context) {\r\n    throw new Error('useToast must be used within a ToastProvider')\r\n  }\r\n  return context\r\n}\r\n\r\nexport interface ToastProps extends Toast {\r\n  onRemove?: (id: string) => void\r\n}\r\n\r\nconst Toast: React.FC<ToastProps> = ({\r\n  id,\r\n  title,\r\n  description,\r\n  variant = 'default',\r\n  duration = 5000,\r\n  action,\r\n  onRemove\r\n}) => {\r\n  const [isVisible, setIsVisible] = useState(false)\r\n  const [isLeaving, setIsLeaving] = useState(false)\r\n\r\n  useEffect(() => {\r\n    // Trigger entrance animation\r\n    const timer = setTimeout(() => setIsVisible(true), 100)\r\n    return () => clearTimeout(timer)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (duration > 0) {\r\n      const timer = setTimeout(() => {\r\n        handleClose()\r\n      }, duration)\r\n      return () => clearTimeout(timer)\r\n    }\r\n  }, [duration])\r\n\r\n  const handleClose = () => {\r\n    setIsLeaving(true)\r\n    setTimeout(() => {\r\n      onRemove?.(id)\r\n    }, 200)\r\n  }\r\n\r\n  const variants = {\r\n    default: 'bg-surface border-border text-foreground',\r\n    success: 'bg-success/10 border-success/30 text-foreground',\r\n    warning: 'bg-warning/10 border-warning/30 text-foreground',\r\n    destructive: 'bg-destructive/10 border-destructive/30 text-foreground',\r\n    info: 'bg-accent/10 border-accent/30 text-foreground',\r\n  }\r\n\r\n  const icons = {\r\n    default: (\r\n      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n      </svg>\r\n    ),\r\n    success: (\r\n      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n      </svg>\r\n    ),\r\n    warning: (\r\n      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16c-.77.833.192 2.5 1.732 2.5z\" />\r\n      </svg>\r\n    ),\r\n    destructive: (\r\n      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n      </svg>\r\n    ),\r\n    info: (\r\n      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n      </svg>\r\n    ),\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        'flex items-start p-4 rounded-lg border shadow-lg transition-all duration-200 ease-in-out',\r\n        variants[variant],\r\n        isVisible && !isLeaving && 'animate-in fade-in-0 slide-in-from-right-full',\r\n        isLeaving && 'animate-in fade-out-0 slide-out-to-right-full'\r\n      )}\r\n      role=\"alert\"\r\n    >\r\n      <div className=\"flex-shrink-0\">\r\n        {icons[variant]}\r\n      </div>\r\n      \r\n      <div className=\"ml-3 flex-1\">\r\n        {title && (\r\n          <p className=\"text-sm font-medium\">{title}</p>\r\n        )}\r\n        {description && (\r\n          <p className={cn('text-sm', title ? 'mt-1' : '')}>\r\n            {description}\r\n          </p>\r\n        )}\r\n        {action && (\r\n          <div className=\"mt-3\">\r\n            {action}\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      <Button\r\n        variant=\"ghost\"\r\n        size=\"sm\"\r\n        onClick={handleClose}\r\n        className=\"ml-4 h-6 w-6 p-0\"\r\n        aria-label=\"Close toast\"\r\n      >\r\n        <svg\r\n          className=\"h-4 w-4\"\r\n          viewBox=\"0 0 24 24\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          strokeWidth=\"2\"\r\n        >\r\n          <path d=\"M18 6L6 18M6 6l12 12\" />\r\n        </svg>\r\n      </Button>\r\n    </div>\r\n  )\r\n}\r\n\r\nToast.displayName = 'Toast'\r\n\r\n// Toast Provider for managing toasts globally\r\nexport interface ToastProviderProps {\r\n  children: React.ReactNode\r\n  position?: 'top-right' | 'top-left' | 'bottom-right' | 'bottom-left' | 'top-center' | 'bottom-center'\r\n  maxToasts?: number\r\n}\r\n\r\nconst ToastProvider: React.FC<ToastProviderProps> = ({\r\n  children,\r\n  position = 'top-right',\r\n  maxToasts = 5\r\n}) => {\r\n  const [toasts, setToasts] = useState<Toast[]>([])\r\n\r\n  const addToast = (toast: Omit<Toast, 'id'>) => {\r\n    const id = Math.random().toString(36).substr(2, 9)\r\n    const newToast: Toast = {\r\n      ...toast,\r\n      id,\r\n    }\r\n    \r\n    setToasts(prev => {\r\n      const updated = [...prev, newToast]\r\n      return updated.slice(-maxToasts) // Keep only the latest maxToasts\r\n    })\r\n  }\r\n\r\n  const removeToast = (id: string) => {\r\n    setToasts(prev => prev.filter(toast => toast.id !== id))\r\n  }\r\n\r\n  const clearToasts = () => {\r\n    setToasts([])\r\n  }\r\n\r\n  const contextValue: ToastContextType = {\r\n    toasts,\r\n    addToast,\r\n    removeToast,\r\n    clearToasts,\r\n  }\r\n\r\n  const positionClasses = {\r\n    'top-right': 'top-4 right-4',\r\n    'top-left': 'top-4 left-4',\r\n    'bottom-right': 'bottom-4 right-4',\r\n    'bottom-left': 'bottom-4 left-4',\r\n    'top-center': 'top-4 left-1/2 transform -translate-x-1/2',\r\n    'bottom-center': 'bottom-4 left-1/2 transform -translate-x-1/2',\r\n  }\r\n\r\n  return (\r\n    <ToastContext.Provider value={contextValue}>\r\n      <div className=\"toast-provider\">\r\n        {children}\r\n        \r\n        <div\r\n          className={cn(\r\n            'fixed z-50 flex flex-col space-y-2 w-96 max-w-sm',\r\n            positionClasses[position]\r\n          )}\r\n          aria-live=\"polite\"\r\n          aria-label=\"Notifications\"\r\n        >\r\n          {toasts.map((toast) => (\r\n            <Toast\r\n              key={toast.id}\r\n              {...toast}\r\n              onRemove={removeToast}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </ToastContext.Provider>\r\n  )\r\n}\r\n\r\nToastProvider.displayName = 'ToastProvider'\r\n\r\nexport { Toast, ToastProvider }","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ui\\Tooltip.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":114,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":114,"endColumn":24}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useRef } from 'react'\r\nimport { cn } from '@/utils/cn'\r\n\r\nexport interface TooltipProps {\r\n  content: React.ReactNode\r\n  children: React.ReactElement\r\n  side?: 'top' | 'right' | 'bottom' | 'left'\r\n  align?: 'start' | 'center' | 'end'\r\n  delayDuration?: number\r\n  disableHoverableContent?: boolean\r\n  className?: string\r\n  arrowClassName?: string\r\n}\r\n\r\nconst Tooltip: React.FC<TooltipProps> = ({\r\n  content,\r\n  children,\r\n  side = 'top',\r\n  align = 'center',\r\n  delayDuration = 700,\r\n  className,\r\n  arrowClassName\r\n}) => {\r\n  const [isVisible, setIsVisible] = useState(false)\r\n  const timeoutRef = useRef<NodeJS.Timeout>()\r\n  const triggerRef = useRef<HTMLDivElement>(null)\r\n\r\n  const showTooltip = () => {\r\n    if (timeoutRef.current) {\r\n      clearTimeout(timeoutRef.current)\r\n    }\r\n    \r\n    timeoutRef.current = setTimeout(() => {\r\n      setIsVisible(true)\r\n    }, delayDuration)\r\n  }\r\n\r\n  const hideTooltip = () => {\r\n    if (timeoutRef.current) {\r\n      clearTimeout(timeoutRef.current)\r\n    }\r\n    setIsVisible(false)\r\n  }\r\n\r\n  const sideClasses = {\r\n    top: 'bottom-full left-1/2 transform -translate-x-1/2 mb-2',\r\n    right: 'left-full top-1/2 transform -translate-y-1/2 ml-2',\r\n    bottom: 'top-full left-1/2 transform -translate-x-1/2 mt-2',\r\n    left: 'right-full top-1/2 transform -translate-y-1/2 mr-2',\r\n  }\r\n\r\n  const alignClasses = {\r\n    start: side === 'top' || side === 'bottom' ? 'left-0' : 'top-0',\r\n    center: 'left-1/2 top-1/2',\r\n    end: side === 'top' || side === 'bottom' ? 'right-0' : 'bottom-0',\r\n  }\r\n\r\n  const arrowClasses = {\r\n    top: 'top-full left-1/2 transform -translate-x-1/2 border-l-transparent border-r-transparent border-b-transparent border-t-border',\r\n    right: 'right-full top-1/2 transform -translate-y-1/2 border-t-transparent border-b-transparent border-r-transparent border-l-border',\r\n    bottom: 'bottom-full left-1/2 transform -translate-x-1/2 border-l-transparent border-r-transparent border-t-transparent border-b-border',\r\n    left: 'left-full top-1/2 transform -translate-y-1/2 border-t-transparent border-b-transparent border-l-transparent border-r-border',\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"relative inline-block\"\r\n      ref={triggerRef}\r\n      onMouseEnter={showTooltip}\r\n      onMouseLeave={hideTooltip}\r\n      onFocus={showTooltip}\r\n      onBlur={hideTooltip}\r\n    >\r\n      {children}\r\n      \r\n      {isVisible && (\r\n        <div\r\n          className={cn(\r\n            'absolute z-50 px-3 py-2 text-sm text-foreground bg-surface border border-border rounded-md shadow-lg whitespace-nowrap',\r\n            'animate-in fade-in-0 zoom-in-95 duration-200',\r\n            sideClasses[side],\r\n            alignClasses[align],\r\n            className\r\n          )}\r\n          role=\"tooltip\"\r\n          aria-hidden={!isVisible}\r\n        >\r\n          {content}\r\n          \r\n          <div\r\n            className={cn(\r\n              'absolute w-0 h-0',\r\n              arrowClasses[side],\r\n              arrowClassName\r\n            )}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nTooltip.displayName = 'Tooltip'\r\n\r\n// Simple tooltip hook for programmatic usage\r\nexport interface UseTooltipProps {\r\n  content: React.ReactNode\r\n  side?: 'top' | 'right' | 'bottom' | 'left'\r\n  align?: 'start' | 'center' | 'end'\r\n  delayDuration?: number\r\n  disabled?: boolean\r\n}\r\n\r\nexport const useTooltip = ({\r\n  disabled = false\r\n}: {\r\n  disabled?: boolean\r\n}) => {\r\n  const [isVisible, setIsVisible] = useState(false)\r\n  const timeoutRef = useRef<NodeJS.Timeout>()\r\n\r\n  const showTooltip = () => {\r\n    if (disabled) return\r\n    \r\n    if (timeoutRef.current) {\r\n      clearTimeout(timeoutRef.current)\r\n    }\r\n    \r\n    timeoutRef.current = setTimeout(() => {\r\n      setIsVisible(true)\r\n    }, 700)\r\n  }\r\n\r\n  const hideTooltip = () => {\r\n    if (timeoutRef.current) {\r\n      clearTimeout(timeoutRef.current)\r\n    }\r\n    setIsVisible(false)\r\n  }\r\n\r\n  const toggleTooltip = () => {\r\n    if (isVisible) {\r\n      hideTooltip()\r\n    } else {\r\n      showTooltip()\r\n    }\r\n  }\r\n\r\n  return {\r\n    isVisible,\r\n    show: showTooltip,\r\n    hide: hideTooltip,\r\n    toggle: toggleTooltip,\r\n    tooltipProps: {\r\n      'aria-hidden': !isVisible,\r\n      'data-state': isVisible ? 'open' : 'closed'\r\n    }\r\n  }\r\n}\r\n\r\nexport { Tooltip }","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ui\\dropdown-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\components\\ui\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\config\\constants.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":6,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[175,178],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[175,178],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Application constants\r\nexport const APP_NAME = 'Rumfor Market Tracker'\r\nexport const APP_VERSION = '1.0.0'\r\n\r\n// API endpoints\r\nexport const API_BASE_URL = (import.meta as any).env?.VITE_API_URL || 'http://localhost:3001/api/v1'\r\nexport const API_TIMEOUT = 10000\r\n\r\n// User roles\r\nexport const USER_ROLES = {\r\n  VISITOR: 'visitor',\r\n  VENDOR: 'vendor',\r\n  PROMOTER: 'promoter',\r\n  ADMIN: 'admin',\r\n} as const\r\n\r\n// Market categories\r\nexport const MARKET_CATEGORIES = {\r\n  FARMERS_MARKET: 'farmers-market',\r\n  ARTS_CRAFTS: 'arts-crafts',\r\n  FLEA_MARKET: 'flea-market',\r\n  FOOD_FESTIVAL: 'food-festival',\r\n  HOLIDAY_MARKET: 'holiday-market',\r\n  CRAFT_SHOW: 'craft-show',\r\n  COMMUNITY_EVENT: 'community-event',\r\n  NIGHT_MARKET: 'night-market',\r\n  STREET_FAIR: 'street-fair',\r\n  VINTAGE_ANTIQUE: 'vintage-antique',\r\n} as const\r\n\r\n// Application statuses\r\nexport const APPLICATION_STATUSES = {\r\n  DRAFT: 'draft',\r\n  SUBMITTED: 'submitted',\r\n  UNDER_REVIEW: 'under-review',\r\n  APPROVED: 'approved',\r\n  REJECTED: 'rejected',\r\n  WITHDRAWN: 'withdrawn',\r\n} as const\r\n\r\n// Pagination\r\nexport const DEFAULT_PAGE_SIZE = 20\r\nexport const MAX_PAGE_SIZE = 100\r\n\r\n// File upload limits\r\nexport const MAX_FILE_SIZE = 10 * 1024 * 1024 // 10MB\r\nexport const ALLOWED_IMAGE_TYPES = ['image/jpeg', 'image/png', 'image/webp']\r\n\r\n// Generic market images for vendor-created markets (cycle through these)\r\nexport const GENERIC_MARKET_IMAGES = [\r\n  'https://images.unsplash.com/photo-1488459716781-31db52582fe9?w=800&h=400&fit=crop', // Farmers market stalls\r\n  'https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800&h=400&fit=crop', // Market square\r\n  'https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=800&h=400&fit=crop', // Craft fair\r\n  'https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?w=800&h=400&fit=crop', // Local crafts\r\n  'https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=800&h=400&fit=crop', // Weekend market\r\n  'https://images.unsplash.com/photo-1555529669-e69e7aa0ba9a?w=800&h=400&fit=crop', // Community market\r\n]\r\n\r\n// Function to get a generic image based on market ID for consistency\r\nexport const getGenericMarketImage = (marketId: string): string => {\r\n  const index = marketId.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0) % GENERIC_MARKET_IMAGES.length\r\n  return GENERIC_MARKET_IMAGES[index]\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\config\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\admin\\adminApi.ts","messages":[{"ruleId":"no-useless-catch","severity":2,"message":"Unnecessary try/catch wrapper.","line":57,"column":5,"nodeType":"TryStatement","messageId":"unnecessaryCatch","endLine":70,"endColumn":6},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":77,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":77,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1804,1807],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1804,1807],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":85,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":85,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2046,2049],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2046,2049],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":264,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":264,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7008,7011],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7008,7011],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":297,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":297,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8198,8201],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8198,8201],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":302,"column":90,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":302,"endColumn":93,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8362,8365],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8362,8365],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":328,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":328,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9327,9330],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9327,9330],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":333,"column":92,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":333,"endColumn":95,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9504,9507],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9504,9507],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":359,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":359,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10624,10627],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10624,10627],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":793,"column":83,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":793,"endColumn":86,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[24740,24743],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[24740,24743],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":803,"column":78,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":803,"endColumn":81,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[25108,25111],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[25108,25111],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import {\r\n  AdminStats,\r\n  UserWithStats,\r\n  ModerationItem,\r\n  PromoterVerification,\r\n  AdminFilters,\r\n  SystemSettings,\r\n  EmailTemplate,\r\n  AuditLog,\r\n  BulkOperation,\r\n  User,\r\n  Application,\r\n  UserRole,\r\n  ApiResponse,\r\n  PaginatedResponse\r\n} from '@/types'\r\n\r\n// Environment configuration\r\nconst isMockMode = import.meta.env.VITE_USE_MOCK_API === 'true'\r\n\r\n// API Configuration\r\nconst API_BASE_URL = 'http://localhost:3001/api/v1'\r\n\r\n// Mock data for development\r\n\r\n// API simulation delay (reduced for better UX)\r\nconst delay = (ms: number) => new Promise(resolve => setTimeout(resolve, ms))\r\n\r\n// HTTP client with interceptors\r\nclass HttpClient {\r\n  private baseURL: string\r\n\r\n  constructor(baseURL: string) {\r\n    this.baseURL = baseURL\r\n  }\r\n\r\n  private async request<T>(\r\n    endpoint: string,\r\n    options: RequestInit = {}\r\n  ): Promise<T> {\r\n    const url = `${this.baseURL}${endpoint}`\r\n\r\n    // Add auth token if available\r\n    const token = localStorage.getItem('auth-storage')\r\n      ? JSON.parse(localStorage.getItem('auth-storage') || '{}').state?.token\r\n      : null\r\n\r\n    const config: RequestInit = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...(token && { Authorization: `Bearer ${token}` }),\r\n        ...options.headers,\r\n      },\r\n      ...options,\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(url, config)\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}))\r\n        throw new Error(\r\n          errorData.message || 'Request failed'\r\n        )\r\n      }\r\n\r\n      return await response.json()\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  get<T>(endpoint: string): Promise<T> {\r\n    return this.request<T>(endpoint, { method: 'GET' })\r\n  }\r\n\r\n  post<T>(endpoint: string, data?: any): Promise<T> {\r\n    return this.request<T>(endpoint, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: data ? JSON.stringify(data) : undefined,\r\n    })\r\n  }\r\n\r\n  put<T>(endpoint: string, data?: any): Promise<T> {\r\n    return this.request<T>(endpoint, {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: data ? JSON.stringify(data) : undefined,\r\n    })\r\n  }\r\n\r\n  delete<T>(endpoint: string): Promise<T> {\r\n    return this.request<T>(endpoint, { method: 'DELETE' })\r\n  }\r\n}\r\n\r\nconst httpClient = new HttpClient(API_BASE_URL)\r\n\r\n// Mock data for development\r\nconst mockAdminStats: AdminStats = {\r\n  totalUsers: 1250,\r\n  totalMarkets: 85,\r\n  totalApplications: 340,\r\n  totalRevenue: 15420.50,\r\n  activeUsers: 892,\r\n  pendingApplications: 23,\r\n  reportedContent: 8,\r\n  systemHealth: 98.5,\r\n  userGrowthRate: 15.3,\r\n  applicationSuccessRate: 78.2,\r\n  marketplaceActivity: 245,\r\n  contentModerationQueue: 8\r\n}\r\n\r\nconst mockUsers: UserWithStats[] = [\r\n  {\r\n    id: '1',\r\n    email: 'john.doe@example.com',\r\n    firstName: 'John',\r\n    lastName: 'Doe',\r\n    role: 'vendor',\r\n    avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150',\r\n    createdAt: '2023-01-15T08:30:00Z',\r\n    updatedAt: '2023-12-01T14:20:00Z',\r\n    isEmailVerified: true,\r\n    isActive: true,\r\n    totalApplications: 12,\r\n    approvedApplications: 9,\r\n    rejectedApplications: 2,\r\n    lastActiveAt: '2023-12-01T10:30:00Z',\r\n    isVerified: true,\r\n    reportedContent: 0\r\n  },\r\n  {\r\n    id: '2',\r\n    email: 'jane.smith@example.com',\r\n    firstName: 'Jane',\r\n    lastName: 'Smith',\r\n    role: 'promoter',\r\n    avatar: 'https://images.unsplash.com/photo-1494790108755-2616b612b647?w=150',\r\n    createdAt: '2023-02-20T10:15:00Z',\r\n    updatedAt: '2023-11-28T16:45:00Z',\r\n    isEmailVerified: true,\r\n    isActive: true,\r\n    totalApplications: 3,\r\n    approvedApplications: 2,\r\n    rejectedApplications: 1,\r\n    lastActiveAt: '2023-11-30T09:15:00Z',\r\n    isVerified: true,\r\n    reportedContent: 0\r\n  },\r\n  {\r\n    id: '3',\r\n    email: 'admin@example.com',\r\n    firstName: 'Admin',\r\n    lastName: 'User',\r\n    role: 'admin',\r\n    avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150',\r\n    createdAt: '2023-01-01T00:00:00Z',\r\n    updatedAt: '2023-12-01T08:00:00Z',\r\n    isEmailVerified: true,\r\n    isActive: true,\r\n    totalApplications: 0,\r\n    approvedApplications: 0,\r\n    rejectedApplications: 0,\r\n    lastActiveAt: '2023-12-01T08:00:00Z',\r\n    isVerified: true,\r\n    reportedContent: 0\r\n  }\r\n]\r\n\r\nconst mockModerationItems: ModerationItem[] = [\r\n  {\r\n    id: '1',\r\n    type: 'comment',\r\n    contentId: 'comment-1',\r\n    reportedBy: 'user-123',\r\n    reporter: mockUsers[0],\r\n    target: {\r\n      id: 'comment-1',\r\n      type: 'comment',\r\n      content: 'This market is terrible and the organizer is incompetent...',\r\n      author: mockUsers[1]\r\n    },\r\n    reason: 'Inappropriate language',\r\n    description: 'Comment contains offensive language directed at market organizer',\r\n    status: 'pending',\r\n    priority: 'medium',\r\n    createdAt: '2023-11-30T14:30:00Z',\r\n    updatedAt: '2023-11-30T14:30:00Z'\r\n  },\r\n  {\r\n    id: '2',\r\n    type: 'photo',\r\n    contentId: 'photo-1',\r\n    reportedBy: 'user-456',\r\n    reporter: mockUsers[1],\r\n    target: {\r\n      id: 'photo-1',\r\n      type: 'photo',\r\n      content: 'Photo showing inappropriate content at farmers market',\r\n      author: mockUsers[0]\r\n    },\r\n    reason: 'Inappropriate content',\r\n    description: 'Photo contains content that violates community guidelines',\r\n    status: 'pending',\r\n    priority: 'high',\r\n    createdAt: '2023-11-29T10:15:00Z',\r\n    updatedAt: '2023-11-29T10:15:00Z'\r\n  }\r\n]\r\n\r\nconst mockPromoterVerifications: PromoterVerification[] = [\r\n  {\r\n    id: '1',\r\n    userId: 'user-789',\r\n    user: mockUsers[1],\r\n    businessName: 'Downtown Farmers Market Co.',\r\n    businessDescription: 'Operating farmers markets in downtown area for over 10 years',\r\n    businessLicense: 'BUS-2023-789',\r\n    businessAddress: {\r\n      address: '123 Main Street',\r\n      city: 'Anytown',\r\n      state: 'CA',\r\n      zipCode: '90210',\r\n      country: 'USA'\r\n    },\r\n    taxId: '12-3456789',\r\n    website: 'https://downtownmarket.com',\r\n    socialMedia: {\r\n      facebook: 'https://facebook.com/downtownmarket',\r\n      instagram: 'https://instagram.com/downtownmarket'\r\n    },\r\n    references: [\r\n      {\r\n        name: 'Bob Johnson',\r\n        company: 'City Council',\r\n        email: 'b.johnson@citycouncil.gov',\r\n        phone: '(555) 123-4567',\r\n        relationship: 'City Liaison',\r\n        yearsKnown: 5\r\n      }\r\n    ],\r\n    status: 'pending',\r\n    submittedAt: '2023-11-25T10:00:00Z',\r\n    documents: []\r\n  }\r\n]\r\n\r\n// Admin API functions\r\nexport const adminApi = {\r\n  // Dashboard & Analytics\r\n  async getAdminStats(): Promise<ApiResponse<AdminStats>> {\r\n    if (isMockMode) {\r\n      await delay(500)\r\n      return { success: true, data: mockAdminStats }\r\n    } else {\r\n      const response = await httpClient.get<ApiResponse<AdminStats>>('/admin/stats')\r\n      return response\r\n    }\r\n  },\r\n\r\n  async getRecentActivities(): Promise<ApiResponse<any[]>> {\r\n    if (isMockMode) {\r\n      await delay(300)\r\n      return {\r\n        success: true,\r\n        data: [\r\n          {\r\n            id: '1',\r\n            type: 'user_registered',\r\n            message: 'New vendor registered: Sarah Johnson',\r\n            timestamp: new Date(Date.now() - 2 * 60 * 1000).toISOString(), // 2 minutes ago\r\n            icon: 'Users',\r\n            color: 'text-blue-500'\r\n          },\r\n          {\r\n            id: '2',\r\n            type: 'market_created',\r\n            message: 'New market created: Downtown Artisan Fair',\r\n            timestamp: new Date(Date.now() - 15 * 60 * 1000).toISOString(), // 15 minutes ago\r\n            icon: 'Store',\r\n            color: 'text-green-500'\r\n          },\r\n          {\r\n            id: '3',\r\n            type: 'application_submitted',\r\n            message: 'Application submitted for Spring Market 2024',\r\n            timestamp: new Date(Date.now() - 60 * 60 * 1000).toISOString(), // 1 hour ago\r\n            icon: 'FileText',\r\n            color: 'text-yellow-500'\r\n          }\r\n        ].slice(0, 5) // Limit to 5 recent activities\r\n      }\r\n    } else {\r\n      const response = await httpClient.get<ApiResponse<any[]>>('/admin/activities/recent')\r\n      return response\r\n    }\r\n  },\r\n\r\n  async getUserAnalytics(dateRange: { start: string; end: string }): Promise<ApiResponse<any>> {\r\n    if (isMockMode) {\r\n      await delay(600)\r\n      return {\r\n        success: true,\r\n        data: {\r\n          userGrowth: [\r\n            { date: '2023-01', users: 850 },\r\n            { date: '2023-02', users: 920 },\r\n            { date: '2023-03', users: 1050 },\r\n            { date: '2023-04', users: 1150 },\r\n            { date: '2023-05', users: 1200 },\r\n            { date: '2023-06', users: 1250 }\r\n          ],\r\n          roleDistribution: [\r\n            { role: 'visitor', count: 650, percentage: 52 },\r\n            { role: 'vendor', count: 350, percentage: 28 },\r\n            { role: 'promoter', count: 200, percentage: 16 },\r\n            { role: 'admin', count: 50, percentage: 4 }\r\n          ]\r\n        }\r\n      }\r\n    } else {\r\n      const queryParams = new URLSearchParams()\r\n      queryParams.append('startDate', dateRange.start)\r\n      queryParams.append('endDate', dateRange.end)\r\n      const response = await httpClient.get<ApiResponse<any>>(`/admin/analytics/users?${queryParams}`)\r\n      return response\r\n    }\r\n  },\r\n\r\n  async getMarketAnalytics(dateRange: { start: string; end: string }): Promise<ApiResponse<any>> {\r\n    if (isMockMode) {\r\n      await delay(550)\r\n      return {\r\n        success: true,\r\n        data: {\r\n          marketActivity: [\r\n            { date: '2023-01', applications: 45, markets: 12 },\r\n            { date: '2023-02', applications: 52, markets: 15 },\r\n            { date: '2023-03', applications: 68, markets: 18 },\r\n            { date: '2023-04', applications: 71, markets: 20 },\r\n            { date: '2023-05', applications: 59, markets: 22 },\r\n            { date: '2023-06', applications: 45, markets: 20 }\r\n          ],\r\n          categoryDistribution: [\r\n            { category: 'farmers-market', count: 35, percentage: 41 },\r\n            { category: 'arts-crafts', count: 25, percentage: 29 },\r\n            { category: 'food-festival', count: 15, percentage: 18 },\r\n            { category: 'flea-market', count: 10, percentage: 12 }\r\n          ]\r\n        }\r\n      }\r\n    } else {\r\n      const queryParams = new URLSearchParams()\r\n      queryParams.append('startDate', dateRange.start)\r\n      queryParams.append('endDate', dateRange.end)\r\n      const response = await httpClient.get<ApiResponse<any>>(`/admin/analytics/markets?${queryParams}`)\r\n      return response\r\n    }\r\n  },\r\n\r\n  // User Management\r\n  async getUsers(filters?: AdminFilters['userFilters']): Promise<PaginatedResponse<UserWithStats>> {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        let filteredUsers = [...mockUsers]\r\n        \r\n        if (filters?.role && filters.role.length > 0) {\r\n          filteredUsers = filteredUsers.filter(user => filters.role!.includes(user.role))\r\n        }\r\n        \r\n        if (filters?.isActive !== undefined) {\r\n          filteredUsers = filteredUsers.filter(user => user.isActive === filters.isActive)\r\n        }\r\n        \r\n        if (filters?.search) {\r\n          const search = filters.search.toLowerCase()\r\n          filteredUsers = filteredUsers.filter(user => \r\n            user.firstName.toLowerCase().includes(search) ||\r\n            user.lastName.toLowerCase().includes(search) ||\r\n            user.email.toLowerCase().includes(search)\r\n          )\r\n        }\r\n        \r\n        resolve({\r\n          data: filteredUsers,\r\n          pagination: {\r\n            page: 1,\r\n            limit: 20,\r\n            total: filteredUsers.length,\r\n            totalPages: Math.ceil(filteredUsers.length / 20)\r\n          }\r\n        })\r\n      }, 400)\r\n    })\r\n  },\r\n\r\n  async updateUserRole(userId: string, role: UserRole): Promise<ApiResponse<User>> {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        const user = mockUsers.find(u => u.id === userId)\r\n        if (user) {\r\n          user.role = role\r\n          user.updatedAt = new Date().toISOString()\r\n        }\r\n        resolve({ success: true, data: user! })\r\n      }, 300)\r\n    })\r\n  },\r\n\r\n  async suspendUser(userId: string, suspended: boolean): Promise<ApiResponse<User>> {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        const user = mockUsers.find(u => u.id === userId)\r\n        if (user) {\r\n          user.isActive = !suspended\r\n          user.updatedAt = new Date().toISOString()\r\n        }\r\n        resolve({ success: true, data: user! })\r\n      }, 300)\r\n    })\r\n  },\r\n\r\n  async verifyUser(userId: string, verified: boolean): Promise<ApiResponse<User>> {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        const user = mockUsers.find(u => u.id === userId)\r\n        if (user) {\r\n          user.isEmailVerified = verified\r\n          user.updatedAt = new Date().toISOString()\r\n        }\r\n        resolve({ success: true, data: user! })\r\n      }, 300)\r\n    })\r\n  },\r\n\r\n  async bulkUpdateUsers(\r\n    userIds: string[], \r\n    operation: 'role' | 'suspend' | 'verify',\r\n    value: UserRole | boolean\r\n  ): Promise<ApiResponse<BulkOperation>> {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        const bulkOp: BulkOperation = {\r\n          id: `bulk-${Date.now()}`,\r\n          type: operation === 'role' ? 'user-role' : operation === 'suspend' ? 'user-suspend' : 'user-suspend',\r\n          targetIds: userIds,\r\n          parameters: { operation, value },\r\n          status: 'processing',\r\n          progress: 0,\r\n          total: userIds.length,\r\n          createdBy: 'current-admin',\r\n          createdAt: new Date().toISOString()\r\n        }\r\n        \r\n        // Simulate processing\r\n        setTimeout(() => {\r\n          bulkOp.status = 'completed'\r\n          bulkOp.progress = bulkOp.total\r\n          bulkOp.results = {\r\n            success: userIds,\r\n            failed: []\r\n          }\r\n          bulkOp.completedAt = new Date().toISOString()\r\n        }, 2000)\r\n        \r\n        resolve({ success: true, data: bulkOp })\r\n      }, 200)\r\n    })\r\n  },\r\n\r\n  // Content Moderation\r\n  async getModerationQueue(filters?: AdminFilters['moderationFilters']): Promise<PaginatedResponse<ModerationItem>> {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        let filteredItems = [...mockModerationItems]\r\n        \r\n        if (filters?.type && filters.type.length > 0) {\r\n          filteredItems = filteredItems.filter(item => filters.type!.includes(item.type))\r\n        }\r\n        \r\n        if (filters?.status && filters.status.length > 0) {\r\n          filteredItems = filteredItems.filter(item => filters.status!.includes(item.status))\r\n        }\r\n        \r\n        if (filters?.priority && filters.priority.length > 0) {\r\n          filteredItems = filteredItems.filter(item => filters.priority!.includes(item.priority))\r\n        }\r\n        \r\n        if (filters?.search) {\r\n          const search = filters.search.toLowerCase()\r\n          filteredItems = filteredItems.filter(item =>\r\n            item.target.content.toLowerCase().includes(search) ||\r\n            item.reason.toLowerCase().includes(search) ||\r\n            item.description.toLowerCase().includes(search)\r\n          )\r\n        }\r\n        \r\n        resolve({\r\n          data: filteredItems,\r\n          pagination: {\r\n            page: 1,\r\n            limit: 20,\r\n            total: filteredItems.length,\r\n            totalPages: Math.ceil(filteredItems.length / 20)\r\n          }\r\n        })\r\n      }, 450)\r\n    })\r\n  },\r\n\r\n  async moderateContent(\r\n    itemId: string, \r\n    action: 'approve' | 'reject' | 'resolve',\r\n    reason?: string\r\n  ): Promise<ApiResponse<ModerationItem>> {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        const item = mockModerationItems.find(i => i.id === itemId)\r\n        if (item) {\r\n          item.status = action === 'approve' ? 'approved' : action === 'reject' ? 'rejected' : 'resolved'\r\n          item.resolution = reason\r\n          item.resolvedAt = new Date().toISOString()\r\n          item.resolvedBy = 'current-admin'\r\n          item.updatedAt = new Date().toISOString()\r\n        }\r\n        resolve({ success: true, data: item! })\r\n      }, 300)\r\n    })\r\n  },\r\n\r\n  async assignModerationItem(itemId: string, assignedTo: string): Promise<ApiResponse<ModerationItem>> {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        const item = mockModerationItems.find(i => i.id === itemId)\r\n        if (item) {\r\n          item.assignedTo = assignedTo\r\n          item.updatedAt = new Date().toISOString()\r\n        }\r\n        resolve({ success: true, data: item! })\r\n      }, 200)\r\n    })\r\n  },\r\n\r\n  // Promoter Verification\r\n  async getPromoterVerifications(): Promise<ApiResponse<PromoterVerification[]>> {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        resolve({ success: true, data: mockPromoterVerifications })\r\n      }, 400)\r\n    })\r\n  },\r\n\r\n  async reviewPromoterVerification(\r\n    verificationId: string,\r\n    status: 'verified' | 'rejected',\r\n    notes?: string\r\n  ): Promise<ApiResponse<PromoterVerification>> {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        const verification = mockPromoterVerifications.find(v => v.id === verificationId)\r\n        if (verification) {\r\n          verification.status = status\r\n          verification.reviewedAt = new Date().toISOString()\r\n          verification.reviewedBy = 'current-admin'\r\n          verification.notes = notes\r\n        }\r\n        resolve({ success: true, data: verification! })\r\n      }, 300)\r\n    })\r\n  },\r\n\r\n  // Applications Management\r\n  async getAllApplications(_filters?: AdminFilters['applicationFilters']): Promise<PaginatedResponse<Application>> {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        // Mock applications data\r\n        const mockApplications: Application[] = []\r\n        resolve({\r\n          data: mockApplications,\r\n          pagination: {\r\n            page: 1,\r\n            limit: 20,\r\n            total: 0,\r\n            totalPages: 0\r\n          }\r\n        })\r\n      }, 500)\r\n    })\r\n  },\r\n\r\n  async bulkReviewApplications(\r\n    applicationIds: string[],\r\n    action: 'approve' | 'reject',\r\n    reason?: string\r\n  ): Promise<ApiResponse<BulkOperation>> {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        const bulkOp: BulkOperation = {\r\n          id: `bulk-app-${Date.now()}`,\r\n          type: 'application-bulk-review',\r\n          targetIds: applicationIds,\r\n          parameters: { action, reason },\r\n          status: 'processing',\r\n          progress: 0,\r\n          total: applicationIds.length,\r\n          createdBy: 'current-admin',\r\n          createdAt: new Date().toISOString()\r\n        }\r\n        \r\n        setTimeout(() => {\r\n          bulkOp.status = 'completed'\r\n          bulkOp.progress = bulkOp.total\r\n          bulkOp.results = {\r\n            success: applicationIds,\r\n            failed: []\r\n          }\r\n          bulkOp.completedAt = new Date().toISOString()\r\n        }, 2000)\r\n        \r\n        resolve({ success: true, data: bulkOp })\r\n      }, 200)\r\n    })\r\n  },\r\n\r\n  // System Settings\r\n  async getSystemSettings(): Promise<ApiResponse<SystemSettings[]>> {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        const settings: SystemSettings[] = [\r\n          {\r\n            id: '1',\r\n            key: 'user_registration_enabled',\r\n            value: 'true',\r\n            type: 'boolean',\r\n            description: 'Allow new user registrations',\r\n            category: 'general',\r\n            isPublic: false,\r\n            updatedAt: '2023-01-01T00:00:00Z',\r\n            updatedBy: 'admin'\r\n          },\r\n          {\r\n            id: '2',\r\n            key: 'auto_moderation_enabled',\r\n            value: 'true',\r\n            type: 'boolean',\r\n            description: 'Enable automatic content moderation',\r\n            category: 'moderation',\r\n            isPublic: false,\r\n            updatedAt: '2023-01-01T00:00:00Z',\r\n            updatedBy: 'admin'\r\n          }\r\n        ]\r\n        resolve({ success: true, data: settings })\r\n      }, 300)\r\n    })\r\n  },\r\n\r\n  async updateSystemSetting(key: string, value: string): Promise<ApiResponse<SystemSettings>> {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        const setting: SystemSettings = {\r\n          id: key,\r\n          key,\r\n          value,\r\n          type: 'string',\r\n          description: '',\r\n          category: 'general',\r\n          isPublic: false,\r\n          updatedAt: new Date().toISOString(),\r\n          updatedBy: 'current-admin'\r\n        }\r\n        resolve({ success: true, data: setting })\r\n      }, 200)\r\n    })\r\n  },\r\n\r\n  // Email Templates\r\n  async getEmailTemplates(): Promise<ApiResponse<EmailTemplate[]>> {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        const templates: EmailTemplate[] = [\r\n          {\r\n            id: '1',\r\n            name: 'Welcome Email',\r\n            subject: 'Welcome to RumFor!',\r\n            content: 'Hello {{firstName}}, welcome to our platform!',\r\n            variables: ['firstName', 'lastName'],\r\n            category: 'welcome',\r\n            isActive: true,\r\n            createdAt: '2023-01-01T00:00:00Z',\r\n            updatedAt: '2023-01-01T00:00:00Z'\r\n          }\r\n        ]\r\n        resolve({ success: true, data: templates })\r\n      }, 300)\r\n    })\r\n  },\r\n\r\n  // Contact Form Submission\r\n  async submitContactForm(formData: {\r\n    name: string;\r\n    email: string;\r\n    phone?: string;\r\n    subject: string;\r\n    message: string;\r\n    userType: 'vendor' | 'promoter' | 'visitor' | 'other';\r\n    priority: 'low' | 'medium' | 'high';\r\n  }): Promise<ApiResponse<{ ticketId: string }>> {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        const ticketId = `contact-${Date.now()}`;\r\n        console.log('Contact form submitted:', formData);\r\n        resolve({ success: true, data: { ticketId } });\r\n      }, 1000);\r\n    });\r\n  },\r\n\r\n  // Audit Logs\r\n  async getAuditLogs(_filters?: { userId?: string; action?: string; dateRange?: { start: string; end: string } }): Promise<PaginatedResponse<AuditLog>> {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        const logs: AuditLog[] = [\r\n          {\r\n            id: '1',\r\n            userId: '1',\r\n            user: mockUsers[0],\r\n            action: 'user_role_updated',\r\n            resource: 'user',\r\n            resourceId: '1',\r\n            details: { from: 'visitor', to: 'vendor' },\r\n            ipAddress: '192.168.1.1',\r\n            userAgent: 'Mozilla/5.0...',\r\n            createdAt: '2023-12-01T10:00:00Z'\r\n          }\r\n        ]\r\n        resolve({\r\n          data: logs,\r\n          pagination: {\r\n            page: 1,\r\n            limit: 50,\r\n            total: logs.length,\r\n            totalPages: Math.ceil(logs.length / 50)\r\n          }\r\n        })\r\n      }, 400)\r\n    })\r\n  },\r\n\r\n  // Vendor Messaging (for promoters)\r\n  async sendMessageToVendor(vendorId: string, message: string): Promise<ApiResponse<{ messageId: string }>> {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        const messageId = `msg-${Date.now()}`\r\n        console.log('Sending message to vendor:', vendorId, 'Message:', message)\r\n        resolve({ success: true, data: { messageId } })\r\n      }, 500)\r\n    })\r\n  },\r\n\r\n  // Vendor Blacklisting (for promoters)\r\n  async blacklistVendor(vendorId: string, reason: string): Promise<ApiResponse<User>> {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        const user = mockUsers.find(u => u.id === vendorId)\r\n        if (user) {\r\n          // In a real app, this would create a blacklist record and update user status\r\n          console.log('Blacklisting vendor:', vendorId, 'Reason:', reason)\r\n          user.updatedAt = new Date().toISOString()\r\n        }\r\n        resolve({ success: true, data: user! })\r\n      }, 500)\r\n    })\r\n  },\r\n\r\n  // Unblacklist vendor\r\n  async unblacklistVendor(vendorId: string): Promise<ApiResponse<User>> {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        const user = mockUsers.find(u => u.id === vendorId)\r\n        if (user) {\r\n          console.log('Unblacklisting vendor:', vendorId)\r\n          user.updatedAt = new Date().toISOString()\r\n        }\r\n        resolve({ success: true, data: user! })\r\n      }, 500)\r\n    })\r\n  },\r\n\r\n  // Market Status Update (for promoters)\r\n  async updateMarketStatus(marketId: string, status: string): Promise<ApiResponse<any>> {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        console.log('Updating market status:', marketId, 'to status:', status)\r\n        resolve({ success: true, data: { id: marketId, status } })\r\n      }, 500)\r\n    })\r\n  },\r\n\r\n  // Market Deletion (for promoters)\r\n  async deleteMarket(marketId: string, reason?: string): Promise<ApiResponse<any>> {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        console.log('Deleting market:', marketId, 'Reason:', reason)\r\n        resolve({ success: true, data: { id: marketId, deleted: true } })\r\n      }, 500)\r\n    })\r\n  }\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\admin\\adminStore.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":22,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[468,471],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[468,471],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":42,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1129,1132],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1129,1132],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":77,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":77,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2176,2179],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2176,2179],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":80,"column":89,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":80,"endColumn":92,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2425,2428],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2425,2428],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":115,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":115,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4084,4087],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4084,4087],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":122,"column":78,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":122,"endColumn":81,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4366,4369],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4366,4369],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":123,"column":80,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":123,"endColumn":83,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4451,4454],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4451,4454],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { create } from 'zustand'\r\nimport { devtools } from 'zustand/middleware'\r\nimport { \r\n  AdminStats, \r\n  UserWithStats, \r\n  ModerationItem, \r\n  PromoterVerification, \r\n  AdminFilters, \r\n  SystemSettings, \r\n  EmailTemplate, \r\n  AuditLog, \r\n  BulkOperation \r\n} from '@/types'\r\nimport { adminApi } from './adminApi'\r\n\r\ninterface AdminState {\r\n  // Dashboard stats\r\n  stats: AdminStats | null\r\n  isLoadingStats: boolean\r\n\r\n  // Recent activities\r\n  recentActivities: any[]\r\n  isLoadingActivities: boolean\r\n  \r\n  // Users\r\n  users: UserWithStats[]\r\n  usersPagination: { page: number; limit: number; total: number; totalPages: number } | null\r\n  isLoadingUsers: boolean\r\n  userFilters: AdminFilters['userFilters'] | null\r\n  \r\n  // Moderation\r\n  moderationItems: ModerationItem[]\r\n  moderationPagination: { page: number; limit: number; total: number; totalPages: number } | null\r\n  isLoadingModeration: boolean\r\n  moderationFilters: AdminFilters['moderationFilters'] | null\r\n  \r\n  // Promoter Verifications\r\n  promoterVerifications: PromoterVerification[]\r\n  isLoadingVerifications: boolean\r\n  \r\n  // Applications\r\n  applications: any[]\r\n  applicationsPagination: { page: number; limit: number; total: number; totalPages: number } | null\r\n  isLoadingApplications: boolean\r\n  applicationFilters: AdminFilters['applicationFilters'] | null\r\n  \r\n  // System Settings\r\n  systemSettings: SystemSettings[]\r\n  isLoadingSettings: boolean\r\n  \r\n  // Email Templates\r\n  emailTemplates: EmailTemplate[]\r\n  isLoadingTemplates: boolean\r\n  \r\n  // Audit Logs\r\n  auditLogs: AuditLog[]\r\n  auditPagination: { page: number; limit: number; total: number; totalPages: number } | null\r\n  isLoadingAudit: boolean\r\n  \r\n  // Bulk Operations\r\n  bulkOperations: BulkOperation[]\r\n  \r\n  // UI State\r\n  selectedUsers: string[]\r\n  selectedModerationItems: string[]\r\n  selectedApplications: string[]\r\n  bulkOperationProgress: Record<string, number>\r\n}\r\n\r\ninterface AdminActions {\r\n  // Dashboard\r\n  fetchAdminStats: () => Promise<void>\r\n  fetchRecentActivities: () => Promise<void>\r\n  \r\n  // Users\r\n  fetchUsers: (filters?: AdminFilters['userFilters']) => Promise<void>\r\n  updateUserRole: (userId: string, role: any) => Promise<void>\r\n  suspendUser: (userId: string, suspended: boolean) => Promise<void>\r\n  verifyUser: (userId: string, verified: boolean) => Promise<void>\r\n  bulkUpdateUsers: (userIds: string[], operation: 'role' | 'suspend' | 'verify', value: any) => Promise<void>\r\n  setUserFilters: (filters: AdminFilters['userFilters']) => void\r\n  selectUser: (userId: string) => void\r\n  selectUsers: (userIds: string[]) => void\r\n  clearUserSelection: () => void\r\n  \r\n  // Moderation\r\n  fetchModerationQueue: (filters?: AdminFilters['moderationFilters']) => Promise<void>\r\n  moderateContent: (itemId: string, action: 'approve' | 'reject' | 'resolve', reason?: string) => Promise<void>\r\n  assignModerationItem: (itemId: string, assignedTo: string) => Promise<void>\r\n  setModerationFilters: (filters: AdminFilters['moderationFilters']) => void\r\n  selectModerationItem: (itemId: string) => void\r\n  selectModerationItems: (itemIds: string[]) => void\r\n  clearModerationSelection: () => void\r\n  \r\n  // Promoter Verifications\r\n  fetchPromoterVerifications: () => Promise<void>\r\n  reviewPromoterVerification: (verificationId: string, status: 'verified' | 'rejected', notes?: string) => Promise<void>\r\n  \r\n  // Applications\r\n  fetchAllApplications: (filters?: AdminFilters['applicationFilters']) => Promise<void>\r\n  bulkReviewApplications: (applicationIds: string[], action: 'approve' | 'reject', reason?: string) => Promise<void>\r\n  setApplicationFilters: (filters: AdminFilters['applicationFilters']) => void\r\n  selectApplication: (applicationId: string) => void\r\n  selectApplications: (applicationIds: string[]) => void\r\n  clearApplicationSelection: () => void\r\n  \r\n  // System Settings\r\n  fetchSystemSettings: () => Promise<void>\r\n  updateSystemSetting: (key: string, value: string) => Promise<void>\r\n  \r\n  // Email Templates\r\n  fetchEmailTemplates: () => Promise<void>\r\n  \r\n  // Audit Logs\r\n  fetchAuditLogs: (filters?: any) => Promise<void>\r\n  \r\n  // Bulk Operations\r\n  addBulkOperation: (operation: BulkOperation) => void\r\n  updateBulkOperationProgress: (operationId: string, progress: number) => void\r\n  \r\n  // Analytics\r\n  fetchUserAnalytics: (dateRange: { start: string; end: string }) => Promise<any>\r\n  fetchMarketAnalytics: (dateRange: { start: string; end: string }) => Promise<any>\r\n}\r\n\r\ntype AdminStore = AdminState & AdminActions\r\n\r\nconst initialState: AdminState = {\r\n  stats: null,\r\n  isLoadingStats: false,\r\n  recentActivities: [],\r\n  isLoadingActivities: false,\r\n  users: [],\r\n  usersPagination: null,\r\n  isLoadingUsers: false,\r\n  userFilters: null,\r\n  moderationItems: [],\r\n  moderationPagination: null,\r\n  isLoadingModeration: false,\r\n  moderationFilters: null,\r\n  promoterVerifications: [],\r\n  isLoadingVerifications: false,\r\n  applications: [],\r\n  applicationsPagination: null,\r\n  isLoadingApplications: false,\r\n  applicationFilters: null,\r\n  systemSettings: [],\r\n  isLoadingSettings: false,\r\n  emailTemplates: [],\r\n  isLoadingTemplates: false,\r\n  auditLogs: [],\r\n  auditPagination: null,\r\n  isLoadingAudit: false,\r\n  bulkOperations: [],\r\n  selectedUsers: [],\r\n  selectedModerationItems: [],\r\n  selectedApplications: [],\r\n  bulkOperationProgress: {}\r\n}\r\n\r\nexport const useAdminStore = create<AdminStore>()(\r\n  devtools(\r\n    (set, get) => ({\r\n      ...initialState,\r\n      \r\n      // Dashboard\r\n      fetchAdminStats: async () => {\r\n        set({ isLoadingStats: true })\r\n        try {\r\n          const response = await adminApi.getAdminStats()\r\n          if (response.success && response.data) {\r\n            set({ stats: response.data })\r\n          }\r\n        } catch (error) {\r\n          console.error('Failed to fetch admin stats:', error)\r\n        } finally {\r\n          set({ isLoadingStats: false })\r\n        }\r\n      },\r\n\r\n      fetchRecentActivities: async () => {\r\n        set({ isLoadingActivities: true })\r\n        try {\r\n          const response = await adminApi.getRecentActivities()\r\n          if (response.success && response.data) {\r\n            set({ recentActivities: response.data })\r\n          }\r\n        } catch (error) {\r\n          console.error('Failed to fetch recent activities:', error)\r\n        } finally {\r\n          set({ isLoadingActivities: false })\r\n        }\r\n      },\r\n      \r\n      // Users\r\n      fetchUsers: async (filters) => {\r\n        set({ isLoadingUsers: true })\r\n        try {\r\n          const response = await adminApi.getUsers(filters)\r\n          set({ \r\n            users: response.data, \r\n            usersPagination: response.pagination,\r\n            userFilters: filters || null\r\n          })\r\n        } catch (error) {\r\n          console.error('Failed to fetch users:', error)\r\n        } finally {\r\n          set({ isLoadingUsers: false })\r\n        }\r\n      },\r\n      \r\n      updateUserRole: async (userId, role) => {\r\n        try {\r\n          const response = await adminApi.updateUserRole(userId, role)\r\n          if (response.success && response.data) {\r\n            set((state) => ({\r\n              users: state.users.map(user => \r\n                user.id === userId ? { ...user, role } : user\r\n              )\r\n            }))\r\n          }\r\n        } catch (error) {\r\n          console.error('Failed to update user role:', error)\r\n        }\r\n      },\r\n      \r\n      suspendUser: async (userId, suspended) => {\r\n        try {\r\n          const response = await adminApi.suspendUser(userId, suspended)\r\n          if (response.success && response.data) {\r\n            set((state) => ({\r\n              users: state.users.map(user => \r\n                user.id === userId ? { ...user, isActive: !suspended } : user\r\n              )\r\n            }))\r\n          }\r\n        } catch (error) {\r\n          console.error('Failed to suspend user:', error)\r\n        }\r\n      },\r\n      \r\n      verifyUser: async (userId, verified) => {\r\n        try {\r\n          const response = await adminApi.verifyUser(userId, verified)\r\n          if (response.success && response.data) {\r\n            set((state) => ({\r\n              users: state.users.map(user => \r\n                user.id === userId ? { ...user, isEmailVerified: verified } : user\r\n              )\r\n            }))\r\n          }\r\n        } catch (error) {\r\n          console.error('Failed to verify user:', error)\r\n        }\r\n      },\r\n      \r\n      bulkUpdateUsers: async (userIds, operation, value) => {\r\n        try {\r\n          const response = await adminApi.bulkUpdateUsers(userIds, operation, value)\r\n          if (response.success && response.data) {\r\n            get().addBulkOperation(response.data)\r\n            \r\n            // Start tracking progress\r\n            const operationId = response.data.id\r\n            const interval = setInterval(() => {\r\n              const progress = get().bulkOperationProgress[operationId] || 0\r\n              if (progress < 100) {\r\n                const newProgress = Math.min(progress + 10, 100)\r\n                get().updateBulkOperationProgress(operationId, newProgress)\r\n                \r\n                if (newProgress >= 100) {\r\n                  clearInterval(interval)\r\n                  // Refresh users list after bulk operation\r\n                  get().fetchUsers(get().userFilters || undefined)\r\n                }\r\n              }\r\n            }, 200)\r\n          }\r\n        } catch (error) {\r\n          console.error('Failed to bulk update users:', error)\r\n        }\r\n      },\r\n      \r\n      setUserFilters: (filters) => {\r\n        set({ userFilters: filters })\r\n      },\r\n      \r\n      selectUser: (userId) => {\r\n        set((state) => ({\r\n          selectedUsers: state.selectedUsers.includes(userId)\r\n            ? state.selectedUsers.filter(id => id !== userId)\r\n            : [...state.selectedUsers, userId]\r\n        }))\r\n      },\r\n      \r\n      selectUsers: (userIds) => {\r\n        set({ selectedUsers: userIds })\r\n      },\r\n      \r\n      clearUserSelection: () => {\r\n        set({ selectedUsers: [] })\r\n      },\r\n      \r\n      // Moderation\r\n      fetchModerationQueue: async (filters) => {\r\n        set({ isLoadingModeration: true })\r\n        try {\r\n          const response = await adminApi.getModerationQueue(filters)\r\n          set({ \r\n            moderationItems: response.data, \r\n            moderationPagination: response.pagination,\r\n            moderationFilters: filters || null\r\n          })\r\n        } catch (error) {\r\n          console.error('Failed to fetch moderation queue:', error)\r\n        } finally {\r\n          set({ isLoadingModeration: false })\r\n        }\r\n      },\r\n      \r\n      moderateContent: async (itemId, action, reason) => {\r\n        try {\r\n          const response = await adminApi.moderateContent(itemId, action, reason)\r\n          if (response.success && response.data) {\r\n            set((state) => ({\r\n              moderationItems: state.moderationItems.map(item => \r\n                item.id === itemId ? response.data! : item\r\n              )\r\n            }))\r\n          }\r\n        } catch (error) {\r\n          console.error('Failed to moderate content:', error)\r\n        }\r\n      },\r\n      \r\n      assignModerationItem: async (itemId, assignedTo) => {\r\n        try {\r\n          const response = await adminApi.assignModerationItem(itemId, assignedTo)\r\n          if (response.success && response.data) {\r\n            set((state) => ({\r\n              moderationItems: state.moderationItems.map(item => \r\n                item.id === itemId ? { ...item, assignedTo } : item\r\n              )\r\n            }))\r\n          }\r\n        } catch (error) {\r\n          console.error('Failed to assign moderation item:', error)\r\n        }\r\n      },\r\n      \r\n      setModerationFilters: (filters) => {\r\n        set({ moderationFilters: filters })\r\n      },\r\n      \r\n      selectModerationItem: (itemId) => {\r\n        set((state) => ({\r\n          selectedModerationItems: state.selectedModerationItems.includes(itemId)\r\n            ? state.selectedModerationItems.filter(id => id !== itemId)\r\n            : [...state.selectedModerationItems, itemId]\r\n        }))\r\n      },\r\n      \r\n      selectModerationItems: (itemIds) => {\r\n        set({ selectedModerationItems: itemIds })\r\n      },\r\n      \r\n      clearModerationSelection: () => {\r\n        set({ selectedModerationItems: [] })\r\n      },\r\n      \r\n      // Promoter Verifications\r\n      fetchPromoterVerifications: async () => {\r\n        set({ isLoadingVerifications: true })\r\n        try {\r\n          const response = await adminApi.getPromoterVerifications()\r\n          if (response.success && response.data) {\r\n            set({ promoterVerifications: response.data })\r\n          }\r\n        } catch (error) {\r\n          console.error('Failed to fetch promoter verifications:', error)\r\n        } finally {\r\n          set({ isLoadingVerifications: false })\r\n        }\r\n      },\r\n      \r\n      reviewPromoterVerification: async (verificationId, status, notes) => {\r\n        try {\r\n          const response = await adminApi.reviewPromoterVerification(verificationId, status, notes)\r\n          if (response.success && response.data) {\r\n            set((state) => ({\r\n              promoterVerifications: state.promoterVerifications.map(v => \r\n                v.id === verificationId ? response.data! : v\r\n              )\r\n            }))\r\n          }\r\n        } catch (error) {\r\n          console.error('Failed to review promoter verification:', error)\r\n        }\r\n      },\r\n      \r\n      // Applications\r\n      fetchAllApplications: async (filters) => {\r\n        set({ isLoadingApplications: true })\r\n        try {\r\n          const response = await adminApi.getAllApplications(filters)\r\n          set({ \r\n            applications: response.data, \r\n            applicationsPagination: response.pagination,\r\n            applicationFilters: filters || null\r\n          })\r\n        } catch (error) {\r\n          console.error('Failed to fetch applications:', error)\r\n        } finally {\r\n          set({ isLoadingApplications: false })\r\n        }\r\n      },\r\n      \r\n      bulkReviewApplications: async (applicationIds, action, reason) => {\r\n        try {\r\n          const response = await adminApi.bulkReviewApplications(applicationIds, action, reason)\r\n          if (response.success && response.data) {\r\n            get().addBulkOperation(response.data)\r\n            \r\n            const operationId = response.data.id\r\n            const interval = setInterval(() => {\r\n              const progress = get().bulkOperationProgress[operationId] || 0\r\n              if (progress < 100) {\r\n                const newProgress = Math.min(progress + 15, 100)\r\n                get().updateBulkOperationProgress(operationId, newProgress)\r\n                \r\n                if (newProgress >= 100) {\r\n                  clearInterval(interval)\r\n                  get().fetchAllApplications(get().applicationFilters || undefined)\r\n                }\r\n              }\r\n            }, 300)\r\n          }\r\n        } catch (error) {\r\n          console.error('Failed to bulk review applications:', error)\r\n        }\r\n      },\r\n      \r\n      setApplicationFilters: (filters) => {\r\n        set({ applicationFilters: filters })\r\n      },\r\n      \r\n      selectApplication: (applicationId) => {\r\n        set((state) => ({\r\n          selectedApplications: state.selectedApplications.includes(applicationId)\r\n            ? state.selectedApplications.filter(id => id !== applicationId)\r\n            : [...state.selectedApplications, applicationId]\r\n        }))\r\n      },\r\n      \r\n      selectApplications: (applicationIds) => {\r\n        set({ selectedApplications: applicationIds })\r\n      },\r\n      \r\n      clearApplicationSelection: () => {\r\n        set({ selectedApplications: [] })\r\n      },\r\n      \r\n      // System Settings\r\n      fetchSystemSettings: async () => {\r\n        set({ isLoadingSettings: true })\r\n        try {\r\n          const response = await adminApi.getSystemSettings()\r\n          if (response.success && response.data) {\r\n            set({ systemSettings: response.data })\r\n          }\r\n        } catch (error) {\r\n          console.error('Failed to fetch system settings:', error)\r\n        } finally {\r\n          set({ isLoadingSettings: false })\r\n        }\r\n      },\r\n      \r\n      updateSystemSetting: async (key, value) => {\r\n        try {\r\n          const response = await adminApi.updateSystemSetting(key, value)\r\n          if (response.success && response.data) {\r\n            set((state) => ({\r\n              systemSettings: state.systemSettings.map(setting => \r\n                setting.key === key ? response.data! : setting\r\n              )\r\n            }))\r\n          }\r\n        } catch (error) {\r\n          console.error('Failed to update system setting:', error)\r\n        }\r\n      },\r\n      \r\n      // Email Templates\r\n      fetchEmailTemplates: async () => {\r\n        set({ isLoadingTemplates: true })\r\n        try {\r\n          const response = await adminApi.getEmailTemplates()\r\n          if (response.success && response.data) {\r\n            set({ emailTemplates: response.data })\r\n          }\r\n        } catch (error) {\r\n          console.error('Failed to fetch email templates:', error)\r\n        } finally {\r\n          set({ isLoadingTemplates: false })\r\n        }\r\n      },\r\n      \r\n      // Audit Logs\r\n      fetchAuditLogs: async (filters) => {\r\n        set({ isLoadingAudit: true })\r\n        try {\r\n          const response = await adminApi.getAuditLogs(filters)\r\n          set({ \r\n            auditLogs: response.data, \r\n            auditPagination: response.pagination\r\n          })\r\n        } catch (error) {\r\n          console.error('Failed to fetch audit logs:', error)\r\n        } finally {\r\n          set({ isLoadingAudit: false })\r\n        }\r\n      },\r\n      \r\n      // Bulk Operations\r\n      addBulkOperation: (operation) => {\r\n        set((state) => ({\r\n          bulkOperations: [operation, ...state.bulkOperations]\r\n        }))\r\n      },\r\n      \r\n      updateBulkOperationProgress: (operationId, progress) => {\r\n        set((state) => ({\r\n          bulkOperationProgress: {\r\n            ...state.bulkOperationProgress,\r\n            [operationId]: progress\r\n          }\r\n        }))\r\n      },\r\n      \r\n      // Analytics\r\n      fetchUserAnalytics: async (dateRange) => {\r\n        try {\r\n          const response = await adminApi.getUserAnalytics(dateRange)\r\n          return response.data\r\n        } catch (error) {\r\n          console.error('Failed to fetch user analytics:', error)\r\n          return null\r\n        }\r\n      },\r\n      \r\n      fetchMarketAnalytics: async (dateRange) => {\r\n        try {\r\n          const response = await adminApi.getMarketAnalytics(dateRange)\r\n          return response.data\r\n        } catch (error) {\r\n          console.error('Failed to fetch market analytics:', error)\r\n          return null\r\n        }\r\n      }\r\n    }),\r\n    {\r\n      name: 'admin-store'\r\n    }\r\n  )\r\n)","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\admin\\hooks\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\admin\\hooks\\useAdmin.ts","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'fetchAdminStats', 'fetchModerationQueue', 'fetchPromoterVerifications', 'fetchRecentActivities', 'fetchSystemSettings', and 'fetchUsers'. Either include them or remove the dependency array.","line":42,"column":6,"nodeType":"ArrayExpression","endLine":42,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [fetchAdminStats, fetchModerationQueue, fetchPromoterVerifications, fetchRecentActivities, fetchSystemSettings, fetchUsers]","fix":{"range":[1011,1013],"text":"[fetchAdminStats, fetchModerationQueue, fetchPromoterVerifications, fetchRecentActivities, fetchSystemSettings, fetchUsers]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":95,"column":69,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":95,"endColumn":72,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2228,2231],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2228,2231],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":110,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":110,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2740,2743],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2740,2743],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":272,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":272,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7154,7157],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7154,7157],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":317,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":317,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8139,8142],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8139,8142],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useCallback } from 'react'\r\nimport { useAdminStore } from '../adminStore'\r\nimport { AdminFilters } from '@/types'\r\n\r\n// Main admin hook\r\nexport function useAdmin() {\r\n  const {\r\n    stats,\r\n    isLoadingStats,\r\n    fetchAdminStats,\r\n    recentActivities,\r\n    isLoadingActivities,\r\n    fetchRecentActivities,\r\n    users,\r\n    isLoadingUsers,\r\n    fetchUsers,\r\n    moderationItems,\r\n    isLoadingModeration,\r\n    fetchModerationQueue,\r\n    promoterVerifications,\r\n    isLoadingVerifications,\r\n    fetchPromoterVerifications,\r\n    systemSettings,\r\n    isLoadingSettings,\r\n    fetchSystemSettings,\r\n    bulkOperations,\r\n    bulkOperationProgress,\r\n    addBulkOperation,\r\n    updateBulkOperationProgress,\r\n    fetchUserAnalytics,\r\n    fetchMarketAnalytics\r\n  } = useAdminStore()\r\n\r\n  // Initialize admin data\r\n  useEffect(() => {\r\n    fetchAdminStats()\r\n    fetchRecentActivities()\r\n    fetchUsers()\r\n    fetchModerationQueue()\r\n    fetchPromoterVerifications()\r\n    fetchSystemSettings()\r\n  }, []) // Empty dependency array to prevent infinite loops\r\n\r\n  return {\r\n    stats,\r\n    isLoadingStats,\r\n    recentActivities,\r\n    isLoadingActivities,\r\n    users,\r\n    isLoadingUsers,\r\n    moderationItems,\r\n    isLoadingModeration,\r\n    promoterVerifications,\r\n    isLoadingVerifications,\r\n    systemSettings,\r\n    isLoadingSettings,\r\n    bulkOperations,\r\n    bulkOperationProgress,\r\n    fetchAdminStats,\r\n    fetchRecentActivities,\r\n    fetchUsers,\r\n    fetchModerationQueue,\r\n    fetchPromoterVerifications,\r\n    fetchSystemSettings,\r\n    fetchUserAnalytics,\r\n    fetchMarketAnalytics,\r\n    addBulkOperation,\r\n    updateBulkOperationProgress\r\n  }\r\n}\r\n\r\n// Users management hook\r\nexport function useAdminUsers() {\r\n  const {\r\n    users,\r\n    usersPagination,\r\n    isLoadingUsers,\r\n    selectedUsers,\r\n    userFilters,\r\n    fetchUsers,\r\n    updateUserRole,\r\n    suspendUser,\r\n    verifyUser,\r\n    bulkUpdateUsers,\r\n    setUserFilters,\r\n    selectUser,\r\n    selectUsers,\r\n    clearUserSelection\r\n  } = useAdminStore()\r\n\r\n  const refreshUsers = useCallback((filters?: AdminFilters['userFilters']) => {\r\n    fetchUsers(filters)\r\n  }, [fetchUsers])\r\n\r\n  const handleRoleChange = useCallback(async (userId: string, role: any) => {\r\n    await updateUserRole(userId, role)\r\n  }, [updateUserRole])\r\n\r\n  const handleSuspendUser = useCallback(async (userId: string, suspended: boolean) => {\r\n    await suspendUser(userId, suspended)\r\n  }, [suspendUser])\r\n\r\n  const handleVerifyUser = useCallback(async (userId: string, verified: boolean) => {\r\n    await verifyUser(userId, verified)\r\n  }, [verifyUser])\r\n\r\n  const handleBulkUpdate = useCallback(async (\r\n    userIds: string[], \r\n    operation: 'role' | 'suspend' | 'verify', \r\n    value: any\r\n  ) => {\r\n    await bulkUpdateUsers(userIds, operation, value)\r\n  }, [bulkUpdateUsers])\r\n\r\n  const handleFilterChange = useCallback((filters: AdminFilters['userFilters']) => {\r\n    setUserFilters(filters)\r\n    fetchUsers(filters)\r\n  }, [setUserFilters, fetchUsers])\r\n\r\n  return {\r\n    users,\r\n    usersPagination,\r\n    isLoadingUsers,\r\n    selectedUsers,\r\n    userFilters,\r\n    refreshUsers,\r\n    handleRoleChange,\r\n    handleSuspendUser,\r\n    handleVerifyUser,\r\n    handleBulkUpdate,\r\n    handleFilterChange,\r\n    selectUser,\r\n    selectUsers,\r\n    clearUserSelection\r\n  }\r\n}\r\n\r\n// Moderation hook\r\nexport function useAdminModeration() {\r\n  const {\r\n    moderationItems,\r\n    moderationPagination,\r\n    isLoadingModeration,\r\n    selectedModerationItems,\r\n    moderationFilters,\r\n    fetchModerationQueue,\r\n    moderateContent,\r\n    assignModerationItem,\r\n    setModerationFilters,\r\n    selectModerationItem,\r\n    selectModerationItems,\r\n    clearModerationSelection\r\n  } = useAdminStore()\r\n\r\n  const refreshModerationQueue = useCallback((filters?: AdminFilters['moderationFilters']) => {\r\n    fetchModerationQueue(filters)\r\n  }, [fetchModerationQueue])\r\n\r\n  const handleModerateContent = useCallback(async (\r\n    itemId: string, \r\n    action: 'approve' | 'reject' | 'resolve', \r\n    reason?: string\r\n  ) => {\r\n    await moderateContent(itemId, action, reason)\r\n  }, [moderateContent])\r\n\r\n  const handleAssignItem = useCallback(async (itemId: string, assignedTo: string) => {\r\n    await assignModerationItem(itemId, assignedTo)\r\n  }, [assignModerationItem])\r\n\r\n  const handleFilterChange = useCallback((filters: AdminFilters['moderationFilters']) => {\r\n    setModerationFilters(filters)\r\n    fetchModerationQueue(filters)\r\n  }, [setModerationFilters, fetchModerationQueue])\r\n\r\n  return {\r\n    moderationItems,\r\n    moderationPagination,\r\n    isLoadingModeration,\r\n    selectedModerationItems,\r\n    moderationFilters,\r\n    refreshModerationQueue,\r\n    handleModerateContent,\r\n    handleAssignItem,\r\n    handleFilterChange,\r\n    selectModerationItem,\r\n    selectModerationItems,\r\n    clearModerationSelection\r\n  }\r\n}\r\n\r\n// Promoter verification hook\r\nexport function useAdminPromoterVerification() {\r\n  const {\r\n    promoterVerifications,\r\n    isLoadingVerifications,\r\n    fetchPromoterVerifications,\r\n    reviewPromoterVerification\r\n  } = useAdminStore()\r\n\r\n  const refreshVerifications = useCallback(() => {\r\n    fetchPromoterVerifications()\r\n  }, [fetchPromoterVerifications])\r\n\r\n  const handleReviewVerification = useCallback(async (\r\n    verificationId: string, \r\n    status: 'verified' | 'rejected', \r\n    notes?: string\r\n  ) => {\r\n    await reviewPromoterVerification(verificationId, status, notes)\r\n  }, [reviewPromoterVerification])\r\n\r\n  return {\r\n    promoterVerifications,\r\n    isLoadingVerifications,\r\n    refreshVerifications,\r\n    handleReviewVerification\r\n  }\r\n}\r\n\r\n// Analytics hook\r\nexport function useAdminAnalytics() {\r\n  const { fetchUserAnalytics, fetchMarketAnalytics } = useAdminStore()\r\n\r\n  const loadUserAnalytics = useCallback(async (dateRange: { start: string; end: string }) => {\r\n    return await fetchUserAnalytics(dateRange)\r\n  }, [fetchUserAnalytics])\r\n\r\n  const loadMarketAnalytics = useCallback(async (dateRange: { start: string; end: string }) => {\r\n    return await fetchMarketAnalytics(dateRange)\r\n  }, [fetchMarketAnalytics])\r\n\r\n  return {\r\n    loadUserAnalytics,\r\n    loadMarketAnalytics\r\n  }\r\n}\r\n\r\n// System settings hook\r\nexport function useAdminSystemSettings() {\r\n  const {\r\n    systemSettings,\r\n    isLoadingSettings,\r\n    fetchSystemSettings,\r\n    updateSystemSetting\r\n  } = useAdminStore()\r\n\r\n  const refreshSettings = useCallback(() => {\r\n    fetchSystemSettings()\r\n  }, [fetchSystemSettings])\r\n\r\n  const handleUpdateSetting = useCallback(async (key: string, value: string) => {\r\n    await updateSystemSetting(key, value)\r\n  }, [updateSystemSetting])\r\n\r\n  return {\r\n    systemSettings,\r\n    isLoadingSettings,\r\n    refreshSettings,\r\n    handleUpdateSetting\r\n  }\r\n}\r\n\r\n// Bulk operations hook\r\nexport function useAdminBulkOperations() {\r\n  const { bulkOperations, bulkOperationProgress, addBulkOperation, updateBulkOperationProgress } = useAdminStore()\r\n\r\n  const getOperationProgress = useCallback((operationId: string) => {\r\n    return bulkOperationProgress[operationId] || 0\r\n  }, [bulkOperationProgress])\r\n\r\n  const getOperationStatus = useCallback((operation: any) => {\r\n    const progress = getOperationProgress(operation.id)\r\n    if (progress >= 100) return 'completed'\r\n    if (progress > 0) return 'processing'\r\n    return 'pending'\r\n  }, [getOperationProgress])\r\n\r\n  return {\r\n    bulkOperations,\r\n    bulkOperationProgress,\r\n    addBulkOperation,\r\n    updateBulkOperationProgress,\r\n    getOperationProgress,\r\n    getOperationStatus\r\n  }\r\n}\r\n\r\n// Email templates hook\r\nexport function useAdminEmailTemplates() {\r\n  const {\r\n    emailTemplates,\r\n    isLoadingTemplates,\r\n    fetchEmailTemplates\r\n  } = useAdminStore()\r\n\r\n  const refreshTemplates = useCallback(() => {\r\n    fetchEmailTemplates()\r\n  }, [fetchEmailTemplates])\r\n\r\n  return {\r\n    emailTemplates,\r\n    isLoadingTemplates,\r\n    refreshTemplates\r\n  }\r\n}\r\n\r\n// Audit logs hook\r\nexport function useAdminAuditLogs() {\r\n  const {\r\n    auditLogs,\r\n    auditPagination,\r\n    isLoadingAudit,\r\n    fetchAuditLogs\r\n  } = useAdminStore()\r\n\r\n  const refreshAuditLogs = useCallback((filters?: any) => {\r\n    fetchAuditLogs(filters)\r\n  }, [fetchAuditLogs])\r\n\r\n  return {\r\n    auditLogs,\r\n    auditPagination,\r\n    isLoadingAudit,\r\n    refreshAuditLogs\r\n  }\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\admin\\hooks\\useSupport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\admin\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\admin\\supportApi.ts","messages":[{"ruleId":"no-useless-catch","severity":2,"message":"Unnecessary try/catch wrapper.","line":39,"column":5,"nodeType":"TryStatement","messageId":"unnecessaryCatch","endLine":50,"endColumn":6},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":57,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":57,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1501,1504],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1501,1504],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":65,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":65,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1743,1746],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1743,1746],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiResponse, PaginatedResponse } from '@/types'\r\n\r\n// Environment configuration\r\nconst isMockMode = typeof process !== 'undefined' ? process.env.VITE_USE_MOCK_API === 'true' : true\r\n\r\n// API Configuration\r\nconst API_BASE_URL = 'http://localhost:3001/api/v1'\r\n\r\n// API simulation delay\r\nconst delay = (ms: number) => new Promise(resolve => setTimeout(resolve, ms))\r\n\r\n// HTTP client\r\nclass HttpClient {\r\n  private baseURL: string\r\n\r\n  constructor(baseURL: string) {\r\n    this.baseURL = baseURL\r\n  }\r\n\r\n  private async request<T>(\r\n    endpoint: string,\r\n    options: RequestInit = {}\r\n  ): Promise<T> {\r\n    const url = `${this.baseURL}${endpoint}`\r\n\r\n    const token = localStorage.getItem('auth-storage')\r\n      ? JSON.parse(localStorage.getItem('auth-storage') || '{}').state?.token\r\n      : null\r\n\r\n    const config: RequestInit = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...(token && { Authorization: `Bearer ${token}` }),\r\n        ...options.headers,\r\n      },\r\n      ...options,\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(url, config)\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}))\r\n        throw new Error(errorData.message || 'Request failed')\r\n      }\r\n\r\n      return await response.json()\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  get<T>(endpoint: string): Promise<T> {\r\n    return this.request<T>(endpoint, { method: 'GET' })\r\n  }\r\n\r\n  post<T>(endpoint: string, data?: any): Promise<T> {\r\n    return this.request<T>(endpoint, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: data ? JSON.stringify(data) : undefined,\r\n    })\r\n  }\r\n\r\n  put<T>(endpoint: string, data?: any): Promise<T> {\r\n    return this.request<T>(endpoint, {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: data ? JSON.stringify(data) : undefined,\r\n    })\r\n  }\r\n\r\n  delete<T>(endpoint: string): Promise<T> {\r\n    return this.request<T>(endpoint, { method: 'DELETE' })\r\n  }\r\n}\r\n\r\nconst httpClient = new HttpClient(API_BASE_URL)\r\n\r\n// Types\r\nexport interface SupportTicket {\r\n  id: string\r\n  title: string\r\n  description: string\r\n  status: 'open' | 'in-progress' | 'resolved' | 'closed'\r\n  priority: 'low' | 'medium' | 'high' | 'urgent'\r\n  category: 'technical' | 'billing' | 'account' | 'general'\r\n  userId: string\r\n  user: {\r\n    firstName: string\r\n    lastName: string\r\n    email: string\r\n  }\r\n  createdAt: string\r\n  updatedAt: string\r\n  assignedTo?: string\r\n  resolvedAt?: string\r\n}\r\n\r\nexport interface FAQItem {\r\n  id: string\r\n  question: string\r\n  answer: string\r\n  category: string\r\n  isActive: boolean\r\n  views: number\r\n  createdAt: string\r\n  updatedAt: string\r\n}\r\n\r\nexport interface SupportFilters {\r\n  status?: string\r\n  priority?: string\r\n  category?: string\r\n  search?: string\r\n}\r\n\r\n// Mock data\r\nconst mockTickets: SupportTicket[] = [\r\n  {\r\n    id: '1',\r\n    title: 'Cannot login to my account',\r\n    description: 'Getting error message when trying to log in',\r\n    status: 'open',\r\n    priority: 'high',\r\n    category: 'account',\r\n    userId: 'user1',\r\n    user: {\r\n      firstName: 'Sarah',\r\n      lastName: 'Johnson',\r\n      email: 'sarah@example.com'\r\n    },\r\n    createdAt: '2024-01-15T10:30:00Z',\r\n    updatedAt: '2024-01-15T10:30:00Z'\r\n  },\r\n  {\r\n    id: '2',\r\n    title: 'Payment processing issue',\r\n    description: 'Credit card payment failed multiple times',\r\n    status: 'in-progress',\r\n    priority: 'urgent',\r\n    category: 'billing',\r\n    userId: 'user2',\r\n    user: {\r\n      firstName: 'Mike',\r\n      lastName: 'Chen',\r\n      email: 'mike@example.com'\r\n    },\r\n    createdAt: '2024-01-14T14:20:00Z',\r\n    updatedAt: '2024-01-15T09:15:00Z',\r\n    assignedTo: 'admin1'\r\n  },\r\n  {\r\n    id: '3',\r\n    title: 'Market listing not showing',\r\n    description: 'My market listing disappeared from search results',\r\n    status: 'resolved',\r\n    priority: 'medium',\r\n    category: 'technical',\r\n    userId: 'user3',\r\n    user: {\r\n      firstName: 'Jane',\r\n      lastName: 'Smith',\r\n      email: 'jane@example.com'\r\n    },\r\n    createdAt: '2024-01-13T16:45:00Z',\r\n    updatedAt: '2024-01-14T11:20:00Z',\r\n    assignedTo: 'admin2',\r\n    resolvedAt: '2024-01-14T11:20:00Z'\r\n  },\r\n  {\r\n    id: '4',\r\n    title: 'Application not submitting',\r\n    description: 'When I try to submit my market application, it keeps spinning',\r\n    status: 'open',\r\n    priority: 'high',\r\n    category: 'technical',\r\n    userId: 'user4',\r\n    user: {\r\n      firstName: 'John',\r\n      lastName: 'Doe',\r\n      email: 'john@example.com'\r\n    },\r\n    createdAt: '2024-01-15T08:00:00Z',\r\n    updatedAt: '2024-01-15T08:00:00Z'\r\n  },\r\n  {\r\n    id: '5',\r\n    title: 'Billing inquiry',\r\n    description: 'I was charged twice for my market fee',\r\n    status: 'open',\r\n    priority: 'medium',\r\n    category: 'billing',\r\n    userId: 'user5',\r\n    user: {\r\n      firstName: 'Emily',\r\n      lastName: 'Davis',\r\n      email: 'emily@example.com'\r\n    },\r\n    createdAt: '2024-01-14T11:30:00Z',\r\n    updatedAt: '2024-01-14T11:30:00Z'\r\n  }\r\n]\r\n\r\nconst mockFAQs: FAQItem[] = [\r\n  {\r\n    id: '1',\r\n    question: 'How do I apply to a market?',\r\n    answer: 'Navigate to the market page and click the \"Apply Now\" button to start your application.',\r\n    category: 'applications',\r\n    isActive: true,\r\n    views: 245,\r\n    createdAt: '2024-01-01T00:00:00Z',\r\n    updatedAt: '2024-01-01T00:00:00Z'\r\n  },\r\n  {\r\n    id: '2',\r\n    question: 'What payment methods do you accept?',\r\n    answer: 'We accept all major credit cards, PayPal, and bank transfers for market fees.',\r\n    category: 'payments',\r\n    isActive: true,\r\n    views: 189,\r\n    createdAt: '2024-01-01T00:00:00Z',\r\n    updatedAt: '2024-01-01T00:00:00Z'\r\n  },\r\n  {\r\n    id: '3',\r\n    question: 'How long does application approval take?',\r\n    answer: 'Application approval typically takes 3-5 business days depending on the market.',\r\n    category: 'applications',\r\n    isActive: false,\r\n    views: 156,\r\n    createdAt: '2024-01-01T00:00:00Z',\r\n    updatedAt: '2024-01-10T00:00:00Z'\r\n  },\r\n  {\r\n    id: '4',\r\n    question: 'Can I cancel my market application?',\r\n    answer: 'Yes, you can cancel your application before it is approved. Go to your applications page and click the cancel button.',\r\n    category: 'applications',\r\n    isActive: true,\r\n    views: 98,\r\n    createdAt: '2024-01-05T00:00:00Z',\r\n    updatedAt: '2024-01-05T00:00:00Z'\r\n  },\r\n  {\r\n    id: '5',\r\n    question: 'How do I become a verified promoter?',\r\n    answer: 'Go to your profile settings and click on \"Become a Promoter\" to start the verification process.',\r\n    category: 'account',\r\n    isActive: true,\r\n    views: 167,\r\n    createdAt: '2024-01-02T00:00:00Z',\r\n    updatedAt: '2024-01-02T00:00:00Z'\r\n  }\r\n]\r\n\r\n// Support API functions\r\nexport const supportApi = {\r\n  // Support Tickets\r\n  async getSupportTickets(filters?: SupportFilters): Promise<PaginatedResponse<SupportTicket>> {\r\n    if (isMockMode) {\r\n      await delay(500)\r\n      let filteredTickets = [...mockTickets]\r\n      \r\n      if (filters?.status && filters.status !== 'all') {\r\n        filteredTickets = filteredTickets.filter(t => t.status === filters.status)\r\n      }\r\n      \r\n      if (filters?.priority && filters.priority !== 'all') {\r\n        filteredTickets = filteredTickets.filter(t => t.priority === filters.priority)\r\n      }\r\n      \r\n      if (filters?.category && filters.category !== 'all') {\r\n        filteredTickets = filteredTickets.filter(t => t.category === filters.category)\r\n      }\r\n      \r\n      if (filters?.search) {\r\n        const search = filters.search.toLowerCase()\r\n        filteredTickets = filteredTickets.filter(t =>\r\n          t.title.toLowerCase().includes(search) ||\r\n          t.description.toLowerCase().includes(search) ||\r\n          t.user.firstName.toLowerCase().includes(search) ||\r\n          t.user.lastName.toLowerCase().includes(search) ||\r\n          t.user.email.toLowerCase().includes(search)\r\n        )\r\n      }\r\n      \r\n      return {\r\n        data: filteredTickets,\r\n        pagination: {\r\n          page: 1,\r\n          limit: 20,\r\n          total: filteredTickets.length,\r\n          totalPages: Math.ceil(filteredTickets.length / 20)\r\n        }\r\n      }\r\n    } else {\r\n      const queryParams = new URLSearchParams()\r\n      if (filters?.status) queryParams.append('status', filters.status)\r\n      if (filters?.priority) queryParams.append('priority', filters.priority)\r\n      if (filters?.category) queryParams.append('category', filters.category)\r\n      if (filters?.search) queryParams.append('search', filters.search)\r\n      \r\n      const response = await httpClient.get<PaginatedResponse<SupportTicket>>(\r\n        `/admin/support/tickets?${queryParams}`\r\n      )\r\n      return response\r\n    }\r\n  },\r\n\r\n  async createSupportTicket(data: {\r\n    title: string\r\n    description: string\r\n    priority: SupportTicket['priority']\r\n    category: SupportTicket['category']\r\n  }): Promise<ApiResponse<SupportTicket>> {\r\n    if (isMockMode) {\r\n      await delay(500)\r\n      const newTicket: SupportTicket = {\r\n        id: `ticket-${Date.now()}`,\r\n        ...data,\r\n        status: 'open',\r\n        userId: 'current-user',\r\n        user: {\r\n          firstName: 'Current',\r\n          lastName: 'User',\r\n          email: 'user@example.com'\r\n        },\r\n        createdAt: new Date().toISOString(),\r\n        updatedAt: new Date().toISOString()\r\n      }\r\n      mockTickets.push(newTicket)\r\n      return { success: true, data: newTicket }\r\n    } else {\r\n      const response = await httpClient.post<ApiResponse<SupportTicket>>(\r\n        '/admin/support/tickets',\r\n        data\r\n      )\r\n      return response\r\n    }\r\n  },\r\n\r\n  async updateSupportTicket(\r\n    ticketId: string,\r\n    data: Partial<SupportTicket>\r\n  ): Promise<ApiResponse<SupportTicket>> {\r\n    if (isMockMode) {\r\n      await delay(300)\r\n      const ticketIndex = mockTickets.findIndex(t => t.id === ticketId)\r\n      if (ticketIndex !== -1) {\r\n        mockTickets[ticketIndex] = {\r\n          ...mockTickets[ticketIndex],\r\n          ...data,\r\n          updatedAt: new Date().toISOString()\r\n        }\r\n        return { success: true, data: mockTickets[ticketIndex] }\r\n      }\r\n      throw new Error('Ticket not found')\r\n    } else {\r\n      const response = await httpClient.put<ApiResponse<SupportTicket>>(\r\n        `/admin/support/tickets/${ticketId}`,\r\n        data\r\n      )\r\n      return response\r\n    }\r\n  },\r\n\r\n  async resolveSupportTicket(ticketId: string): Promise<ApiResponse<SupportTicket>> {\r\n    return this.updateSupportTicket(ticketId, {\r\n      status: 'resolved',\r\n      resolvedAt: new Date().toISOString()\r\n    })\r\n  },\r\n\r\n  async assignSupportTicket(ticketId: string, adminId: string): Promise<ApiResponse<SupportTicket>> {\r\n    return this.updateSupportTicket(ticketId, {\r\n      assignedTo: adminId,\r\n      status: 'in-progress'\r\n    })\r\n  },\r\n\r\n  async closeSupportTicket(ticketId: string): Promise<ApiResponse<SupportTicket>> {\r\n    return this.updateSupportTicket(ticketId, {\r\n      status: 'closed'\r\n    })\r\n  },\r\n\r\n  // FAQs\r\n  async getFAQs(): Promise<ApiResponse<FAQItem[]>> {\r\n    if (isMockMode) {\r\n      await delay(400)\r\n      return { success: true, data: mockFAQs }\r\n    } else {\r\n      const response = await httpClient.get<ApiResponse<FAQItem[]>>('/admin/support/faqs')\r\n      return response\r\n    }\r\n  },\r\n\r\n  async createFAQ(data: {\r\n    question: string\r\n    answer: string\r\n    category: string\r\n  }): Promise<ApiResponse<FAQItem>> {\r\n    if (isMockMode) {\r\n      await delay(400)\r\n      const newFAQ: FAQItem = {\r\n        id: `faq-${Date.now()}`,\r\n        ...data,\r\n        isActive: true,\r\n        views: 0,\r\n        createdAt: new Date().toISOString(),\r\n        updatedAt: new Date().toISOString()\r\n      }\r\n      mockFAQs.push(newFAQ)\r\n      return { success: true, data: newFAQ }\r\n    } else {\r\n      const response = await httpClient.post<ApiResponse<FAQItem>>(\r\n        '/admin/support/faqs',\r\n        data\r\n      )\r\n      return response\r\n    }\r\n  },\r\n\r\n  async updateFAQ(\r\n    faqId: string,\r\n    data: Partial<FAQItem>\r\n  ): Promise<ApiResponse<FAQItem>> {\r\n    if (isMockMode) {\r\n      await delay(300)\r\n      const faqIndex = mockFAQs.findIndex(f => f.id === faqId)\r\n      if (faqIndex !== -1) {\r\n        mockFAQs[faqIndex] = {\r\n          ...mockFAQs[faqIndex],\r\n          ...data,\r\n          updatedAt: new Date().toISOString()\r\n        }\r\n        return { success: true, data: mockFAQs[faqIndex] }\r\n      }\r\n      throw new Error('FAQ not found')\r\n    } else {\r\n      const response = await httpClient.put<ApiResponse<FAQItem>>(\r\n        `/admin/support/faqs/${faqId}`,\r\n        data\r\n      )\r\n      return response\r\n    }\r\n  },\r\n\r\n  async toggleFAQActive(faqId: string): Promise<ApiResponse<FAQItem>> {\r\n    if (isMockMode) {\r\n      await delay(300)\r\n      const faqIndex = mockFAQs.findIndex(f => f.id === faqId)\r\n      if (faqIndex !== -1) {\r\n        mockFAQs[faqIndex] = {\r\n          ...mockFAQs[faqIndex],\r\n          isActive: !mockFAQs[faqIndex].isActive,\r\n          updatedAt: new Date().toISOString()\r\n        }\r\n        return { success: true, data: mockFAQs[faqIndex] }\r\n      }\r\n      throw new Error('FAQ not found')\r\n    } else {\r\n      const response = await httpClient.post<ApiResponse<FAQItem>>(\r\n        `/admin/support/faqs/${faqId}/toggle`\r\n      )\r\n      return response\r\n    }\r\n  },\r\n\r\n  async deleteFAQ(faqId: string): Promise<ApiResponse<void>> {\r\n    if (isMockMode) {\r\n      await delay(300)\r\n      const faqIndex = mockFAQs.findIndex(f => f.id === faqId)\r\n      if (faqIndex !== -1) {\r\n        mockFAQs.splice(faqIndex, 1)\r\n        return { success: true }\r\n      }\r\n      throw new Error('FAQ not found')\r\n    } else {\r\n      const response = await httpClient.delete<ApiResponse<void>>(\r\n        `/admin/support/faqs/${faqId}`\r\n      )\r\n      return response\r\n    }\r\n  }\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\applications\\applicationsApi.ts","messages":[{"ruleId":"no-useless-catch","severity":2,"message":"Unnecessary try/catch wrapper.","line":42,"column":5,"nodeType":"TryStatement","messageId":"unnecessaryCatch","endLine":55,"endColumn":6},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":62,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1855,1858],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1855,1858],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":70,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":70,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2097,2100],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2097,2100],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Application, ApplicationStatus, ApplicationFilters, ApiResponse, PaginatedResponse } from '@/types'\r\nimport { assertValidApplicationStatusTransition } from '@/utils/applicationStatus'\r\n\r\n// Environment configuration\r\nconst isDevelopment = typeof process !== 'undefined' ? process.env.NODE_ENV === 'development' : true\r\nconst isMockMode = typeof process !== 'undefined' ? process.env.VITE_USE_MOCK_API === 'true' : true\r\n\r\n// API Configuration - Versioned API\r\nconst API_BASE_URL = 'http://localhost:3001/api/v1'\r\n\r\n// API simulation delay (reduced for better UX)\r\nconst delay = (ms: number) => new Promise(resolve => setTimeout(resolve, ms))\r\n\r\n// HTTP client with interceptors\r\nclass HttpClient {\r\n  private baseURL: string\r\n\r\n  constructor(baseURL: string) {\r\n    this.baseURL = baseURL\r\n  }\r\n\r\n  private async request<T>(\r\n    endpoint: string,\r\n    options: RequestInit = {}\r\n  ): Promise<T> {\r\n    const url = `${this.baseURL}${endpoint}`\r\n\r\n    // Add auth token if available\r\n    const token = localStorage.getItem('auth-storage')\r\n      ? JSON.parse(localStorage.getItem('auth-storage') || '{}').state?.token\r\n      : null\r\n\r\n    const config: RequestInit = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...(token && { Authorization: `Bearer ${token}` }),\r\n        ...options.headers,\r\n      },\r\n      ...options,\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(url, config)\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}))\r\n        throw new Error(\r\n          errorData.message || 'Request failed'\r\n        )\r\n      }\r\n\r\n      return await response.json()\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  get<T>(endpoint: string): Promise<T> {\r\n    return this.request<T>(endpoint, { method: 'GET' })\r\n  }\r\n\r\n  post<T>(endpoint: string, data?: any): Promise<T> {\r\n    return this.request<T>(endpoint, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: data ? JSON.stringify(data) : undefined,\r\n    })\r\n  }\r\n\r\n  put<T>(endpoint: string, data?: any): Promise<T> {\r\n    return this.request<T>(endpoint, {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: data ? JSON.stringify(data) : undefined,\r\n    })\r\n  }\r\n\r\n  delete<T>(endpoint: string): Promise<T> {\r\n    return this.request<T>(endpoint, { method: 'DELETE' })\r\n  }\r\n}\r\n\r\nconst httpClient = new HttpClient(API_BASE_URL)\r\n\r\n// Mock data for development\r\nconst mockApplications: Application[] = [\r\n  {\r\n    id: '1',\r\n    marketId: '1',\r\n    vendorId: 'user1',\r\n    vendor: {\r\n      id: 'user1',\r\n      email: 'vendor1@example.com',\r\n      firstName: 'John',\r\n      lastName: 'Smith',\r\n      role: 'vendor',\r\n      createdAt: '2025-01-01T00:00:00Z',\r\n      updatedAt: '2025-01-01T00:00:00Z',\r\n      isEmailVerified: true,\r\n      isActive: true\r\n    },\r\n    market: {\r\n      id: '1',\r\n      name: 'Downtown Farmers Market',\r\n      description: 'A vibrant weekly farmers market featuring local produce, artisanal goods, and handmade crafts.',\r\n      category: 'farmers-market',\r\n      promoterId: 'promoter1',\r\n      promoter: {\r\n        id: 'promoter1',\r\n        email: 'promoter1@example.com',\r\n        firstName: 'Sarah',\r\n        lastName: 'Johnson',\r\n        role: 'promoter',\r\n        createdAt: '2025-01-01T00:00:00Z',\r\n        updatedAt: '2025-01-01T00:00:00Z',\r\n        isEmailVerified: true,\r\n        isActive: true\r\n      },\r\n      location: {\r\n        address: '123 Main St',\r\n        city: 'Springfield',\r\n        state: 'IL',\r\n        zipCode: '62701',\r\n        country: 'USA'\r\n      },\r\n      schedule: [\r\n        {\r\n          id: '1',\r\n          dayOfWeek: 6, // Saturday\r\n          startTime: '08:00',\r\n          endTime: '14:00',\r\n          startDate: '2025-01-01',\r\n          endDate: '2025-12-31',\r\n          isRecurring: true\r\n        }\r\n      ],\r\n      marketType: 'promoter-managed',\r\n      status: 'active',\r\n      images: ['https://picsum.photos/800/600?random=1'],\r\n      tags: ['local-produce', 'fresh-produce', 'organic'],\r\n      accessibility: {\r\n        wheelchairAccessible: true,\r\n        parkingAvailable: true,\r\n        restroomsAvailable: true,\r\n        familyFriendly: true,\r\n        petFriendly: true\r\n      },\r\n      contact: {\r\n        phone: '(555) 123-4567',\r\n        email: 'info@downtownmarket.com',\r\n        website: 'https://downtownmarket.com'\r\n      },\r\n      applicationFields: [\r\n        {\r\n          id: '1',\r\n          name: 'businessDescription',\r\n          type: 'textarea',\r\n          required: true,\r\n          validation: {\r\n            minLength: 50,\r\n            maxLength: 500\r\n          }\r\n        },\r\n        {\r\n          id: '2',\r\n          name: 'productCategories',\r\n          type: 'select',\r\n          required: true,\r\n          options: ['produce', 'meat', 'dairy', 'bakery', 'crafts', 'art', 'other']\r\n        }\r\n      ],\r\n      createdAt: '2025-01-01T00:00:00Z',\r\n      updatedAt: '2025-01-01T00:00:00Z'\r\n    },\r\n    status: 'submitted',\r\n    submittedData: {\r\n      businessName: 'Smith Organic Farm',\r\n      businessDescription: 'Family-owned organic farm specializing in heirloom tomatoes, seasonal vegetables, and fresh herbs.',\r\n      productCategories: ['produce'],\r\n      experience: '5+ years',\r\n      certifications: ['Organic Certified']\r\n    },\r\n    customFields: {\r\n      businessDescription: 'Family-owned organic farm specializing in heirloom tomatoes, seasonal vegetables, and fresh herbs.',\r\n      productCategories: ['produce']\r\n    },\r\n    documents: [],\r\n    notes: 'Application submitted successfully',\r\n    createdAt: '2025-01-15T10:30:00Z',\r\n    updatedAt: '2025-01-15T10:30:00Z'\r\n  },\r\n  {\r\n    id: '2',\r\n    marketId: '2',\r\n    vendorId: 'user1',\r\n    vendor: {\r\n      id: 'user1',\r\n      email: 'vendor1@example.com',\r\n      firstName: 'John',\r\n      lastName: 'Smith',\r\n      role: 'vendor',\r\n      createdAt: '2025-01-01T00:00:00Z',\r\n      updatedAt: '2025-01-01T00:00:00Z',\r\n      isEmailVerified: true,\r\n      isActive: true\r\n    },\r\n    market: {\r\n      id: '2',\r\n      name: 'Artisan Craft Fair',\r\n      description: 'Monthly craft fair featuring local artisans and their handmade creations.',\r\n      category: 'arts-crafts',\r\n      promoterId: 'promoter2',\r\n      promoter: {\r\n        id: 'promoter2',\r\n        email: 'promoter2@example.com',\r\n        firstName: 'Mike',\r\n        lastName: 'Davis',\r\n        role: 'promoter',\r\n        createdAt: '2025-01-01T00:00:00Z',\r\n        updatedAt: '2025-01-01T00:00:00Z',\r\n        isEmailVerified: true,\r\n        isActive: true\r\n      },\r\n      location: {\r\n        address: '456 Oak Ave',\r\n        city: 'Springfield',\r\n        state: 'IL',\r\n        zipCode: '62702',\r\n        country: 'USA'\r\n      },\r\n      schedule: [\r\n        {\r\n          id: '2',\r\n          dayOfWeek: 0, // Sunday\r\n          startTime: '10:00',\r\n          endTime: '16:00',\r\n          startDate: '2025-01-01',\r\n          endDate: '2025-12-31',\r\n          isRecurring: true\r\n        }\r\n      ],\r\n      marketType: 'promoter-managed',\r\n      status: 'active',\r\n      images: ['https://picsum.photos/800/600?random=2'],\r\n      tags: ['handmade', 'local-artisans', 'crafts', 'fine-art'],\r\n      accessibility: {\r\n        wheelchairAccessible: true,\r\n        parkingAvailable: true,\r\n        restroomsAvailable: true,\r\n        familyFriendly: true,\r\n        petFriendly: false\r\n      },\r\n      contact: {\r\n        phone: '(555) 987-6543',\r\n        email: 'craftfair@example.com'\r\n      },\r\n      applicationFields: [\r\n        {\r\n          id: '3',\r\n          name: 'craftType',\r\n          type: 'select',\r\n          required: true,\r\n          options: ['jewelry', 'pottery', 'woodworking', 'textiles', 'painting', 'sculpture', 'other']\r\n        },\r\n        {\r\n          id: '4',\r\n          name: 'portfolio',\r\n          type: 'file',\r\n          required: true\r\n        }\r\n      ],\r\n      createdAt: '2025-01-01T00:00:00Z',\r\n      updatedAt: '2025-01-01T00:00:00Z'\r\n    },\r\n    status: 'approved',\r\n    submittedData: {\r\n      businessName: 'Smith Organic Farm',\r\n      businessDescription: 'Handcrafted wooden furniture and home decor made from reclaimed materials.',\r\n      productCategories: ['woodworking'],\r\n      experience: '3+ years',\r\n      portfolio: ['portfolio.pdf']\r\n    },\r\n    customFields: {\r\n      craftType: 'woodworking',\r\n      portfolio: ['portfolio.pdf']\r\n    },\r\n    documents: [\r\n      {\r\n        id: 'doc1',\r\n        name: 'portfolio.pdf',\r\n        type: 'application/pdf',\r\n        url: '/uploads/portfolio.pdf',\r\n        size: 2048000,\r\n        uploadedAt: '2025-01-10T14:20:00Z'\r\n      }\r\n    ],\r\n    notes: 'Application approved - Welcome to the craft fair!',\r\n    reviewedBy: 'promoter2',\r\n    reviewedAt: '2025-01-12T16:45:00Z',\r\n    createdAt: '2025-01-10T14:20:00Z',\r\n    updatedAt: '2025-01-12T16:45:00Z'\r\n  }\r\n]\r\n\r\nexport const applicationsApi = {\r\n  // Get all applications (with filters)\r\n  async getApplications(filters?: ApplicationFilters, page = 1, limit = 20): Promise<ApiResponse<PaginatedResponse<Application>>> {\r\n    if (isDevelopment && isMockMode) {\r\n      await delay(100) // Reduced delay for better UX\r\n\r\n      let filteredApplications = [...mockApplications]\r\n\r\n      // Apply filters\r\n      if (filters?.status && filters.status.length > 0) {\r\n        filteredApplications = filteredApplications.filter(app =>\r\n          filters.status!.includes(app.status)\r\n        )\r\n      }\r\n\r\n      if (filters?.marketId) {\r\n        filteredApplications = filteredApplications.filter(app =>\r\n          app.marketId === filters.marketId\r\n        )\r\n      }\r\n\r\n      if (filters?.vendorId) {\r\n        filteredApplications = filteredApplications.filter(app =>\r\n          app.vendorId === filters.vendorId\r\n        )\r\n      }\r\n\r\n      if (filters?.search) {\r\n        const query = filters.search.toLowerCase()\r\n        filteredApplications = filteredApplications.filter(app =>\r\n          app.market.name.toLowerCase().includes(query) ||\r\n          app.vendor.firstName.toLowerCase().includes(query) ||\r\n          app.vendor.lastName.toLowerCase().includes(query)\r\n        )\r\n      }\r\n\r\n      // Apply date range filter\r\n      if (filters?.dateRange) {\r\n        const { start, end } = filters.dateRange\r\n        filteredApplications = filteredApplications.filter(app => {\r\n          const appDate = new Date(app.createdAt)\r\n          return appDate >= new Date(start) && appDate <= new Date(end)\r\n        })\r\n      }\r\n\r\n      // Apply pagination\r\n      const startIndex = (page - 1) * limit\r\n      const endIndex = startIndex + limit\r\n      const paginatedApplications = filteredApplications.slice(startIndex, endIndex)\r\n\r\n      return {\r\n        success: true,\r\n        data: {\r\n          data: paginatedApplications,\r\n          pagination: {\r\n            page,\r\n            limit,\r\n            total: filteredApplications.length,\r\n            totalPages: Math.ceil(filteredApplications.length / limit)\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      // Real API\r\n      const queryParams = new URLSearchParams()\r\n      if (filters) {\r\n        if (filters.search) queryParams.append('search', filters.search)\r\n        if (filters.status?.length) queryParams.append('status', filters.status.join(','))\r\n        if (filters.marketId) queryParams.append('marketId', filters.marketId)\r\n        if (filters.vendorId) queryParams.append('vendorId', filters.vendorId)\r\n        if (filters.dateRange?.start) queryParams.append('startDate', filters.dateRange.start)\r\n        if (filters.dateRange?.end) queryParams.append('endDate', filters.dateRange.end)\r\n      }\r\n      queryParams.append('page', page.toString())\r\n      queryParams.append('limit', limit.toString())\r\n\r\n      const response = await httpClient.get<ApiResponse<PaginatedResponse<Application>>>(`/applications?${queryParams}`)\r\n      return response\r\n    }\r\n  },\r\n\r\n  // Get applications for a specific vendor\r\n  async getMyApplications(vendorId: string): Promise<ApiResponse<Application[]>> {\r\n    if (isDevelopment && isMockMode) {\r\n      await delay(80)\r\n\r\n      const myApplications = mockApplications.filter(app => app.vendorId === vendorId)\r\n\r\n      return {\r\n        success: true,\r\n        data: myApplications\r\n      }\r\n    } else {\r\n      const response = await httpClient.get<ApiResponse<Application[]>>(`/applications/vendor/${vendorId}`)\r\n      return response\r\n    }\r\n  },\r\n\r\n  // Get applications for a specific market (for promoters)\r\n  async getMarketApplications(marketId: string): Promise<ApiResponse<Application[]>> {\r\n    try {\r\n      await new Promise(resolve => setTimeout(resolve, 300))\r\n      \r\n      const marketApplications = mockApplications.filter(app => app.marketId === marketId)\r\n      \r\n      return {\r\n        success: true,\r\n        data: marketApplications\r\n      }\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        error: 'Failed to fetch market applications'\r\n      }\r\n    }\r\n  },\r\n\r\n  // Get single application by ID\r\n  async getApplication(id: string): Promise<ApiResponse<Application>> {\r\n    try {\r\n      await new Promise(resolve => setTimeout(resolve, 200))\r\n      \r\n      const application = mockApplications.find(app => app.id === id)\r\n      \r\n      if (!application) {\r\n        return {\r\n          success: false,\r\n          error: 'Application not found'\r\n        }\r\n      }\r\n      \r\n      return {\r\n        success: true,\r\n        data: application\r\n      }\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        error: 'Failed to fetch application'\r\n      }\r\n    }\r\n  },\r\n\r\n  // Create new application\r\n  async createApplication(applicationData: Partial<Application>): Promise<ApiResponse<Application>> {\r\n    try {\r\n      await new Promise(resolve => setTimeout(resolve, 800))\r\n      \r\n      const newApplication: Application = {\r\n        id: Math.random().toString(36).substr(2, 9),\r\n        marketId: applicationData.marketId!,\r\n        vendorId: applicationData.vendorId!,\r\n        vendor: applicationData.vendor!,\r\n        market: applicationData.market!,\r\n        status: 'draft',\r\n        submittedData: applicationData.submittedData || {},\r\n        customFields: applicationData.customFields || {},\r\n        documents: [],\r\n        notes: applicationData.notes,\r\n        createdAt: new Date().toISOString(),\r\n        updatedAt: new Date().toISOString()\r\n      }\r\n      \r\n      // Add to mock data\r\n      mockApplications.push(newApplication)\r\n      \r\n      return {\r\n        success: true,\r\n        data: newApplication,\r\n        message: 'Application created successfully'\r\n      }\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        error: 'Failed to create application'\r\n      }\r\n    }\r\n  },\r\n\r\n  // Submit application\r\n  async submitApplication(id: string): Promise<ApiResponse<Application>> {\r\n    try {\r\n      await new Promise(resolve => setTimeout(resolve, 600))\r\n      \r\n      const applicationIndex = mockApplications.findIndex(app => app.id === id)\r\n      \r\n      if (applicationIndex === -1) {\r\n        return {\r\n          success: false,\r\n          error: 'Application not found'\r\n        }\r\n      }\r\n      \r\n      assertValidApplicationStatusTransition(mockApplications[applicationIndex].status, 'submitted')\r\n      mockApplications[applicationIndex].status = 'submitted'\r\n      mockApplications[applicationIndex].updatedAt = new Date().toISOString()\r\n      \r\n      return {\r\n        success: true,\r\n        data: mockApplications[applicationIndex],\r\n        message: 'Application submitted successfully'\r\n      }\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        error: 'Failed to submit application'\r\n      }\r\n    }\r\n  },\r\n\r\n  // Update application status (for promoters)\r\n  async updateApplicationStatus(id: string, status: ApplicationStatus, notes?: string): Promise<ApiResponse<Application>> {\r\n    try {\r\n      await new Promise(resolve => setTimeout(resolve, 500))\r\n      \r\n      const applicationIndex = mockApplications.findIndex(app => app.id === id)\r\n      \r\n      if (applicationIndex === -1) {\r\n        return {\r\n          success: false,\r\n          error: 'Application not found'\r\n        }\r\n      }\r\n      \r\n      assertValidApplicationStatusTransition(mockApplications[applicationIndex].status, status)\r\n      mockApplications[applicationIndex].status = status\r\n      mockApplications[applicationIndex].notes = notes\r\n      mockApplications[applicationIndex].reviewedAt = new Date().toISOString()\r\n      mockApplications[applicationIndex].updatedAt = new Date().toISOString()\r\n      \r\n      return {\r\n        success: true,\r\n        data: mockApplications[applicationIndex],\r\n        message: `Application ${status} successfully`\r\n      }\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        error: 'Failed to update application status'\r\n      }\r\n    }\r\n  },\r\n\r\n  // Withdraw application (for vendors)\r\n  async withdrawApplication(id: string): Promise<ApiResponse<Application>> {\r\n    try {\r\n      await new Promise(resolve => setTimeout(resolve, 400))\r\n      \r\n      const applicationIndex = mockApplications.findIndex(app => app.id === id)\r\n      \r\n      if (applicationIndex === -1) {\r\n        return {\r\n          success: false,\r\n          error: 'Application not found'\r\n        }\r\n      }\r\n      \r\n      assertValidApplicationStatusTransition(mockApplications[applicationIndex].status, 'withdrawn')\r\n      mockApplications[applicationIndex].status = 'withdrawn'\r\n      mockApplications[applicationIndex].updatedAt = new Date().toISOString()\r\n      \r\n      return {\r\n        success: true,\r\n        data: mockApplications[applicationIndex],\r\n        message: 'Application withdrawn successfully'\r\n      }\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        error: 'Failed to withdraw application'\r\n      }\r\n    }\r\n  },\r\n\r\n  // Update application\r\n  async updateApplication(id: string, updates: Partial<Application>): Promise<ApiResponse<Application>> {\r\n    try {\r\n      await new Promise(resolve => setTimeout(resolve, 600))\r\n      \r\n      const applicationIndex = mockApplications.findIndex(app => app.id === id)\r\n      \r\n      if (applicationIndex === -1) {\r\n        return {\r\n          success: false,\r\n          error: 'Application not found'\r\n        }\r\n      }\r\n      \r\n      mockApplications[applicationIndex] = {\r\n        ...mockApplications[applicationIndex],\r\n        ...updates,\r\n        updatedAt: new Date().toISOString()\r\n      }\r\n      \r\n      return {\r\n        success: true,\r\n        data: mockApplications[applicationIndex],\r\n        message: 'Application updated successfully'\r\n      }\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        error: 'Failed to update application'\r\n      }\r\n    }\r\n  },\r\n\r\n  // Delete application\r\n  async deleteApplication(id: string): Promise<ApiResponse<void>> {\r\n    try {\r\n      await new Promise(resolve => setTimeout(resolve, 300))\r\n      \r\n      const applicationIndex = mockApplications.findIndex(app => app.id === id)\r\n      \r\n      if (applicationIndex === -1) {\r\n        return {\r\n          success: false,\r\n          error: 'Application not found'\r\n        }\r\n      }\r\n      \r\n      mockApplications.splice(applicationIndex, 1)\r\n      \r\n      return {\r\n        success: true,\r\n        message: 'Application deleted successfully'\r\n      }\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        error: 'Failed to delete application'\r\n      }\r\n    }\r\n  },\r\n\r\n  // Bulk update application status (for promoters)\r\n  async bulkUpdateStatus(ids: string[], status: ApplicationStatus, notes?: string): Promise<ApiResponse<Application[]>> {\r\n    try {\r\n      await new Promise(resolve => setTimeout(resolve, 1000))\r\n      \r\n      const updatedApplications: Application[] = []\r\n      \r\n      for (const id of ids) {\r\n        const applicationIndex = mockApplications.findIndex(app => app.id === id)\r\n        \r\n        if (applicationIndex !== -1) {\r\n          assertValidApplicationStatusTransition(mockApplications[applicationIndex].status, status)\r\n          mockApplications[applicationIndex].status = status\r\n          mockApplications[applicationIndex].notes = notes\r\n          mockApplications[applicationIndex].reviewedAt = new Date().toISOString()\r\n          mockApplications[applicationIndex].updatedAt = new Date().toISOString()\r\n          \r\n          updatedApplications.push(mockApplications[applicationIndex])\r\n        }\r\n      }\r\n      \r\n      return {\r\n        success: true,\r\n        data: updatedApplications,\r\n        message: `${updatedApplications.length} applications ${status} successfully`\r\n      }\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        error: 'Failed to update applications'\r\n      }\r\n    }\r\n  }\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\applications\\applicationsStore.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\applications\\hooks\\useApplications.ts","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useCallback has an unnecessary dependency: 'user.id'. Either exclude it or remove the dependency array.","line":173,"column":6,"nodeType":"ArrayExpression","endLine":173,"endColumn":89,"suggestions":[{"desc":"Update the dependencies array to be: [isSubmitting, user, addApplication, setSubmitting, clearError, setError]","fix":{"range":[4903,4986],"text":"[isSubmitting, user, addApplication, setSubmitting, clearError, setError]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useCallback has a missing dependency: 'getApplicationById'. Either include it or remove the dependency array.","line":204,"column":6,"nodeType":"ArrayExpression","endLine":204,"endColumn":76,"suggestions":[{"desc":"Update the dependencies array to be: [isSubmitting, getApplicationById, setSubmitting, clearError, setError, updateApplication]","fix":{"range":[5873,5943],"text":"[isSubmitting, getApplicationById, setSubmitting, clearError, setError, updateApplication]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useCallback has a missing dependency: 'getApplicationById'. Either include it or remove the dependency array.","line":235,"column":6,"nodeType":"ArrayExpression","endLine":235,"endColumn":72,"suggestions":[{"desc":"Update the dependencies array to be: [isUpdating, getApplicationById, setUpdating, clearError, setError, updateApplication]","fix":{"range":[6899,6965],"text":"[isUpdating, getApplicationById, setUpdating, clearError, setError, updateApplication]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useCallback has a missing dependency: 'getApplicationById'. Either include it or remove the dependency array.","line":266,"column":6,"nodeType":"ArrayExpression","endLine":266,"endColumn":72,"suggestions":[{"desc":"Update the dependencies array to be: [isUpdating, getApplicationById, setUpdating, clearError, setError, updateApplication]","fix":{"range":[7856,7922],"text":"[isUpdating, getApplicationById, setUpdating, clearError, setError, updateApplication]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useCallback has an unnecessary dependency: 'filters'. Either exclude it or remove the dependency array.","line":377,"column":6,"nodeType":"ArrayExpression","endLine":377,"endColumn":79,"suggestions":[{"desc":"Update the dependencies array to be: [setFilters, loadApplications, setLoading, clearError, setError]","fix":{"range":[11101,11174],"text":"[setFilters, loadApplications, setLoading, clearError, setError]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadApplications'. Either include it or remove the dependency array.","line":416,"column":6,"nodeType":"ArrayExpression","endLine":416,"endColumn":38,"suggestions":[{"desc":"Update the dependencies array to be: [applications.length, isLoading, loadApplications]","fix":{"range":[12717,12749],"text":"[applications.length, isLoading, loadApplications]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadMyApplications'. Either include it or remove the dependency array.","line":423,"column":6,"nodeType":"ArrayExpression","endLine":423,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [loadMyApplications, user?.id]","fix":{"range":[12881,12891],"text":"[loadMyApplications, user?.id]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useCallback, useEffect } from 'react'\r\nimport { useApplicationsStore } from '@/features/applications/applicationsStore'\r\nimport { applicationsApi } from '@/features/applications/applicationsApi'\r\nimport { Application, ApplicationStatus, ApplicationFilters } from '@/types'\r\nimport { useAuthStore } from '@/features/auth/authStore'\r\nimport { isValidApplicationStatusTransition } from '@/utils/applicationStatus'\r\n\r\nexport const useApplications = () => {\r\n  const {\r\n    applications,\r\n    myApplications,\r\n    application,\r\n    isLoading,\r\n    isSubmitting,\r\n    isUpdating,\r\n    isSearching,\r\n    filters,\r\n    searchQuery,\r\n    currentPage,\r\n    totalPages,\r\n    hasMore,\r\n    error,\r\n    \r\n    // Actions\r\n    setApplications,\r\n    addApplication,\r\n    updateApplication,\r\n    removeApplication,\r\n    setApplication,\r\n    setSearchQuery,\r\n    setFilters,\r\n    clearFilters,\r\n    updateApplicationStatus,\r\n    setCurrentPage,\r\n    setHasMore,\r\n    setLoading,\r\n    setSubmitting,\r\n    setUpdating,\r\n    setSearching,\r\n    setError,\r\n    clearError,\r\n    \r\n    // Utilities\r\n    getApplicationById,\r\n    getFilteredApplications,\r\n    getApplicationsByStatus,\r\n    getApplicationsByMarket,\r\n    getMyApplications,\r\n  } = useApplicationsStore()\r\n\r\n  const { user } = useAuthStore()\r\n\r\n  // Load all applications\r\n  const loadApplications = useCallback(async (newFilters?: ApplicationFilters) => {\r\n    if (isLoading) return\r\n\r\n    setLoading(true)\r\n    clearError()\r\n\r\n    try {\r\n      const response = await applicationsApi.getApplications(newFilters || filters)\r\n\r\n      if (response.success && response.data) {\r\n        setApplications(response.data.data)\r\n        setHasMore(response.data.pagination.page < response.data.pagination.totalPages)\r\n      } else {\r\n        setError(response.error || 'Failed to load applications')\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to load applications')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }, [filters, isLoading, setApplications, setHasMore, setLoading, clearError, setError])\r\n\r\n  // Load my applications\r\n  const loadMyApplications = useCallback(async () => {\r\n    if (!user?.id || isLoading) return\r\n    \r\n    setLoading(true)\r\n    clearError()\r\n    \r\n    try {\r\n      const response = await applicationsApi.getMyApplications(user.id)\r\n      \r\n      if (response.success && response.data) {\r\n        setApplications(response.data)\r\n      } else {\r\n        setError(response.error || 'Failed to load your applications')\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to load your applications')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }, [user?.id, isLoading, setApplications, setLoading, clearError, setError])\r\n\r\n  // Load applications for a specific market\r\n  const loadMarketApplications = useCallback(async (marketId: string) => {\r\n    if (isLoading) return\r\n    \r\n    setLoading(true)\r\n    clearError()\r\n    \r\n    try {\r\n      const response = await applicationsApi.getMarketApplications(marketId)\r\n      \r\n      if (response.success && response.data) {\r\n        setApplications(response.data)\r\n      } else {\r\n        setError(response.error || 'Failed to load market applications')\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to load market applications')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }, [isLoading, setApplications, setLoading, clearError, setError])\r\n\r\n  // Get single application\r\n  const getApplication = useCallback(async (id: string) => {\r\n    if (isLoading || !id) return\r\n    \r\n    setLoading(true)\r\n    clearError()\r\n    \r\n    try {\r\n      const response = await applicationsApi.getApplication(id)\r\n      \r\n      if (response.success && response.data) {\r\n        setApplication(response.data)\r\n        return response.data\r\n      } else {\r\n        setError(response.error || 'Application not found')\r\n        return null\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to load application')\r\n      return null\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }, [isLoading, setApplication, setLoading, clearError, setError])\r\n\r\n  // Create new application\r\n  const createApplication = useCallback(async (applicationData: Partial<Application>) => {\r\n    if (isSubmitting || !user?.id) return null\r\n    \r\n    setSubmitting(true)\r\n    clearError()\r\n    \r\n    try {\r\n      const response = await applicationsApi.createApplication({\r\n        ...applicationData,\r\n        vendorId: user.id,\r\n        vendor: user,\r\n        market: applicationData.market!,\r\n      })\r\n      \r\n      if (response.success && response.data) {\r\n        addApplication(response.data)\r\n        return response.data\r\n      } else {\r\n        setError(response.error || 'Failed to create application')\r\n        return null\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to create application')\r\n      return null\r\n    } finally {\r\n      setSubmitting(false)\r\n    }\r\n  }, [isSubmitting, user?.id, user, addApplication, setSubmitting, clearError, setError])\r\n\r\n  // Submit application\r\n  const submitApplication = useCallback(async (id: string) => {\r\n    if (isSubmitting) return false\r\n\r\n    const current = getApplicationById(id)\r\n    if (current && !isValidApplicationStatusTransition(current.status, 'submitted')) {\r\n      setError(`Invalid status transition: ${current.status} -> submitted`)\r\n      return false\r\n    }\r\n    \r\n    setSubmitting(true)\r\n    clearError()\r\n    \r\n    try {\r\n      const response = await applicationsApi.submitApplication(id)\r\n      \r\n      if (response.success && response.data) {\r\n        updateApplication(id, response.data)\r\n        return true\r\n      } else {\r\n        setError(response.error || 'Failed to submit application')\r\n        return false\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to submit application')\r\n      return false\r\n    } finally {\r\n      setSubmitting(false)\r\n    }\r\n  }, [isSubmitting, updateApplication, setSubmitting, clearError, setError])\r\n\r\n  // Update application status\r\n  const updateStatus = useCallback(async (id: string, status: ApplicationStatus, notes?: string) => {\r\n    if (isUpdating) return false\r\n\r\n    const current = getApplicationById(id)\r\n    if (current && !isValidApplicationStatusTransition(current.status, status)) {\r\n      setError(`Invalid status transition: ${current.status} -> ${status}`)\r\n      return false\r\n    }\r\n    \r\n    setUpdating(true)\r\n    clearError()\r\n    \r\n    try {\r\n      const response = await applicationsApi.updateApplicationStatus(id, status, notes)\r\n      \r\n      if (response.success && response.data) {\r\n        updateApplication(id, response.data)\r\n        return true\r\n      } else {\r\n        setError(response.error || 'Failed to update application status')\r\n        return false\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to update application status')\r\n      return false\r\n    } finally {\r\n      setUpdating(false)\r\n    }\r\n  }, [isUpdating, updateApplication, setUpdating, clearError, setError])\r\n\r\n  // Withdraw application\r\n  const withdrawApplication = useCallback(async (id: string) => {\r\n    if (isUpdating) return false\r\n\r\n    const current = getApplicationById(id)\r\n    if (current && !isValidApplicationStatusTransition(current.status, 'withdrawn')) {\r\n      setError(`Invalid status transition: ${current.status} -> withdrawn`)\r\n      return false\r\n    }\r\n    \r\n    setUpdating(true)\r\n    clearError()\r\n    \r\n    try {\r\n      const response = await applicationsApi.withdrawApplication(id)\r\n      \r\n      if (response.success && response.data) {\r\n        updateApplication(id, response.data)\r\n        return true\r\n      } else {\r\n        setError(response.error || 'Failed to withdraw application')\r\n        return false\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to withdraw application')\r\n      return false\r\n    } finally {\r\n      setUpdating(false)\r\n    }\r\n  }, [isUpdating, updateApplication, setUpdating, clearError, setError])\r\n\r\n  // Update application\r\n  const updateApplicationData = useCallback(async (id: string, updates: Partial<Application>) => {\r\n    if (isUpdating) return false\r\n    \r\n    setUpdating(true)\r\n    clearError()\r\n    \r\n    try {\r\n      const response = await applicationsApi.updateApplication(id, updates)\r\n      \r\n      if (response.success && response.data) {\r\n        updateApplication(id, response.data)\r\n        return true\r\n      } else {\r\n        setError(response.error || 'Failed to update application')\r\n        return false\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to update application')\r\n      return false\r\n    } finally {\r\n      setUpdating(false)\r\n    }\r\n  }, [isUpdating, updateApplication, setUpdating, clearError, setError])\r\n\r\n  // Delete application\r\n  const deleteApplication = useCallback(async (id: string) => {\r\n    if (isUpdating) return false\r\n    \r\n    setUpdating(true)\r\n    clearError()\r\n    \r\n    try {\r\n      const response = await applicationsApi.deleteApplication(id)\r\n      \r\n      if (response.success) {\r\n        removeApplication(id)\r\n        return true\r\n      } else {\r\n        setError(response.error || 'Failed to delete application')\r\n        return false\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to delete application')\r\n      return false\r\n    } finally {\r\n      setUpdating(false)\r\n    }\r\n  }, [isUpdating, removeApplication, setUpdating, clearError, setError])\r\n\r\n  // Bulk update status\r\n  const bulkUpdateStatus = useCallback(async (ids: string[], status: ApplicationStatus, notes?: string) => {\r\n    if (isUpdating) return false\r\n    \r\n    setUpdating(true)\r\n    clearError()\r\n    \r\n    try {\r\n      const response = await applicationsApi.bulkUpdateStatus(ids, status, notes)\r\n      \r\n      if (response.success && response.data) {\r\n        // Update each application in the store\r\n        response.data.forEach(app => {\r\n          updateApplication(app.id, app)\r\n        })\r\n        return true\r\n      } else {\r\n        setError(response.error || 'Failed to update applications')\r\n        return false\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to update applications')\r\n      return false\r\n    } finally {\r\n      setUpdating(false)\r\n    }\r\n  }, [isUpdating, updateApplication, setUpdating, clearError, setError])\r\n\r\n  // Search applications\r\n  const searchApplications = useCallback(async (query: string) => {\r\n    setSearching(true)\r\n    clearError()\r\n    \r\n    try {\r\n      setSearchQuery(query)\r\n      \r\n      // Apply search filter\r\n      const newFilters = { ...filters, search: query }\r\n      await loadApplications(newFilters)\r\n    } catch (err) {\r\n      setError('Failed to search applications')\r\n    } finally {\r\n      setSearching(false)\r\n    }\r\n  }, [filters, setSearchQuery, loadApplications, setSearching, clearError, setError])\r\n\r\n  // Apply filters\r\n  const applyFilters = useCallback(async (newFilters: ApplicationFilters) => {\r\n    setLoading(true)\r\n    clearError()\r\n    \r\n    try {\r\n      setFilters(newFilters)\r\n      await loadApplications(newFilters)\r\n    } catch (err) {\r\n      setError('Failed to apply filters')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }, [filters, setFilters, loadApplications, setLoading, clearError, setError])\r\n\r\n  // Clear all filters\r\n  const clearAllFilters = useCallback(async () => {\r\n    clearFilters()\r\n    await loadApplications()\r\n  }, [clearFilters, loadApplications])\r\n\r\n  // Utility functions\r\n  const getApplicationsByMarketAndStatus = useCallback((marketId: string, status?: ApplicationStatus) => {\r\n    const marketApps = getApplicationsByMarket(marketId)\r\n    return status ? marketApps.filter(app => app.status === status) : marketApps\r\n  }, [getApplicationsByMarket])\r\n\r\n  const getMyApplicationsByStatus = useCallback((status: ApplicationStatus) => {\r\n    if (!user?.id) return []\r\n    return myApplications.filter(app => app.status === status)\r\n  }, [user?.id, myApplications])\r\n\r\n  const getApplicationStatusCount = useCallback((status?: ApplicationStatus) => {\r\n    const apps = status ? applications.filter(app => app.status === status) : applications\r\n    return apps.length\r\n  }, [applications])\r\n\r\n  const hasApplicationForMarket = useCallback((marketId: string) => {\r\n    if (!user?.id) return false\r\n    return applications.some(app => app.marketId === marketId && app.vendorId === user.id)\r\n  }, [user?.id, applications])\r\n\r\n  const getApplicationForMarket = useCallback((marketId: string) => {\r\n    if (!user?.id) return null\r\n    return applications.find(app => app.marketId === marketId && app.vendorId === user.id) || null\r\n  }, [user?.id, applications])\r\n\r\n  // Auto-load applications when filters change\r\n  useEffect(() => {\r\n    if (!isLoading && applications.length === 0) {\r\n      loadApplications()\r\n    }\r\n  }, [applications.length, isLoading])\r\n\r\n  // Load my applications when user changes\r\n  useEffect(() => {\r\n    if (user?.id) {\r\n      loadMyApplications()\r\n    }\r\n  }, [user?.id])\r\n\r\n  return {\r\n    // Data\r\n    applications,\r\n    myApplications,\r\n    application,\r\n    \r\n    // Loading states\r\n    isLoading,\r\n    isSubmitting,\r\n    isUpdating,\r\n    isSearching,\r\n    \r\n    // Filters and search\r\n    filters,\r\n    searchQuery,\r\n    currentPage,\r\n    totalPages,\r\n    hasMore,\r\n    \r\n    // Error\r\n    error,\r\n    \r\n    // Actions\r\n    loadApplications,\r\n    loadMyApplications,\r\n    loadMarketApplications,\r\n    getApplication,\r\n    createApplication,\r\n    submitApplication,\r\n    updateStatus,\r\n    withdrawApplication,\r\n    updateApplication: updateApplicationData,\r\n    deleteApplication,\r\n    bulkUpdateStatus,\r\n    searchApplications,\r\n    applyFilters,\r\n    clearAllFilters,\r\n    \r\n    // Status management\r\n    updateApplicationStatus,\r\n    \r\n    // Pagination\r\n    setCurrentPage,\r\n    setHasMore,\r\n    \r\n    // Error handling\r\n    setError,\r\n    clearError,\r\n    \r\n    // Utilities\r\n    getApplicationById,\r\n    getFilteredApplications,\r\n    getApplicationsByStatus,\r\n    getApplicationsByMarket,\r\n    getMyApplications,\r\n    getApplicationsByMarketAndStatus,\r\n    getMyApplicationsByStatus,\r\n    getApplicationStatusCount,\r\n    hasApplicationForMarket,\r\n    getApplicationForMarket,\r\n  }\r\n}\r\n\r\n// Hook for vendor-specific application operations\r\nexport const useVendorApplications = () => {\r\n  const apps = useApplications()\r\n\r\n  const myApplications = apps.myApplications\r\n  const isLoading = apps.isLoading\r\n  const isSubmitting = apps.isSubmitting\r\n  const error = apps.error\r\n\r\n  const submitApplication = apps.submitApplication\r\n  const withdrawApplication = apps.withdrawApplication\r\n  const updateApplication = apps.updateApplication\r\n  const createApplication = apps.createApplication\r\n  const getApplication = apps.getApplication\r\n  const loadMyApplications = apps.loadMyApplications\r\n\r\n  const hasApplicationForMarket = apps.hasApplicationForMarket\r\n  const getApplicationForMarket = apps.getApplicationForMarket\r\n  const getMyApplicationsByStatus = apps.getMyApplicationsByStatus\r\n  \r\n  // Get applications by status for current user\r\n  const getMyDraftApplications = useCallback(() => {\r\n    return getMyApplicationsByStatus('draft')\r\n  }, [getMyApplicationsByStatus])\r\n  \r\n  const getMySubmittedApplications = useCallback(() => {\r\n    return getMyApplicationsByStatus('submitted')\r\n  }, [getMyApplicationsByStatus])\r\n  \r\n  const getMyApprovedApplications = useCallback(() => {\r\n    return getMyApplicationsByStatus('approved')\r\n  }, [getMyApplicationsByStatus])\r\n  \r\n  const getMyRejectedApplications = useCallback(() => {\r\n    return getMyApplicationsByStatus('rejected')\r\n  }, [getMyApplicationsByStatus])\r\n  \r\n  const getMyWithdrawnApplications = useCallback(() => {\r\n    return getMyApplicationsByStatus('withdrawn')\r\n  }, [getMyApplicationsByStatus])\r\n  \r\n  // Check if user can apply to a market\r\n  const canApplyToMarket = useCallback((marketId: string) => {\r\n    const existingApp = getApplicationForMarket(marketId)\r\n    return !existingApp || existingApp.status === 'withdrawn' || existingApp.status === 'rejected'\r\n  }, [getApplicationForMarket])\r\n  \r\n  // Get application statistics\r\n  const getApplicationStats = useCallback(() => {\r\n    return {\r\n      total: myApplications.length,\r\n      draft: getMyApplicationsByStatus('draft').length,\r\n      submitted: getMyApplicationsByStatus('submitted').length,\r\n      underReview: getMyApplicationsByStatus('under-review').length,\r\n      approved: getMyApplicationsByStatus('approved').length,\r\n      rejected: getMyApplicationsByStatus('rejected').length,\r\n      withdrawn: getMyApplicationsByStatus('withdrawn').length,\r\n    }\r\n  }, [myApplications, getMyApplicationsByStatus])\r\n  \r\n  return {\r\n    // Data\r\n    myApplications,\r\n    \r\n    // Loading states\r\n    isLoading,\r\n    isSubmitting,\r\n    \r\n    // Error\r\n    error,\r\n    \r\n    // Actions\r\n    submitApplication,\r\n    withdrawApplication,\r\n    updateApplication,\r\n    createApplication,\r\n    getApplication,\r\n    loadMyApplications,\r\n    \r\n    // Market application checks\r\n    hasApplicationForMarket,\r\n    getApplicationForMarket,\r\n    canApplyToMarket,\r\n    \r\n    // Filtered applications\r\n    getMyDraftApplications,\r\n    getMySubmittedApplications,\r\n    getMyApprovedApplications,\r\n    getMyRejectedApplications,\r\n    getMyWithdrawnApplications,\r\n    \r\n    // Statistics\r\n    getApplicationStats,\r\n  }\r\n}\r\n\r\n// Hook for promoter-specific application operations\r\nexport const usePromoterApplications = () => {\r\n  const apps = useApplications()\r\n  \r\n  const applicationsForReview = apps.applications\r\n  const isLoading = apps.isLoading\r\n  const isUpdating = apps.isUpdating\r\n  const error = apps.error\r\n  \r\n  const updateStatus = apps.updateStatus\r\n  const bulkUpdateStatus = apps.bulkUpdateStatus\r\n  const getApplication = apps.getApplication\r\n  const loadMarketApplications = apps.loadMarketApplications\r\n  \r\n  const getApplicationsByMarket = apps.getApplicationsByMarket\r\n  const getApplicationsByStatus = apps.getApplicationsByStatus\r\n  const getApplicationStatusCount = apps.getApplicationStatusCount\r\n  \r\n  // Get applications that need review\r\n  const getPendingApplications = useCallback(() => {\r\n    return applicationsForReview.filter(app => \r\n      app.status === 'submitted' || app.status === 'under-review'\r\n    )\r\n  }, [applicationsForReview])\r\n  \r\n  // Get recent applications\r\n  const getRecentApplications = useCallback((days: number = 7) => {\r\n    const cutoffDate = new Date()\r\n    cutoffDate.setDate(cutoffDate.getDate() - days)\r\n    \r\n    return applicationsForReview.filter(app => \r\n      new Date(app.createdAt) >= cutoffDate\r\n    )\r\n  }, [applicationsForReview])\r\n  \r\n  // Get application statistics for promoter dashboard\r\n  const getPromoterStats = useCallback(() => {\r\n    return {\r\n      total: applicationsForReview.length,\r\n      pending: getApplicationStatusCount('submitted') + getApplicationStatusCount('under-review'),\r\n      approved: getApplicationStatusCount('approved'),\r\n      rejected: getApplicationStatusCount('rejected'),\r\n      thisWeek: getRecentApplications(7).length,\r\n      thisMonth: getRecentApplications(30).length,\r\n    }\r\n  }, [applicationsForReview, getApplicationStatusCount, getRecentApplications])\r\n  \r\n  // Bulk approve applications\r\n  const bulkApprove = useCallback(async (ids: string[], notes?: string) => {\r\n    return bulkUpdateStatus(ids, 'approved', notes)\r\n  }, [bulkUpdateStatus])\r\n  \r\n  // Bulk reject applications\r\n  const bulkReject = useCallback(async (ids: string[], notes?: string) => {\r\n    return bulkUpdateStatus(ids, 'rejected', notes)\r\n  }, [bulkUpdateStatus])\r\n  \r\n  // Mark applications as under review\r\n  const markUnderReview = useCallback(async (ids: string[], notes?: string) => {\r\n    return bulkUpdateStatus(ids, 'under-review', notes)\r\n  }, [bulkUpdateStatus])\r\n  \r\n  return {\r\n    // Data\r\n    applicationsForReview,\r\n    \r\n    // Loading states\r\n    isLoading,\r\n    isUpdating,\r\n    \r\n    // Error\r\n    error,\r\n    \r\n    // Actions\r\n    updateStatus,\r\n    bulkUpdateStatus,\r\n    getApplication,\r\n    loadMarketApplications,\r\n    \r\n    // Bulk actions\r\n    bulkApprove,\r\n    bulkReject,\r\n    markUnderReview,\r\n    \r\n    // Filtered data\r\n    getPendingApplications,\r\n    getRecentApplications,\r\n    \r\n    // Statistics\r\n    getPromoterStats,\r\n    \r\n    // Utilities\r\n    getApplicationsByMarket,\r\n    getApplicationsByStatus,\r\n    getApplicationStatusCount,\r\n  }\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\auth\\authApi.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":16,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[624,627],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[624,627],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":128,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":128,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3433,3436],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3433,3436],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":136,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":136,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3675,3678],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3675,3678],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiResponse, User, LoginCredentials, RegisterData, AuthTokens } from '@/types'\r\n\r\n// Environment configuration\r\nconst isDevelopment = typeof process !== 'undefined' ? process.env.NODE_ENV === 'development' : true\r\nconst isMockMode = typeof process !== 'undefined' ? process.env.VITE_USE_MOCK_AUTH === 'true' : true\r\n\r\n// API Configuration\r\nconst API_BASE_URL = import.meta.env.VITE_API_URL || 'http://localhost:3001/api/v1'\r\n\r\n// API Error handling\r\nclass AuthApiError extends Error {\r\n  constructor(\r\n    message: string,\r\n    public code: string,\r\n    public status?: number,\r\n    public details?: Record<string, any>\r\n  ) {\r\n    super(message)\r\n    this.name = 'AuthApiError'\r\n  }\r\n}\r\n\r\n// Mock data for development (passwords stored separately for security)\r\nconst mockUsers: User[] = [\r\n  {\r\n    id: '1',\r\n    email: 'vendor@example.com',\r\n    firstName: 'John',\r\n    lastName: 'Vendor',\r\n    role: 'vendor',\r\n    createdAt: new Date().toISOString(),\r\n    updatedAt: new Date().toISOString(),\r\n    isEmailVerified: true,\r\n    isActive: true,\r\n  },\r\n  {\r\n    id: '2',\r\n    email: 'promoter@example.com',\r\n    firstName: 'Jane',\r\n    lastName: 'Promoter',\r\n    role: 'promoter',\r\n    createdAt: new Date().toISOString(),\r\n    updatedAt: new Date().toISOString(),\r\n    isEmailVerified: true,\r\n    isActive: true,\r\n  },\r\n  {\r\n    id: '3',\r\n    email: 'admin@example.com',\r\n    firstName: 'Admin',\r\n    lastName: 'User',\r\n    role: 'admin',\r\n    createdAt: new Date().toISOString(),\r\n    updatedAt: new Date().toISOString(),\r\n    isEmailVerified: true,\r\n    isActive: true,\r\n  },\r\n]\r\n\r\n// Mock password storage (development only - use 'password123' for all test accounts)\r\nconst mockPasswords: Record<string, string> = {\r\n  '1': 'password123',\r\n  '2': 'password123',\r\n  '3': 'password123',\r\n}\r\n\r\n// HTTP client with interceptors\r\nclass HttpClient {\r\n  private baseURL: string\r\n\r\n  constructor(baseURL: string) {\r\n    this.baseURL = baseURL\r\n  }\r\n\r\n  private async request<T>(\r\n    endpoint: string,\r\n    options: RequestInit = {}\r\n  ): Promise<T> {\r\n    const url = `${this.baseURL}${endpoint}`\r\n    \r\n    // Add auth token if available\r\n    const token = localStorage.getItem('auth-storage') \r\n      ? JSON.parse(localStorage.getItem('auth-storage') || '{}').state?.token \r\n      : null\r\n\r\n    const config: RequestInit = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...(token && { Authorization: `Bearer ${token}` }),\r\n        ...options.headers,\r\n      },\r\n      ...options,\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(url, config)\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}))\r\n        throw new AuthApiError(\r\n          errorData.message || 'Request failed',\r\n          errorData.code || 'REQUEST_FAILED',\r\n          response.status,\r\n          errorData.details\r\n        )\r\n      }\r\n\r\n      return await response.json()\r\n    } catch (error) {\r\n      if (error instanceof AuthApiError) {\r\n        throw error\r\n      }\r\n      \r\n      // Network or other errors\r\n      throw new AuthApiError(\r\n        'Network error occurred',\r\n        'NETWORK_ERROR',\r\n        undefined,\r\n        { originalError: error instanceof Error ? error.message : 'Unknown error' }\r\n      )\r\n    }\r\n  }\r\n\r\n  get<T>(endpoint: string): Promise<T> {\r\n    return this.request<T>(endpoint, { method: 'GET' })\r\n  }\r\n\r\n  post<T>(endpoint: string, data?: any): Promise<T> {\r\n    return this.request<T>(endpoint, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: data ? JSON.stringify(data) : undefined,\r\n    })\r\n  }\r\n\r\n  put<T>(endpoint: string, data?: any): Promise<T> {\r\n    return this.request<T>(endpoint, {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: data ? JSON.stringify(data) : undefined,\r\n    })\r\n  }\r\n\r\n  delete<T>(endpoint: string): Promise<T> {\r\n    return this.request<T>(endpoint, { method: 'DELETE' })\r\n  }\r\n}\r\n\r\nconst httpClient = new HttpClient(API_BASE_URL)\r\n\r\ntype AuthApi = {\r\n  login: (credentials: LoginCredentials) => Promise<{ user: User; tokens: AuthTokens }>\r\n  register: (data: RegisterData) => Promise<{ user: User; tokens: AuthTokens }>\r\n  refreshToken: (refreshToken: string) => Promise<{ user: User; tokens: AuthTokens }>\r\n  forgotPassword: (email: string) => Promise<{ message: string }>\r\n  resetPassword: (token: string, newPassword: string) => Promise<{ message: string; user?: User; tokens?: AuthTokens }>\r\n  verifyEmail: (token: string) => Promise<{ message: string }>\r\n  resendVerification: (email: string) => Promise<{ message: string }>\r\n  logout: () => Promise<void>\r\n  getCurrentUser: () => Promise<User>\r\n}\r\n\r\n// Mock API functions for development\r\nconst mockApi: AuthApi = {\r\n  login: async (credentials: LoginCredentials): Promise<{ user: User; tokens: AuthTokens }> => {\r\n    // Simulate network delay\r\n    await new Promise(resolve => setTimeout(resolve, 1000))\r\n\r\n    const user = mockUsers.find(u => u.email === credentials.email)\r\n\r\n    if (!user) {\r\n      throw new AuthApiError('Invalid email or password', 'INVALID_CREDENTIALS', 401)\r\n    }\r\n\r\n    // Verify password (all test accounts use 'password123')\r\n    const storedPassword = mockPasswords[user.id]\r\n    if (!storedPassword || storedPassword !== credentials.password) {\r\n      throw new AuthApiError('Invalid email or password', 'INVALID_CREDENTIALS', 401)\r\n    }\r\n\r\n    const tokens = {\r\n      accessToken: `mock-jwt-token-${user.id}-${Date.now()}`,\r\n      refreshToken: `mock-refresh-token-${user.id}-${Date.now()}`,\r\n      expiresIn: '24h'\r\n    }\r\n\r\n    // Store token in localStorage\r\n    localStorage.setItem('auth-token', tokens.accessToken)\r\n\r\n    return { user, tokens }\r\n  },\r\n\r\n  register: async (data: RegisterData): Promise<{ user: User; tokens: AuthTokens }> => {\r\n    // Simulate network delay\r\n    await new Promise(resolve => setTimeout(resolve, 1000))\r\n\r\n    // Check if user already exists\r\n    const existingUser = mockUsers.find(u => u.email === data.email)\r\n    if (existingUser) {\r\n      throw new AuthApiError('User with this email already exists', 'USER_EXISTS', 409)\r\n    }\r\n\r\n    const newUser: User = {\r\n      id: Math.random().toString(36).substr(2, 9),\r\n      email: data.email,\r\n      firstName: data.firstName,\r\n      lastName: data.lastName,\r\n      role: data.role,\r\n      createdAt: new Date().toISOString(),\r\n      updatedAt: new Date().toISOString(),\r\n      isEmailVerified: false,\r\n      isActive: true,\r\n    }\r\n\r\n    const tokens = {\r\n      accessToken: `mock-jwt-token-${newUser.id}-${Date.now()}`,\r\n      refreshToken: `mock-refresh-token-${newUser.id}-${Date.now()}`,\r\n      expiresIn: '24h'\r\n    }\r\n\r\n    // Add to mock users and store password\r\n    mockUsers.push(newUser)\r\n    mockPasswords[newUser.id] = data.password\r\n\r\n    // Store token in localStorage\r\n    localStorage.setItem('auth-token', tokens.accessToken)\r\n\r\n    return { user: newUser, tokens }\r\n  },\r\n\r\n  refreshToken: async (refreshToken: string): Promise<{ user: User; tokens: AuthTokens }> => {\r\n    await new Promise(resolve => setTimeout(resolve, 500))\r\n\r\n    // Mock token validation\r\n    if (!refreshToken || !refreshToken.startsWith('mock-refresh-token-')) {\r\n      throw new AuthApiError('Invalid token', 'INVALID_TOKEN', 401)\r\n    }\r\n\r\n    // Extract user ID from token\r\n    const tokenParts = refreshToken.split('-')\r\n    const userId = tokenParts[tokenParts.length - 2]\r\n\r\n    const user = mockUsers.find(u => u.id === userId)\r\n    if (!user) {\r\n      throw new AuthApiError('User not found', 'USER_NOT_FOUND', 404)\r\n    }\r\n\r\n    const tokens = {\r\n      accessToken: `mock-jwt-token-${user.id}-${Date.now()}`,\r\n      refreshToken: `mock-refresh-token-${user.id}-${Date.now()}`,\r\n      expiresIn: '24h'\r\n    }\r\n\r\n    localStorage.setItem('auth-token', tokens.accessToken)\r\n\r\n    return { user, tokens }\r\n  },\r\n\r\n  forgotPassword: async (email: string): Promise<{ message: string }> => {\r\n    await new Promise(resolve => setTimeout(resolve, 1000))\r\n    \r\n    const user = mockUsers.find(u => u.email === email)\r\n    if (!user) {\r\n      // Don't reveal if email exists for security\r\n      return { message: 'If the email exists, a reset link has been sent.' }\r\n    }\r\n    \r\n    return { message: 'Password reset link sent to your email.' }\r\n  },\r\n\r\n  resetPassword: async (_token: string, _newPassword: string): Promise<{ message: string; user?: User; tokens?: AuthTokens }> => {\r\n    await new Promise(resolve => setTimeout(resolve, 1000))\r\n    \r\n    // Mock password reset\r\n    return { message: 'Password has been reset successfully.' }\r\n  },\r\n\r\n  verifyEmail: async (_token: string): Promise<{ message: string }> => {\r\n    await new Promise(resolve => setTimeout(resolve, 1000))\r\n    \r\n    return { message: 'Email verified successfully.' }\r\n  },\r\n\r\n  resendVerification: async (_email: string): Promise<{ message: string }> => {\r\n    await new Promise(resolve => setTimeout(resolve, 1000))\r\n    \r\n    return { message: 'Verification email sent.' }\r\n  },\r\n\r\n  logout: async (): Promise<void> => {\r\n    await new Promise(resolve => setTimeout(resolve, 500))\r\n    localStorage.removeItem('auth-token')\r\n  },\r\n\r\n  getCurrentUser: async (): Promise<User> => {\r\n    await new Promise(resolve => setTimeout(resolve, 500))\r\n\r\n    const token = localStorage.getItem('auth-token')\r\n    if (!token || !token.startsWith('mock-jwt-token-')) {\r\n      throw new AuthApiError('No valid token', 'NO_TOKEN', 401)\r\n    }\r\n\r\n    const tokenParts = token.split('-')\r\n    const userId = tokenParts[tokenParts.length - 2]\r\n\r\n    const user = mockUsers.find(u => u.id === userId)\r\n    if (!user) {\r\n      throw new AuthApiError('User not found', 'USER_NOT_FOUND', 404)\r\n    }\r\n\r\n    return user\r\n  },\r\n}\r\n\r\n// Real API functions for production\r\nconst realApi: AuthApi = {\r\n  login: async (credentials: LoginCredentials): Promise<{ user: User; tokens: AuthTokens }> => {\r\n    const response = await httpClient.post<ApiResponse<{ user: User; tokens: AuthTokens }>>('/auth/login', credentials)\r\n    \r\n    if (!response.success || !response.data) {\r\n      throw new AuthApiError(\r\n        response.error || 'Login failed',\r\n        'LOGIN_FAILED'\r\n      )\r\n    }\r\n    \r\n    return response.data\r\n  },\r\n\r\n  register: async (data: RegisterData): Promise<{ user: User; tokens: AuthTokens }> => {\r\n    const response = await httpClient.post<ApiResponse<{ user: User; tokens: AuthTokens }>>('/auth/register', data)\r\n    \r\n    if (!response.success || !response.data) {\r\n      throw new AuthApiError(\r\n        response.error || 'Registration failed',\r\n        'REGISTRATION_FAILED'\r\n      )\r\n    }\r\n    \r\n    return response.data\r\n  },\r\n\r\n  refreshToken: async (refreshToken: string): Promise<{ user: User; tokens: AuthTokens }> => {\r\n    const response = await httpClient.post<ApiResponse<{ tokens: AuthTokens }>>('/auth/refresh-token', { refreshToken })\r\n    \r\n    if (!response.success || !response.data) {\r\n      throw new AuthApiError(\r\n        response.error || 'Token refresh failed',\r\n        'REFRESH_FAILED'\r\n      )\r\n    }\r\n\r\n    const currentUser = await httpClient.get<ApiResponse<User>>('/auth/me')\r\n    if (!currentUser.success || !currentUser.data) {\r\n      throw new AuthApiError(\r\n        currentUser.error || 'Failed to get current user',\r\n        'GET_CURRENT_USER_FAILED'\r\n      )\r\n    }\r\n\r\n    return { user: currentUser.data, tokens: response.data.tokens }\r\n  },\r\n\r\n  forgotPassword: async (email: string): Promise<{ message: string }> => {\r\n    const response = await httpClient.post<ApiResponse<{ message: string }>>('/auth/forgot-password', { email })\r\n    \r\n    if (!response.success) {\r\n      throw new AuthApiError(\r\n        response.error || 'Password reset request failed',\r\n        'FORGOT_PASSWORD_FAILED'\r\n      )\r\n    }\r\n    \r\n    return response.data || { message: response.message || 'Password reset email sent.' }\r\n  },\r\n\r\n  resetPassword: async (token: string, newPassword: string): Promise<{ message: string; user?: User; tokens?: AuthTokens }> => {\r\n    const response = await httpClient.post<ApiResponse<{ user?: User; tokens?: AuthTokens; message?: string }>>('/auth/reset-password', { token, password: newPassword })\r\n    \r\n    if (!response.success) {\r\n      throw new AuthApiError(\r\n        response.error || 'Password reset failed',\r\n        'RESET_PASSWORD_FAILED'\r\n      )\r\n    }\r\n    \r\n    return {\r\n      message: response.data?.message || response.message || 'Password reset successfully.',\r\n      user: response.data?.user,\r\n      tokens: response.data?.tokens\r\n    }\r\n  },\r\n\r\n  verifyEmail: async (token: string): Promise<{ message: string }> => {\r\n    const response = await httpClient.post<ApiResponse<{ message: string }>>('/auth/verify-email', { token })\r\n    \r\n    if (!response.success) {\r\n      throw new AuthApiError(\r\n        response.error || 'Email verification failed',\r\n        'EMAIL_VERIFICATION_FAILED'\r\n      )\r\n    }\r\n    \r\n    return response.data || { message: response.message || 'Email verified successfully.' }\r\n  },\r\n\r\n  resendVerification: async (email: string): Promise<{ message: string }> => {\r\n    const response = await httpClient.post<ApiResponse<{ message: string }>>('/auth/resend-verification', { email })\r\n    \r\n    if (!response.success) {\r\n      throw new AuthApiError(\r\n        response.error || 'Failed to resend verification email',\r\n        'RESEND_VERIFICATION_FAILED'\r\n      )\r\n    }\r\n    \r\n    return response.data || { message: response.message || 'Verification email sent.' }\r\n  },\r\n\r\n  logout: async (): Promise<void> => {\r\n    try {\r\n      const refreshToken = localStorage.getItem('auth-storage')\r\n        ? JSON.parse(localStorage.getItem('auth-storage') || '{}').state?.refreshToken\r\n        : null\r\n      await httpClient.post('/auth/logout', refreshToken ? { refreshToken } : undefined)\r\n    } catch (error) {\r\n      // Even if the server request fails, we should clear local storage\r\n      console.warn('Logout API call failed, clearing local storage anyway')\r\n    } finally {\r\n      localStorage.removeItem('auth-token')\r\n    }\r\n  },\r\n\r\n  getCurrentUser: async (): Promise<User> => {\r\n    const response = await httpClient.get<ApiResponse<User>>('/auth/me')\r\n    \r\n    if (!response.success || !response.data) {\r\n      throw new AuthApiError(\r\n        response.error || 'Failed to get current user',\r\n        'GET_CURRENT_USER_FAILED'\r\n      )\r\n    }\r\n    \r\n    return response.data\r\n  },\r\n}\r\n\r\n// Export the appropriate API based on environment\r\nexport const authApi = isDevelopment && isMockMode ? mockApi : realApi\r\n\r\n// Export types and error class for use in other files\r\nexport type { AuthApiError }\r\nexport { API_BASE_URL }\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\auth\\authStore.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\auth\\hooks\\useAuth.ts","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useCallback has a missing dependency: 'stopTokenRefresh'. Either include it or remove the dependency array.","line":152,"column":6,"nodeType":"ArrayExpression","endLine":152,"endColumn":45,"suggestions":[{"desc":"Update the dependencies array to be: [token, isAuthenticated, refreshTokens, stopTokenRefresh]","fix":{"range":[3799,3838],"text":"[token, isAuthenticated, refreshTokens, stopTokenRefresh]"}}]},{"ruleId":"no-useless-catch","severity":2,"message":"Unnecessary try/catch wrapper.","line":175,"column":5,"nodeType":"TryStatement","messageId":"unnecessaryCatch","endLine":180,"endColumn":6},{"ruleId":"no-useless-catch","severity":2,"message":"Unnecessary try/catch wrapper.","line":187,"column":5,"nodeType":"TryStatement","messageId":"unnecessaryCatch","endLine":192,"endColumn":6},{"ruleId":"no-useless-catch","severity":2,"message":"Unnecessary try/catch wrapper.","line":211,"column":5,"nodeType":"TryStatement","messageId":"unnecessaryCatch","endLine":216,"endColumn":6},{"ruleId":"no-useless-catch","severity":2,"message":"Unnecessary try/catch wrapper.","line":223,"column":5,"nodeType":"TryStatement","messageId":"unnecessaryCatch","endLine":228,"endColumn":6},{"ruleId":"no-useless-catch","severity":2,"message":"Unnecessary try/catch wrapper.","line":235,"column":5,"nodeType":"TryStatement","messageId":"unnecessaryCatch","endLine":240,"endColumn":6},{"ruleId":"no-useless-catch","severity":2,"message":"Unnecessary try/catch wrapper.","line":247,"column":5,"nodeType":"TryStatement","messageId":"unnecessaryCatch","endLine":252,"endColumn":6}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useRef, useCallback } from 'react'\r\nimport { useAuthStore } from '../authStore'\r\nimport { LoginCredentials, RegisterData, PasswordResetRequest, PasswordResetConfirm, EmailVerificationRequest, ResendVerificationRequest } from '@/types'\r\n\r\n/**\r\n * Main authentication hook that provides access to all authentication methods\r\n * and state management through the auth store.\r\n */\r\nexport function useAuth() {\r\n  const {\r\n    // State\r\n    user,\r\n    token,\r\n    isAuthenticated,\r\n    isLoading,\r\n    error,\r\n    isEmailVerified,\r\n    isPasswordResetLoading,\r\n    passwordResetSuccess,\r\n    passwordResetError,\r\n    isEmailVerificationLoading,\r\n    emailVerificationSuccess,\r\n    emailVerificationError,\r\n    isTokenRefreshing,\r\n    tokenRefreshError,\r\n    \r\n    // Core auth methods\r\n    login,\r\n    register,\r\n    logout,\r\n    \r\n    // Password reset methods\r\n    forgotPassword,\r\n    resetPassword,\r\n    \r\n    // Email verification methods\r\n    verifyEmail,\r\n    resendVerification,\r\n    \r\n    // Token management\r\n    refreshTokens,\r\n    \r\n    // Utility methods\r\n    updateUser,\r\n    clearError,\r\n    setLoading,\r\n    clearPasswordResetError,\r\n    clearEmailVerificationError,\r\n    clearPasswordResetSuccess,\r\n    clearEmailVerificationSuccess,\r\n    needsEmailVerification,\r\n  } = useAuthStore()\r\n\r\n  /**\r\n   * Check if the current user has a specific role\r\n   */\r\n  const hasRole = (role: string): boolean => {\r\n    return user?.role === role\r\n  }\r\n\r\n  /**\r\n   * Check if the current user has any of the specified roles\r\n   */\r\n  const hasAnyRole = (roles: string[]): boolean => {\r\n    return roles.includes(user?.role || '')\r\n  }\r\n\r\n  /**\r\n   * Check if the current user is an admin\r\n   */\r\n  const isAdmin = (): boolean => {\r\n    return hasRole('admin')\r\n  }\r\n\r\n  /**\r\n   * Check if the current user is a promoter\r\n   */\r\n  const isPromoter = (): boolean => {\r\n    return hasRole('promoter')\r\n  }\r\n\r\n  /**\r\n   * Check if the current user is a vendor\r\n   */\r\n  const isVendor = (): boolean => {\r\n    return hasRole('vendor')\r\n  }\r\n\r\n  /**\r\n   * Check if the current user is a visitor\r\n   */\r\n  const isVisitor = (): boolean => {\r\n    return hasRole('visitor')\r\n  }\r\n\r\n  /**\r\n   * Get the user's full name\r\n   */\r\n  const getFullName = (): string => {\r\n    if (!user) return ''\r\n    return `${user.firstName} ${user.lastName}`.trim()\r\n  }\r\n\r\n  /**\r\n   * Check if the user account is active\r\n   */\r\n  const isAccountActive = (): boolean => {\r\n    return user?.isActive ?? false\r\n  }\r\n\r\n  /**\r\n   * Check if the user can access the application (active and email verified if required)\r\n   */\r\n  const canAccessApplication = (): boolean => {\r\n    if (!user || !isAuthenticated) return false\r\n    if (!isAccountActive()) return false\r\n    \r\n    // If email verification is required, check if email is verified\r\n    return !needsEmailVerification()\r\n  }\r\n\r\n  // Track token refresh interval for cleanup\r\n  const refreshIntervalRef = useRef<ReturnType<typeof setInterval> | null>(null)\r\n\r\n  /**\r\n   * Auto-refresh token before it expires\r\n   */\r\n  const startTokenRefresh = useCallback(() => {\r\n    if (!token || !isAuthenticated) return\r\n\r\n    // Refresh token 5 minutes before expiry (assuming 1 hour expiry)\r\n    const refreshInterval = 55 * 60 * 1000 // 55 minutes\r\n\r\n    // Clear any existing interval before setting up a new one\r\n    if (refreshIntervalRef.current) {\r\n      clearInterval(refreshIntervalRef.current)\r\n    }\r\n\r\n    const intervalId = setInterval(async () => {\r\n      try {\r\n        await refreshTokens()\r\n      } catch (error) {\r\n        console.error('Token refresh failed:', error)\r\n        stopTokenRefresh()\r\n      }\r\n    }, refreshInterval)\r\n\r\n    refreshIntervalRef.current = intervalId\r\n\r\n    // Cleanup function\r\n    return () => stopTokenRefresh()\r\n  }, [token, isAuthenticated, refreshTokens])\r\n\r\n  /**\r\n   * Stop token refresh interval\r\n   */\r\n  const stopTokenRefresh = useCallback(() => {\r\n    if (refreshIntervalRef.current) {\r\n      clearInterval(refreshIntervalRef.current)\r\n      refreshIntervalRef.current = null\r\n    }\r\n  }, [])\r\n\r\n  // Cleanup on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      stopTokenRefresh()\r\n    }\r\n  }, [stopTokenRefresh])\r\n\r\n  /**\r\n   * Handle login with loading state management\r\n   */\r\n  const handleLogin = async (credentials: LoginCredentials) => {\r\n    try {\r\n      await login(credentials)\r\n    } catch (error) {\r\n      // Error is already handled by the store\r\n      throw error\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle registration with loading state management\r\n   */\r\n  const handleRegister = async (data: RegisterData) => {\r\n    try {\r\n      await register(data)\r\n    } catch (error) {\r\n      // Error is already handled by the store\r\n      throw error\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle logout with cleanup\r\n   */\r\n  const handleLogout = async () => {\r\n    try {\r\n      await logout()\r\n    } catch (error) {\r\n      // Even if logout fails, we should clear the local state\r\n      console.error('Logout failed:', error)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle password reset request\r\n   */\r\n  const handleForgotPassword = async (request: PasswordResetRequest) => {\r\n    try {\r\n      await forgotPassword(request)\r\n    } catch (error) {\r\n      // Error is already handled by the store\r\n      throw error\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle password reset confirmation\r\n   */\r\n  const handleResetPassword = async (request: PasswordResetConfirm) => {\r\n    try {\r\n      await resetPassword(request)\r\n    } catch (error) {\r\n      // Error is already handled by the store\r\n      throw error\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle email verification\r\n   */\r\n  const handleVerifyEmail = async (request: EmailVerificationRequest) => {\r\n    try {\r\n      await verifyEmail(request)\r\n    } catch (error) {\r\n      // Error is already handled by the store\r\n      throw error\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle resend verification email\r\n   */\r\n  const handleResendVerification = async (request: ResendVerificationRequest) => {\r\n    try {\r\n      await resendVerification(request)\r\n    } catch (error) {\r\n      // Error is already handled by the store\r\n      throw error\r\n    }\r\n  }\r\n\r\n  return {\r\n    // State\r\n    user,\r\n    token,\r\n    isAuthenticated,\r\n    isLoading,\r\n    error,\r\n    isEmailVerified,\r\n    isPasswordResetLoading,\r\n    passwordResetSuccess,\r\n    passwordResetError,\r\n    isEmailVerificationLoading,\r\n    emailVerificationSuccess,\r\n    emailVerificationError,\r\n    isTokenRefreshing,\r\n    tokenRefreshError,\r\n\r\n    // Core auth methods\r\n    login: handleLogin,\r\n    register: handleRegister,\r\n    logout: handleLogout,\r\n\r\n    // Password reset methods\r\n    forgotPassword: handleForgotPassword,\r\n    resetPassword: handleResetPassword,\r\n\r\n    // Email verification methods\r\n    verifyEmail: handleVerifyEmail,\r\n    resendVerification: handleResendVerification,\r\n\r\n    // Token management\r\n    refreshTokens,\r\n    startTokenRefresh,\r\n    stopTokenRefresh,\r\n\r\n    // Utility methods\r\n    updateUser,\r\n    clearError,\r\n    setLoading,\r\n    clearPasswordResetError,\r\n    clearEmailVerificationError,\r\n    clearPasswordResetSuccess,\r\n    clearEmailVerificationSuccess,\r\n    needsEmailVerification,\r\n\r\n    // Helper functions\r\n    hasRole,\r\n    hasAnyRole,\r\n    isAdmin,\r\n    isPromoter,\r\n    isVendor,\r\n    isVisitor,\r\n    getFullName,\r\n    isAccountActive,\r\n    canAccessApplication,\r\n  }\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\auth\\hooks\\useEmailVerification.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\auth\\hooks\\usePasswordReset.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\community\\communityApi.ts","messages":[{"ruleId":"no-useless-catch","severity":2,"message":"Unnecessary try/catch wrapper.","line":34,"column":5,"nodeType":"TryStatement","messageId":"unnecessaryCatch","endLine":47,"endColumn":6},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":54,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":54,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1417,1420],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1417,1420],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":62,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1661,1664],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1661,1664],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":77,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":77,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2059,2062],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2059,2062],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":90,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":90,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2604,2607],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2604,2607],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":97,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":97,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2863,2866],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2863,2866],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":106,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":106,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3313,3316],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3313,3316],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":121,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":121,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3809,3812],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3809,3812],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":135,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":135,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4545,4548],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4545,4548],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":142,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":142,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4832,4835],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4832,4835],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":163,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":163,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5763,5766],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5763,5766],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":174,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":174,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6268,6271],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6268,6271],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":180,"column":68,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":180,"endColumn":71,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6680,6683],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6680,6683],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":209,"column":65,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":209,"endColumn":68,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8227,8230],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8227,8230],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":261,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":261,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10289,10292],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10289,10292],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":271,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":271,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10753,10756],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10753,10756],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":281,"column":71,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":281,"endColumn":74,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11253,11256],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11253,11256],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":287,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":287,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11662,11665],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11662,11665],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":17,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiResponse, Comment, CommentReaction, Photo, Hashtag, HashtagVote, User } from '@/types'\r\n\r\n// API Configuration\r\nconst API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:3001/api/v1'\r\n\r\n// HTTP client with interceptors\r\nclass HttpClient {\r\n  private baseURL: string\r\n\r\n  constructor(baseURL: string) {\r\n    this.baseURL = baseURL\r\n  }\r\n\r\n  private async request<T>(\r\n    endpoint: string,\r\n    options: RequestInit = {}\r\n  ): Promise<T> {\r\n    const url = `${this.baseURL}${endpoint}`\r\n\r\n    // Add auth token if available\r\n    const token = localStorage.getItem('auth-storage')\r\n      ? JSON.parse(localStorage.getItem('auth-storage') || '{}').state?.token\r\n      : null\r\n\r\n    const config: RequestInit = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...(token && { Authorization: `Bearer ${token}` }),\r\n        ...options.headers,\r\n      },\r\n      ...options,\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(url, config)\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}))\r\n        throw new Error(\r\n          errorData.message || 'Request failed'\r\n        )\r\n      }\r\n\r\n      return await response.json()\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  get<T>(endpoint: string): Promise<T> {\r\n    return this.request<T>(endpoint, { method: 'GET' })\r\n  }\r\n\r\n  post<T>(endpoint: string, data?: any): Promise<T> {\r\n    return this.request<T>(endpoint, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: data ? JSON.stringify(data) : undefined,\r\n    })\r\n  }\r\n\r\n  patch<T>(endpoint: string, data?: any): Promise<T> {\r\n    return this.request<T>(endpoint, {\r\n      method: 'PATCH',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: data ? JSON.stringify(data) : undefined,\r\n    })\r\n  }\r\n\r\n  delete<T>(endpoint: string): Promise<T> {\r\n    return this.request<T>(endpoint, { method: 'DELETE' })\r\n  }\r\n}\r\n\r\nconst httpClient = new HttpClient(API_BASE_URL)\r\n\r\nconst mapUser = (user: any): User => ({\r\n  id: user?._id || user?.id || '',\r\n  email: user?.email || '',\r\n  firstName: user?.profile?.firstName || user?.firstName || '',\r\n  lastName: user?.profile?.lastName || user?.lastName || '',\r\n  role: user?.role || 'visitor',\r\n  avatar: user?.profile?.avatar || user?.avatar,\r\n  createdAt: user?.createdAt || new Date().toISOString(),\r\n  updatedAt: user?.updatedAt || new Date().toISOString(),\r\n  isEmailVerified: user?.isEmailVerified ?? false,\r\n  isActive: user?.isActive ?? true,\r\n})\r\n\r\nconst mapCommentReaction = (reaction: any): CommentReaction => ({\r\n  id: reaction?._id || reaction?.id || '',\r\n  userId: reaction?.user || reaction?.userId || '',\r\n  type: reaction?.type || 'like',\r\n  createdAt: reaction?.createdAt || new Date().toISOString(),\r\n})\r\n\r\nconst mapComment = (comment: any, marketId: string): Comment => ({\r\n  id: comment?._id || comment?.id || '',\r\n  marketId: comment?.market || marketId,\r\n  userId: comment?.author?._id || comment?.author?.id || comment?.userId || '',\r\n  user: mapUser(comment?.author || comment?.user || {}),\r\n  content: comment?.content || '',\r\n  parentId: comment?.parentId || comment?.parent || undefined,\r\n  replies: Array.isArray(comment?.replies)\r\n    ? comment.replies\r\n        .map((reply: any) => {\r\n          if (!reply || typeof reply === 'string') {\r\n            return null\r\n          }\r\n          return mapComment(reply, marketId)\r\n        })\r\n        .filter(Boolean) as Comment[]\r\n    : [],\r\n  reactions: Array.isArray(comment?.reactions)\r\n    ? comment.reactions.map(mapCommentReaction)\r\n    : [],\r\n  createdAt: comment?.createdAt || new Date().toISOString(),\r\n  updatedAt: comment?.updatedAt || comment?.createdAt || new Date().toISOString(),\r\n})\r\n\r\nconst mapPhoto = (photo: any, marketId: string): Photo => ({\r\n  id: photo?._id || photo?.id || '',\r\n  marketId: photo?.market || marketId,\r\n  userId: photo?.uploadedBy?._id || photo?.uploadedBy?.id || photo?.userId || '',\r\n  user: mapUser(photo?.uploadedBy || photo?.user || {}),\r\n  url: photo?.imageUrl || photo?.url || photo?.filename || '',\r\n  thumbnailUrl: photo?.thumbnailUrl || photo?.imageUrl || photo?.url || photo?.filename || '',\r\n  caption: photo?.caption || '',\r\n  tags: Array.isArray(photo?.tags) ? photo.tags : [],\r\n  isApproved: photo?.approved ?? photo?.isApproved ?? photo?.moderation?.isApproved ?? true,\r\n  takenAt: photo?.takenAt || undefined,\r\n  createdAt: photo?.createdAt || new Date().toISOString(),\r\n})\r\n\r\nconst mapHashtagVote = (vote: any): HashtagVote => ({\r\n  id: vote?._id || vote?.id || '',\r\n  userId: vote?.userId || vote?.user || '',\r\n  value: vote?.vote === 'down' ? -1 : vote?.value === -1 ? -1 : 1,\r\n  createdAt: vote?.timestamp || vote?.createdAt || new Date().toISOString(),\r\n})\r\n\r\nconst mapHashtag = (hashtag: any, marketId: string): Hashtag => ({\r\n  id: hashtag?._id || hashtag?.id || '',\r\n  name: hashtag?.text || hashtag?.name || '',\r\n  marketId: hashtag?.marketId || marketId,\r\n  userId: hashtag?.suggestedBy?._id || hashtag?.suggestedBy?.id || hashtag?.userId || '',\r\n  user: mapUser(hashtag?.suggestedBy || hashtag?.user || {}),\r\n  votes: Array.isArray(hashtag?.voters)\r\n    ? hashtag.voters.map(mapHashtagVote)\r\n    : Array.isArray(hashtag?.votes)\r\n      ? hashtag.votes.map(mapHashtagVote)\r\n      : [],\r\n  createdAt: hashtag?.createdAt || new Date().toISOString(),\r\n})\r\n\r\nexport const communityApi = {\r\n  // Comments API\r\n  async getComments(marketId: string, page = 1, limit = 20): Promise<ApiResponse<Comment[]>> {\r\n    const queryParams = new URLSearchParams()\r\n    queryParams.append('page', page.toString())\r\n    queryParams.append('limit', limit.toString())\r\n\r\n    const response = await httpClient.get<ApiResponse<{ comments: any[] }>>(`/comments/market/${marketId}?${queryParams}`)\r\n    if (!response.success) throw new Error(response.error || 'Failed to fetch comments')\r\n    const comments = response.data?.comments || []\r\n    return { ...response, data: comments.map((comment) => mapComment(comment, marketId)) }\r\n  },\r\n\r\n  async createComment(comment: {\r\n    marketId: string\r\n    content: string\r\n    parentId?: string\r\n  }): Promise<ApiResponse<Comment>> {\r\n    const response = await httpClient.post<ApiResponse<{ comment: any }>>('/comments', comment)\r\n    if (!response.success) throw new Error(response.error || 'Failed to create comment')\r\n    return { ...response, data: response.data?.comment ? mapComment(response.data.comment, comment.marketId) : undefined }\r\n  },\r\n\r\n  async updateComment(commentId: string, content: string): Promise<ApiResponse<Comment>> {\r\n    const response = await httpClient.patch<ApiResponse<{ comment: any }>>(`/comments/${commentId}`, { content })\r\n    if (!response.success) throw new Error(response.error || 'Failed to update comment')\r\n    return { ...response, data: response.data?.comment ? mapComment(response.data.comment, response.data.comment.market || '') : undefined }\r\n  },\r\n\r\n  async deleteComment(commentId: string): Promise<ApiResponse<void>> {\r\n    const response = await httpClient.delete<ApiResponse<void>>(`/comments/${commentId}`)\r\n    if (!response.success) throw new Error(response.error || 'Failed to delete comment')\r\n    return response\r\n  },\r\n\r\n  async addReaction(commentId: string, type: 'like' | 'dislike' | 'love' | 'laugh'): Promise<ApiResponse<CommentReaction>> {\r\n    const response = await httpClient.post<ApiResponse<CommentReaction>>(`/comments/${commentId}/reaction`, { type })\r\n    if (!response.success) throw new Error(response.error || 'Failed to add reaction')\r\n    return response\r\n  },\r\n\r\n  async removeReaction(commentId: string): Promise<ApiResponse<void>> {\r\n    const response = await httpClient.delete<ApiResponse<void>>(`/comments/${commentId}/reaction`)\r\n    if (!response.success) throw new Error(response.error || 'Failed to remove reaction')\r\n    return response\r\n  },\r\n\r\n  // Photos API\r\n  async getPhotos(marketId: string, page = 1, limit = 20): Promise<ApiResponse<Photo[]>> {\r\n    const queryParams = new URLSearchParams()\r\n    queryParams.append('page', page.toString())\r\n    queryParams.append('limit', limit.toString())\r\n\r\n    const response = await httpClient.get<ApiResponse<{ photos: any[] }>>(`/photos/market/${marketId}?${queryParams}`)\r\n    if (!response.success) throw new Error(response.error || 'Failed to fetch photos')\r\n    const photos = response.data?.photos || []\r\n    return { ...response, data: photos.map((photo) => mapPhoto(photo, marketId)) }\r\n  },\r\n\r\n  async uploadPhoto(photo: {\r\n    marketId: string\r\n    file: File\r\n    caption?: string\r\n    tags?: string[]\r\n  }): Promise<ApiResponse<Photo>> {\r\n    const formData = new FormData()\r\n    formData.append('marketId', photo.marketId)\r\n    formData.append('photos', photo.file)\r\n    if (photo.caption) formData.append('caption', photo.caption)\r\n    if (photo.tags?.length) formData.append('tags', JSON.stringify(photo.tags))\r\n\r\n    const token = localStorage.getItem('auth-storage')\r\n      ? JSON.parse(localStorage.getItem('auth-storage') || '{}').state?.token\r\n      : undefined\r\n\r\n    const headers: Record<string, string> = {}\r\n    if (token) {\r\n      headers.Authorization = `Bearer ${token}`\r\n    }\r\n\r\n    const response = await fetch(`${API_BASE_URL}/photos/market/${photo.marketId}`, {\r\n      method: 'POST',\r\n      headers,\r\n      body: formData,\r\n    })\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json().catch(() => ({}))\r\n      throw new Error(errorData.error || 'Failed to upload photo')\r\n    }\r\n\r\n    const payload = await response.json()\r\n    if (!payload.success) throw new Error(payload.error || 'Failed to upload photo')\r\n    const uploadedPhoto = payload.data?.photos?.[0] || payload.data?.photo\r\n    return { ...payload, data: uploadedPhoto ? mapPhoto(uploadedPhoto, photo.marketId) : undefined }\r\n  },\r\n\r\n  async deletePhoto(photoId: string): Promise<ApiResponse<void>> {\r\n    const response = await httpClient.delete<ApiResponse<void>>(`/photos/${photoId}`)\r\n    if (!response.success) throw new Error(response.error || 'Failed to delete photo')\r\n    return response\r\n  },\r\n\r\n  // Hashtags API\r\n  async getHashtags(marketId: string): Promise<ApiResponse<Hashtag[]>> {\r\n    const response = await httpClient.get<ApiResponse<{ hashtags: any[] }>>(`/hashtags/market/${marketId}`)\r\n    if (!response.success) throw new Error(response.error || 'Failed to fetch hashtags')\r\n    const hashtags = response.data?.hashtags || []\r\n    return { ...response, data: hashtags.map((hashtag) => mapHashtag(hashtag, marketId)) }\r\n  },\r\n\r\n  async createHashtag(hashtag: {\r\n    marketId: string\r\n    name: string\r\n  }): Promise<ApiResponse<Hashtag>> {\r\n    const response = await httpClient.post<ApiResponse<{ hashtag: any }>>('/hashtags', {\r\n      marketId: hashtag.marketId,\r\n      text: hashtag.name,\r\n    })\r\n    if (!response.success) throw new Error(response.error || 'Failed to create hashtag')\r\n    return { ...response, data: response.data?.hashtag ? mapHashtag(response.data.hashtag, hashtag.marketId) : undefined }\r\n  },\r\n\r\n  async voteOnHashtag(hashtagId: string, value: number): Promise<ApiResponse<Hashtag>> {\r\n    if (value === 0) {\r\n      const response = await httpClient.delete<ApiResponse<{ hashtag: any }>>(`/hashtags/${hashtagId}/vote`)\r\n      if (!response.success) throw new Error(response.error || 'Failed to remove vote on hashtag')\r\n      return { ...response, data: response.data?.hashtag ? mapHashtag(response.data.hashtag, response.data.hashtag.marketId || '') : undefined }\r\n    }\r\n\r\n    const voteType = value > 0 ? 'up' : 'down'\r\n    const response = await httpClient.post<ApiResponse<{ hashtag: any }>>(`/hashtags/${hashtagId}/vote`, { voteType })\r\n    if (!response.success) throw new Error(response.error || 'Failed to vote on hashtag')\r\n    return { ...response, data: response.data?.hashtag ? mapHashtag(response.data.hashtag, response.data.hashtag.marketId || '') : undefined }\r\n  },\r\n\r\n  async deleteHashtag(hashtagId: string): Promise<ApiResponse<void>> {\r\n    const response = await httpClient.delete<ApiResponse<void>>(`/hashtags/${hashtagId}`)\r\n    if (!response.success) throw new Error(response.error || 'Failed to delete hashtag')\r\n    return response\r\n  },\r\n\r\n  // Predefined hashtags for suggestions\r\n  async getPredefinedHashtags(): Promise<ApiResponse<string[]>> {\r\n    const response = await httpClient.get<ApiResponse<string[]>>('/hashtags/predefined')\r\n    if (!response.success) throw new Error(response.error || 'Failed to fetch predefined hashtags')\r\n    return response\r\n  }\r\n}\r\n\r\nexport default communityApi\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\community\\communityStore.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\community\\hooks\\useComments.ts","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'setComments'. Either include it or remove the dependency array.","line":44,"column":6,"nodeType":"ArrayExpression","endLine":44,"endColumn":40,"suggestions":[{"desc":"Update the dependencies array to be: [commentsResponse, page, comments, setComments]","fix":{"range":[1209,1243],"text":"[commentsResponse, page, comments, setComments]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":56,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":56,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1680,1683],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1680,1683],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":70,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":70,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2214,2217],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2214,2217],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":81,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":81,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2608,2611],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2608,2611],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":92,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":92,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3037,3040],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3037,3040],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":102,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":102,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3387,3390],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3387,3390],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react'\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { useCommunityStore } from '../communityStore'\r\nimport { communityApi } from '../communityApi'\r\n\r\nexport const useComments = (marketId: string) => {\r\n  const [page, setPage] = useState(1)\r\n  const queryClient = useQueryClient()\r\n  \r\n  const {\r\n    comments,\r\n    isLoadingComments,\r\n    commentsError,\r\n    setComments,\r\n    addComment,\r\n    updateComment,\r\n    removeComment,\r\n    setCommentsError,\r\n  } = useCommunityStore()\r\n\r\n  // Query for fetching comments\r\n  const {\r\n    data: commentsResponse,\r\n    isLoading,\r\n    error,\r\n    refetch,\r\n  } = useQuery({\r\n    queryKey: ['comments', marketId, page],\r\n    queryFn: () => communityApi.getComments(marketId, page),\r\n    enabled: !!marketId,\r\n    staleTime: 30000, // 30 seconds\r\n  })\r\n\r\n  // Update store when data changes\r\n  useEffect(() => {\r\n    if (commentsResponse?.success && commentsResponse.data) {\r\n      if (page === 1) {\r\n        setComments(commentsResponse.data)\r\n      } else {\r\n        // Append new comments for pagination\r\n        setComments([...comments, ...commentsResponse.data])\r\n      }\r\n    }\r\n  }, [commentsResponse, page, comments])\r\n\r\n  // Mutations\r\n  const createCommentMutation = useMutation({\r\n    mutationFn: (commentData: { content: string; parentId?: string }) =>\r\n      communityApi.createComment({ ...commentData, marketId }),\r\n    onSuccess: (response) => {\r\n      if (response.success && response.data) {\r\n        addComment(response.data)\r\n        queryClient.invalidateQueries({ queryKey: ['comments', marketId] })\r\n      }\r\n    },\r\n    onError: (error: any) => {\r\n      setCommentsError(error.message || 'Failed to create comment')\r\n    },\r\n  })\r\n\r\n  const updateCommentMutation = useMutation({\r\n    mutationFn: ({ commentId, content }: { commentId: string; content: string }) =>\r\n      communityApi.updateComment(commentId, content),\r\n    onSuccess: (response) => {\r\n      if (response.success && response.data) {\r\n        updateComment(response.data.id, response.data)\r\n        queryClient.invalidateQueries({ queryKey: ['comments', marketId] })\r\n      }\r\n    },\r\n    onError: (error: any) => {\r\n      setCommentsError(error.message || 'Failed to update comment')\r\n    },\r\n  })\r\n\r\n  const deleteCommentMutation = useMutation({\r\n    mutationFn: (commentId: string) => communityApi.deleteComment(commentId),\r\n    onSuccess: (_, commentId) => {\r\n      removeComment(commentId)\r\n      queryClient.invalidateQueries({ queryKey: ['comments', marketId] })\r\n    },\r\n    onError: (error: any) => {\r\n      setCommentsError(error.message || 'Failed to delete comment')\r\n    },\r\n  })\r\n\r\n  const addReactionMutation = useMutation({\r\n    mutationFn: ({ commentId, type }: { commentId: string; type: 'like' | 'dislike' | 'love' | 'laugh' }) =>\r\n      communityApi.addReaction(commentId, type),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['comments', marketId] })\r\n    },\r\n    onError: (error: any) => {\r\n      setCommentsError(error.message || 'Failed to add reaction')\r\n    },\r\n  })\r\n\r\n  const removeReactionMutation = useMutation({\r\n    mutationFn: (commentId: string) => communityApi.removeReaction(commentId),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['comments', marketId] })\r\n    },\r\n    onError: (error: any) => {\r\n      setCommentsError(error.message || 'Failed to remove reaction')\r\n    },\r\n  })\r\n\r\n  // Helper functions\r\n  const createComment = async (content: string, parentId?: string) => {\r\n    await createCommentMutation.mutateAsync({ content, parentId })\r\n  }\r\n\r\n  const editComment = async (commentId: string, content: string) => {\r\n    await updateCommentMutation.mutateAsync({ commentId, content })\r\n  }\r\n\r\n  const deleteComment = async (commentId: string) => {\r\n    await deleteCommentMutation.mutateAsync(commentId)\r\n  }\r\n\r\n  const addReaction = async (commentId: string, type: 'like' | 'dislike' | 'love' | 'laugh') => {\r\n    await addReactionMutation.mutateAsync({ commentId, type })\r\n  }\r\n\r\n  const removeReaction = async (commentId: string) => {\r\n    await removeReactionMutation.mutateAsync(commentId)\r\n  }\r\n\r\n  const loadMoreComments = () => {\r\n    setPage(prev => prev + 1)\r\n  }\r\n\r\n  const refreshComments = () => {\r\n    setPage(1)\r\n    refetch()\r\n  }\r\n\r\n  const getUserReaction = (commentId: string) => {\r\n    const comment = comments.find(c => c.id === commentId)\r\n    return comment?.reactions.find(r => r.userId === 'user-1')\r\n  }\r\n\r\n  const getReactionCounts = (commentId: string) => {\r\n    const comment = comments.find(c => c.id === commentId)\r\n    if (!comment) return { like: 0, dislike: 0, love: 0, laugh: 0 }\r\n    \r\n    return comment.reactions.reduce(\r\n      (acc, reaction) => {\r\n        acc[reaction.type]++\r\n        return acc\r\n      },\r\n      { like: 0, dislike: 0, love: 0, laugh: 0 }\r\n    )\r\n  }\r\n\r\n  return {\r\n    // Data\r\n    comments,\r\n    isLoading: isLoading || isLoadingComments,\r\n    error: error || commentsError,\r\n    \r\n    // Actions\r\n    createComment,\r\n    editComment,\r\n    deleteComment,\r\n    addReaction,\r\n    removeReaction,\r\n    loadMoreComments,\r\n    refreshComments,\r\n    \r\n    // Helpers\r\n    getUserReaction,\r\n    getReactionCounts,\r\n    \r\n    // States\r\n    isCreating: createCommentMutation.isPending,\r\n    isUpdating: updateCommentMutation.isPending,\r\n    isDeleting: deleteCommentMutation.isPending,\r\n    isReacting: addReactionMutation.isPending || removeReactionMutation.isPending,\r\n    \r\n    // Errors\r\n    createError: createCommentMutation.error?.message,\r\n    updateError: updateCommentMutation.error?.message,\r\n    deleteError: deleteCommentMutation.error?.message,\r\n    reactionError: addReactionMutation.error?.message || removeReactionMutation.error?.message,\r\n  }\r\n}\r\n\r\nexport default useComments","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\community\\hooks\\useHashtags.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":57,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":57,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1605,1608],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1605,1608],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":68,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":68,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1999,2002],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1999,2002],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":91,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":91,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2908,2911],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2908,2911],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { useCommunityStore } from '../communityStore'\r\nimport { communityApi } from '../communityApi'\r\n\r\nexport const useHashtags = (marketId: string) => {\r\n  const queryClient = useQueryClient()\r\n  \r\n  const {\r\n    hashtags,\r\n    isLoadingHashtags,\r\n    hashtagsError,\r\n    setHashtags,\r\n    addHashtag,\r\n    updateHashtag,\r\n    removeHashtag,\r\n    setHashtagsError,\r\n  } = useCommunityStore()\r\n\r\n  // Query for fetching hashtags\r\n  const {\r\n    data: hashtagsResponse,\r\n    isLoading,\r\n    error,\r\n    refetch,\r\n  } = useQuery({\r\n    queryKey: ['hashtags', marketId],\r\n    queryFn: () => communityApi.getHashtags(marketId),\r\n    enabled: !!marketId,\r\n    staleTime: 60000, // 1 minute\r\n  })\r\n\r\n  // Query for predefined hashtags\r\n  const {\r\n    data: predefinedResponse,\r\n    isLoading: isLoadingPredefined,\r\n  } = useQuery({\r\n    queryKey: ['predefinedHashtags'],\r\n    queryFn: () => communityApi.getPredefinedHashtags(),\r\n    staleTime: 300000, // 5 minutes\r\n  })\r\n\r\n  // Update store when data changes\r\n  if (hashtagsResponse?.success && hashtagsResponse.data) {\r\n    setHashtags(hashtagsResponse.data)\r\n  }\r\n\r\n  // Mutations\r\n  const createHashtagMutation = useMutation({\r\n    mutationFn: (hashtagData: { name: string }) =>\r\n      communityApi.createHashtag({ ...hashtagData, marketId }),\r\n    onSuccess: (response) => {\r\n      if (response.success && response.data) {\r\n        addHashtag(response.data)\r\n        queryClient.invalidateQueries({ queryKey: ['hashtags', marketId] })\r\n      }\r\n    },\r\n    onError: (error: any) => {\r\n      setHashtagsError(error.message || 'Failed to create hashtag')\r\n    },\r\n  })\r\n\r\n  const deleteHashtagMutation = useMutation({\r\n    mutationFn: (hashtagId: string) => communityApi.deleteHashtag(hashtagId),\r\n    onSuccess: (_, hashtagId) => {\r\n      removeHashtag(hashtagId)\r\n      queryClient.invalidateQueries({ queryKey: ['hashtags', marketId] })\r\n    },\r\n    onError: (error: any) => {\r\n      setHashtagsError(error.message || 'Failed to delete hashtag')\r\n    },\r\n  })\r\n\r\n  const voteOnHashtagMutation = useMutation({\r\n    mutationFn: ({ hashtagId, value }: { hashtagId: string; value: number }) =>\r\n      communityApi.voteOnHashtag(hashtagId, value),\r\n    onSuccess: (response, { hashtagId, value }) => {\r\n      const hashtag = hashtags.find(h => h.id === hashtagId)\r\n      if (hashtag) {\r\n        const filteredVotes = hashtag.votes.filter(v => v.userId !== 'user-1')\r\n\r\n        if (value !== 0 && response.success && response.data) {\r\n          if ('votes' in response.data) {\r\n            updateHashtag(hashtagId, { votes: response.data.votes })\r\n          }\r\n        } else if (value === 0) {\r\n          updateHashtag(hashtagId, { votes: filteredVotes })\r\n        }\r\n      }\r\n      queryClient.invalidateQueries({ queryKey: ['hashtags', marketId] })\r\n    },\r\n    onError: (error: any) => {\r\n      setHashtagsError(error.message || 'Failed to vote on hashtag')\r\n    },\r\n  })\r\n\r\n  // Helper functions\r\n  const createHashtag = async (name: string) => {\r\n    // Validate hashtag name\r\n    const validation = validateHashtagName(name)\r\n    if (validation !== null) {\r\n      throw new Error(validation)\r\n    }\r\n    \r\n    await createHashtagMutation.mutateAsync({ name })\r\n  }\r\n\r\n  const deleteHashtag = async (hashtagId: string) => {\r\n    await deleteHashtagMutation.mutateAsync(hashtagId)\r\n  }\r\n\r\n  const voteHashtag = async (hashtagId: string, value: 1 | -1 | 0) => {\r\n    await voteOnHashtagMutation.mutateAsync({ hashtagId, value })\r\n  }\r\n\r\n  const refreshHashtags = () => {\r\n    refetch()\r\n  }\r\n\r\n  // Validation\r\n  const validateHashtagName = (name: string): string | null => {\r\n    // Check if empty\r\n    if (!name.trim()) {\r\n      return 'Hashtag name is required'\r\n    }\r\n\r\n    // Check length\r\n    if (name.length < 2) {\r\n      return 'Hashtag name must be at least 2 characters'\r\n    }\r\n\r\n    if (name.length > 50) {\r\n      return 'Hashtag name must be less than 50 characters'\r\n    }\r\n\r\n    // Check for valid characters (letters, numbers, underscores, hyphens)\r\n    const validPattern = /^[a-zA-Z0-9_-]+$/\r\n    if (!validPattern.test(name)) {\r\n      return 'Hashtag name can only contain letters, numbers, underscores, and hyphens'\r\n    }\r\n\r\n    // Check if hashtag already exists\r\n    const existing = hashtags.find(h => h.name.toLowerCase() === name.toLowerCase())\r\n    if (existing) {\r\n      return 'This hashtag already exists'\r\n    }\r\n\r\n    return null\r\n  }\r\n\r\n  // Utility functions\r\n  const getUserVote = (hashtagId: string) => {\r\n    const hashtag = hashtags.find(h => h.id === hashtagId)\r\n    return hashtag?.votes.find(v => v.userId === 'user-1')\r\n  }\r\n\r\n  const getVoteCount = (hashtagId: string) => {\r\n    const hashtag = hashtags.find(h => h.id === hashtagId)\r\n    return hashtag?.votes.reduce((total, vote) => total + vote.value, 0) || 0\r\n  }\r\n\r\n  const getVoteCounts = (hashtagId: string) => {\r\n    const hashtag = hashtags.find(h => h.id === hashtagId)\r\n    if (!hashtag) return { upvotes: 0, downvotes: 0 }\r\n    \r\n    return hashtag.votes.reduce(\r\n      (acc, vote) => {\r\n        if (vote.value > 0) acc.upvotes++\r\n        else if (vote.value < 0) acc.downvotes++\r\n        return acc\r\n      },\r\n      { upvotes: 0, downvotes: 0 }\r\n    )\r\n  }\r\n\r\n  const sortHashtags = (sortBy: 'votes' | 'name' | 'created') => {\r\n    const sorted = [...hashtags]\r\n    \r\n    switch (sortBy) {\r\n      case 'votes':\r\n        return sorted.sort((a, b) => getVoteCount(b.id) - getVoteCount(a.id))\r\n      case 'name':\r\n        return sorted.sort((a, b) => a.name.localeCompare(b.name))\r\n      case 'created':\r\n        return sorted.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime())\r\n      default:\r\n        return sorted\r\n    }\r\n  }\r\n\r\n  const filterHashtags = (searchTerm: string) => {\r\n    if (!searchTerm.trim()) return hashtags\r\n    \r\n    const term = searchTerm.toLowerCase()\r\n    return hashtags.filter(hashtag => \r\n      hashtag.name.toLowerCase().includes(term)\r\n    )\r\n  }\r\n\r\n  const getTopHashtags = (limit: number = 10) => {\r\n    return sortHashtags('votes').slice(0, limit)\r\n  }\r\n\r\n  const getTrendingHashtags = () => {\r\n    // For demo purposes, return top 5 hashtags\r\n    return getTopHashtags(5)\r\n  }\r\n\r\n  const getSuggestedHashtags = () => {\r\n    // Filter predefined hashtags that don't already exist\r\n    if (!predefinedResponse?.success || !predefinedResponse.data) return []\r\n    \r\n    const existingNames = hashtags.map(h => h.name.toLowerCase())\r\n    return predefinedResponse.data.filter(name => \r\n      !existingNames.includes(name.toLowerCase())\r\n    ).slice(0, 10)\r\n  }\r\n\r\n  return {\r\n    // Data\r\n    hashtags,\r\n    predefinedHashtags: predefinedResponse?.data || [],\r\n    isLoading: isLoading || isLoadingHashtags,\r\n    isLoadingPredefined,\r\n    error: error || hashtagsError,\r\n    \r\n    // Actions\r\n    createHashtag,\r\n    deleteHashtag,\r\n    voteHashtag,\r\n    refreshHashtags,\r\n    \r\n    // Utilities\r\n    validateHashtagName,\r\n    getUserVote,\r\n    getVoteCount,\r\n    getVoteCounts,\r\n    sortHashtags,\r\n    filterHashtags,\r\n    getTopHashtags,\r\n    getTrendingHashtags,\r\n    getSuggestedHashtags,\r\n    \r\n    // States\r\n    isCreating: createHashtagMutation.isPending,\r\n    isDeleting: deleteHashtagMutation.isPending,\r\n    isVoting: voteOnHashtagMutation.isPending,\r\n    \r\n    // Errors\r\n    createError: createHashtagMutation.error?.message,\r\n    deleteError: deleteHashtagMutation.error?.message,\r\n    voteError: voteOnHashtagMutation.error?.message,\r\n  }\r\n}\r\n\r\nexport default useHashtags\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\community\\hooks\\usePhotos.ts","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'setPhotos'. Either include it or remove the dependency array.","line":43,"column":6,"nodeType":"ArrayExpression","endLine":43,"endColumn":36,"suggestions":[{"desc":"Update the dependencies array to be: [photosResponse, page, photos, setPhotos]","fix":{"range":[1149,1179],"text":"[photosResponse, page, photos, setPhotos]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":55,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":55,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1615,1618],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1615,1618],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":66,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":66,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1989,1992],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1989,1992],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react'\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { useCommunityStore } from '../communityStore'\r\nimport { communityApi } from '../communityApi'\r\n\r\nexport const usePhotos = (marketId: string) => {\r\n  const [page, setPage] = useState(1)\r\n  const queryClient = useQueryClient()\r\n  \r\n  const {\r\n    photos,\r\n    isLoadingPhotos,\r\n    photosError,\r\n    setPhotos,\r\n    addPhoto,\r\n    removePhoto,\r\n    setPhotosError,\r\n  } = useCommunityStore()\r\n\r\n  // Query for fetching photos\r\n  const {\r\n    data: photosResponse,\r\n    isLoading,\r\n    error,\r\n    refetch,\r\n  } = useQuery({\r\n    queryKey: ['photos', marketId, page],\r\n    queryFn: () => communityApi.getPhotos(marketId, page),\r\n    enabled: !!marketId,\r\n    staleTime: 30000, // 30 seconds\r\n  })\r\n\r\n  // Update store when data changes\r\n  useEffect(() => {\r\n    if (photosResponse?.success && photosResponse.data) {\r\n      if (page === 1) {\r\n        setPhotos(photosResponse.data)\r\n      } else {\r\n        // Append new photos for pagination\r\n        setPhotos([...photos, ...photosResponse.data])\r\n      }\r\n    }\r\n  }, [photosResponse, page, photos])\r\n\r\n  // Mutations\r\n  const uploadPhotoMutation = useMutation({\r\n    mutationFn: (photoData: { file: File; caption?: string; tags?: string[] }) =>\r\n      communityApi.uploadPhoto({ ...photoData, marketId }),\r\n    onSuccess: (response) => {\r\n      if (response.success && response.data) {\r\n        addPhoto(response.data)\r\n        queryClient.invalidateQueries({ queryKey: ['photos', marketId] })\r\n      }\r\n    },\r\n    onError: (error: any) => {\r\n      setPhotosError(error.message || 'Failed to upload photo')\r\n    },\r\n  })\r\n\r\n  const deletePhotoMutation = useMutation({\r\n    mutationFn: (photoId: string) => communityApi.deletePhoto(photoId),\r\n    onSuccess: (_, photoId) => {\r\n      removePhoto(photoId)\r\n      queryClient.invalidateQueries({ queryKey: ['photos', marketId] })\r\n    },\r\n    onError: (error: any) => {\r\n      setPhotosError(error.message || 'Failed to delete photo')\r\n    },\r\n  })\r\n\r\n  // Helper functions\r\n  const uploadPhoto = async (file: File, caption?: string, tags?: string[]) => {\r\n    await uploadPhotoMutation.mutateAsync({ file, caption, tags })\r\n  }\r\n\r\n  const deletePhoto = async (photoId: string) => {\r\n    await deletePhotoMutation.mutateAsync(photoId)\r\n  }\r\n\r\n  const loadMorePhotos = () => {\r\n    setPage(prev => prev + 1)\r\n  }\r\n\r\n  const refreshPhotos = () => {\r\n    setPage(1)\r\n    refetch()\r\n  }\r\n\r\n  // File validation\r\n  const validateFile = (file: File): string | null => {\r\n    // Check file type\r\n    const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp']\r\n    if (!allowedTypes.includes(file.type)) {\r\n      return 'Only JPEG, PNG, GIF, and WebP images are allowed'\r\n    }\r\n\r\n    // Check file size (5MB limit)\r\n    const maxSize = 5 * 1024 * 1024 // 5MB\r\n    if (file.size > maxSize) {\r\n      return 'Image size must be less than 5MB'\r\n    }\r\n\r\n    return null\r\n  }\r\n\r\n  const compressImage = (file: File): Promise<File> => {\r\n    return new Promise((resolve) => {\r\n      const canvas = document.createElement('canvas')\r\n      const ctx = canvas.getContext('2d')\r\n      const img = new Image()\r\n\r\n      img.onload = () => {\r\n        // Calculate new dimensions (max 1200px width/height)\r\n        const maxSize = 1200\r\n        let { width, height } = img\r\n\r\n        if (width > height) {\r\n          if (width > maxSize) {\r\n            height = (height * maxSize) / width\r\n            width = maxSize\r\n          }\r\n        } else {\r\n          if (height > maxSize) {\r\n            width = (width * maxSize) / height\r\n            height = maxSize\r\n          }\r\n        }\r\n\r\n        canvas.width = width\r\n        canvas.height = height\r\n\r\n        ctx?.drawImage(img, 0, 0, width, height)\r\n\r\n        canvas.toBlob((blob) => {\r\n          if (blob) {\r\n            const compressedFile = new File([blob], file.name, {\r\n              type: file.type,\r\n              lastModified: Date.now(),\r\n            })\r\n            resolve(compressedFile)\r\n          } else {\r\n            resolve(file)\r\n          }\r\n        }, file.type, 0.8)\r\n      }\r\n\r\n      img.src = URL.createObjectURL(file)\r\n    })\r\n  }\r\n\r\n  return {\r\n    // Data\r\n    photos,\r\n    isLoading: isLoading || isLoadingPhotos,\r\n    error: error || photosError,\r\n    \r\n    // Actions\r\n    uploadPhoto,\r\n    deletePhoto,\r\n    loadMorePhotos,\r\n    refreshPhotos,\r\n    \r\n    // Utilities\r\n    validateFile,\r\n    compressImage,\r\n    \r\n    // States\r\n    isUploading: uploadPhotoMutation.isPending,\r\n    isDeleting: deletePhotoMutation.isPending,\r\n    \r\n    // Errors\r\n    uploadError: uploadPhotoMutation.error?.message,\r\n    deleteError: deletePhotoMutation.error?.message,\r\n  }\r\n}\r\n\r\nexport default usePhotos","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\markets\\hooks\\useMarkets.ts","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadMarkets'. Either include it or remove the dependency array.","line":190,"column":6,"nodeType":"ArrayExpression","endLine":190,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [autoLoad, loadMarkets]","fix":{"range":[5631,5641],"text":"[autoLoad, loadMarkets]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useCallback has a missing dependency: 'store'. Either include it or remove the dependency array.","line":275,"column":6,"nodeType":"ArrayExpression","endLine":275,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [id, store]","fix":{"range":[7895,7899],"text":"[id, store]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useCallback } from 'react'\r\nimport { useMarketsStore } from '../marketsStore'\r\nimport { useAuthStore } from '@/features/auth/authStore'\r\nimport { marketsApi } from '../marketsApi'\r\nimport { Market, MarketFilters } from '@/types'\r\n\r\ninterface UseMarketsOptions {\r\n  autoLoad?: boolean\r\n  limit?: number\r\n}\r\n\r\ninterface UseMarketsReturn {\r\n  // Data\r\n  markets: Market[]\r\n  trackedMarketIds: string[]\r\n  \r\n  // Loading states\r\n  isLoading: boolean\r\n  isSearching: boolean\r\n  isTracking: boolean\r\n  \r\n  // Pagination\r\n  currentPage: number\r\n  totalPages: number\r\n  hasMore: boolean\r\n  \r\n  // Error handling\r\n  error: string | null\r\n  \r\n  // Filters and search\r\n  filters: MarketFilters\r\n  searchQuery: string\r\n  \r\n  // Actions\r\n  loadMarkets: (options?: { filters?: MarketFilters; page?: number; limit?: number }) => Promise<void>\r\n  searchMarkets: (query: string) => Promise<void>\r\n  setFilters: (filters: MarketFilters) => void\r\n  clearFilters: () => void\r\n  \r\n  // Market actions\r\n  getMarketById: (id: string) => Market | undefined\r\n  trackMarket: (marketId: string) => Promise<void>\r\n  untrackMarket: (marketId: string) => Promise<void>\r\n  isMarketTracked: (marketId: string) => boolean\r\n  \r\n  // Pagination\r\n  setCurrentPage: (page: number) => void\r\n  nextPage: () => void\r\n  previousPage: () => void\r\n  \r\n  // Utility\r\n  refresh: () => Promise<void>\r\n}\r\n\r\nexport const useMarkets = (options?: UseMarketsOptions): UseMarketsReturn => {\r\n  const {\r\n    autoLoad = true,\r\n    limit = 20\r\n  } = options || {}\r\n\r\n  const store = useMarketsStore()\r\n  const [isTracking, setIsTracking] = useState(false)\r\n\r\n  // Load markets function - fixed dependencies\r\n  const loadMarkets = useCallback(async (loadOptions?: {\r\n    filters?: MarketFilters\r\n    page?: number\r\n    limit?: number\r\n  }) => {\r\n    try {\r\n      store.setLoading(true)\r\n      store.clearError()\r\n\r\n      // Get current values directly from store\r\n      const currentFilters = loadOptions?.filters || store.filters\r\n      const page = loadOptions?.page || store.currentPage\r\n      const actualLimit = loadOptions?.limit || limit\r\n\r\n      const response = await marketsApi.getMarkets(currentFilters, page, actualLimit)\r\n\r\n      if (response.pagination) {\r\n        store.setMarkets(response.data)\r\n        store.setCurrentPage(page)\r\n        store.setHasMore(page < response.pagination.totalPages)\r\n      } else {\r\n        // For search results, just replace markets\r\n        store.setMarkets(response.data)\r\n        store.setCurrentPage(1)\r\n        store.setHasMore(false)\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load markets:', error)\r\n      store.setError(error instanceof Error ? error.message : 'Failed to load markets')\r\n    } finally {\r\n      store.setLoading(false)\r\n    }\r\n  }, [store, limit])\r\n\r\n  // Search markets function - fixed dependencies\r\n  const searchMarkets = useCallback(async (query: string) => {\r\n    try {\r\n      store.setSearching(true)\r\n      store.clearError()\r\n      store.setSearchQuery(query)\r\n\r\n      const response = await marketsApi.searchMarkets(query)\r\n\r\n      if (response.success && response.data) {\r\n        store.setMarkets(response.data)\r\n        store.setCurrentPage(1)\r\n        store.setHasMore(false)\r\n      } else {\r\n        store.setError(response.error || 'Search failed')\r\n      }\r\n    } catch (error) {\r\n      console.error('Search failed:', error)\r\n      store.setError(error instanceof Error ? error.message : 'Search failed')\r\n    } finally {\r\n      store.setSearching(false)\r\n    }\r\n  }, [store])\r\n\r\n  // Track market function - fixed dependencies\r\n  const trackMarket = useCallback(async (marketId: string) => {\r\n    try {\r\n      setIsTracking(true)\r\n\r\n      const response = await marketsApi.trackMarket(marketId)\r\n\r\n      if (response.success) {\r\n        store.trackMarket(marketId)\r\n      } else {\r\n        store.setError(response.error || 'Failed to track market')\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to track market:', error)\r\n      store.setError(error instanceof Error ? error.message : 'Failed to track market')\r\n    } finally {\r\n      setIsTracking(false)\r\n    }\r\n  }, [store])\r\n\r\n  // Untrack market function - fixed dependencies\r\n  const untrackMarket = useCallback(async (marketId: string) => {\r\n    try {\r\n      setIsTracking(true)\r\n\r\n      const response = await marketsApi.untrackMarket(marketId)\r\n\r\n      if (response.success) {\r\n        store.untrackMarket(marketId)\r\n      } else {\r\n        store.setError(response.error || 'Failed to untrack market')\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to untrack market:', error)\r\n      store.setError(error instanceof Error ? error.message : 'Failed to untrack market')\r\n    } finally {\r\n      setIsTracking(false)\r\n    }\r\n  }, [store])\r\n\r\n  // Pagination helpers - fixed dependencies\r\n  const nextPage = useCallback(() => {\r\n    const currentPage = store.currentPage\r\n    if (store.hasMore) {\r\n      const nextPageNum = currentPage + 1\r\n      loadMarkets({ page: nextPageNum })\r\n    }\r\n  }, [store.currentPage, store.hasMore, loadMarkets])\r\n\r\n  const previousPage = useCallback(() => {\r\n    const currentPage = store.currentPage\r\n    if (currentPage > 1) {\r\n      const prevPageNum = currentPage - 1\r\n      loadMarkets({ page: prevPageNum })\r\n    }\r\n  }, [store.currentPage, loadMarkets])\r\n\r\n  // Refresh function - fixed dependencies\r\n  const refresh = useCallback(async () => {\r\n    loadMarkets()\r\n  }, [loadMarkets])\r\n\r\n  // Auto-load markets on mount if enabled - only runs once\r\n  useEffect(() => {\r\n    if (autoLoad) {\r\n      loadMarkets()\r\n    }\r\n  }, [autoLoad]) // Only depends on autoLoad, not loadMarkets\r\n\r\n  // Remove automatic filter initialization to prevent infinite loop\r\n  // Filters should be set manually by components, not automatically\r\n\r\n  return {\r\n    // Data\r\n    markets: store.markets,\r\n    trackedMarketIds: store.trackedMarketIds,\r\n    \r\n    // Loading states\r\n    isLoading: store.isLoading,\r\n    isSearching: store.isSearching,\r\n    isTracking,\r\n    \r\n    // Pagination\r\n    currentPage: store.currentPage,\r\n    totalPages: store.totalPages,\r\n    hasMore: store.hasMore,\r\n    \r\n    // Error handling\r\n    error: store.error,\r\n    \r\n    // Filters and search\r\n    filters: store.filters,\r\n    searchQuery: store.searchQuery,\r\n    \r\n    // Actions\r\n    loadMarkets,\r\n    searchMarkets,\r\n    setFilters: store.setFilters,\r\n    clearFilters: store.clearFilters,\r\n    \r\n    // Market actions\r\n    getMarketById: store.getMarketById,\r\n    trackMarket,\r\n    untrackMarket,\r\n    isMarketTracked: store.isMarketTracked,\r\n    \r\n    // Pagination\r\n    setCurrentPage: store.setCurrentPage,\r\n    nextPage,\r\n    previousPage,\r\n    \r\n    // Utility\r\n    refresh\r\n  }\r\n}\r\n\r\n// Hook for getting a single market by ID\r\nexport const useMarket = (id: string) => {\r\n  const store = useMarketsStore()\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  const loadMarket = useCallback(async () => {\r\n    try {\r\n      setIsLoading(true)\r\n      setError(null)\r\n\r\n      // First try to get from store\r\n      const existingMarket = store.getMarketById(id)\r\n      if (existingMarket) {\r\n        setIsLoading(false)\r\n        return existingMarket\r\n      }\r\n\r\n      // If not in store, fetch from API\r\n      const response = await marketsApi.getMarketById(id)\r\n      \r\n      if (response.success && response.data) {\r\n        store.addMarket(response.data)\r\n        setIsLoading(false)\r\n        return response.data\r\n      } else {\r\n        setError(response.error || 'Market not found')\r\n        setIsLoading(false)\r\n        return null\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to load market:', err)\r\n      setError(err instanceof Error ? err.message : 'Failed to load market')\r\n      setIsLoading(false)\r\n      return null\r\n    }\r\n  }, [id]) // Only depend on id, not store\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      loadMarket()\r\n    }\r\n  }, [id, loadMarket])\r\n\r\n  return {\r\n    market: store.getMarketById(id),\r\n    isLoading,\r\n    error,\r\n    refetch: loadMarket\r\n  }\r\n}\r\n\r\n// Hook for tracked markets\r\ninterface UseTrackedMarketsReturn {\r\n  trackedMarkets: Market[]\r\n  trackedMarketIds: string[]\r\n  isLoading: boolean\r\n  error: string | null\r\n  trackMarket: (marketId: string) => void\r\n  untrackMarket: (marketId: string) => void\r\n  isMarketTracked: (marketId: string) => boolean\r\n  refreshTracked: () => Promise<void>\r\n}\r\n\r\nexport const useTrackedMarkets = (): UseTrackedMarketsReturn => {\r\n  const store = useMarketsStore()\r\n  const { user } = useAuthStore()\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [trackedMarkets, setTrackedMarkets] = useState<Market[]>([])\r\n\r\n  const refreshTracked = useCallback(async () => {\r\n    try {\r\n      setIsLoading(true)\r\n      setError(null)\r\n\r\n      // Get user ID from auth store\r\n      const userId = user?.id\r\n      if (!userId) {\r\n        setTrackedMarkets([])\r\n        store.setTrackedMarketIds([])\r\n        setError('No authenticated user found')\r\n        return\r\n      }\r\n\r\n      const response = await marketsApi.getUserTrackedMarkets(userId)\r\n\r\n      // PaginatedResponse returns data directly\r\n      setTrackedMarkets(response.data)\r\n      // Update trackedMarketIds in store for consistency\r\n      store.setTrackedMarketIds(response.data.map(market => market.id))\r\n    } catch (err) {\r\n      const errorMessage = err instanceof Error ? err.message : 'Failed to load tracked markets'\r\n      console.error('Failed to load tracked markets:', err)\r\n      setError(errorMessage)\r\n      store.setError(errorMessage)\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }, [user?.id, store])\r\n\r\n  // Load tracked markets on mount and cleanup on unmount\r\n  useEffect(() => {\r\n    let isMounted = true\r\n\r\n    const loadData = async () => {\r\n      if (isMounted) {\r\n        await refreshTracked()\r\n      }\r\n    }\r\n\r\n    loadData()\r\n\r\n    return () => {\r\n      isMounted = false\r\n    }\r\n  }, [refreshTracked])\r\n\r\n  return {\r\n    trackedMarkets,\r\n    trackedMarketIds: store.trackedMarketIds,\r\n    isLoading,\r\n    error,\r\n    trackMarket: store.trackMarket,\r\n    untrackMarket: store.untrackMarket,\r\n    isMarketTracked: store.isMarketTracked,\r\n    refreshTracked\r\n  }\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\markets\\marketsApi.ts","messages":[{"ruleId":"no-useless-catch","severity":2,"message":"Unnecessary try/catch wrapper.","line":238,"column":5,"nodeType":"TryStatement","messageId":"unnecessaryCatch","endLine":251,"endColumn":6},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":258,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":258,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7175,7178],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7175,7178],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":266,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":266,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7417,7420],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7417,7420],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Market, MarketFilters, PaginatedResponse, ApiResponse } from '@/types'\r\n\r\n// Environment configuration\r\nconst isDevelopment = typeof process !== 'undefined' ? process.env.NODE_ENV === 'development' : true\r\nconst isMockMode = typeof process !== 'undefined' ? process.env.VITE_USE_MOCK_API === 'true' : true\r\n\r\n// API Configuration - Versioned API\r\nconst API_BASE_URL = 'http://localhost:3001/api/v1'\r\n\r\n// Mock data for development\r\nconst mockMarkets: Market[] = [\r\n  {\r\n    id: '1',\r\n    name: 'Downtown Farmers Market',\r\n    description: 'Fresh local produce, artisanal foods, and handmade crafts from local vendors.',\r\n    category: 'farmers-market',\r\n    promoterId: 'promoter-1',\r\n    promoter: {\r\n      id: 'promoter-1',\r\n      email: 'sarah@market.com',\r\n      firstName: 'Sarah',\r\n      lastName: 'Johnson',\r\n      role: 'promoter',\r\n      createdAt: '2024-01-01T00:00:00Z',\r\n      updatedAt: '2024-01-01T00:00:00Z',\r\n      isEmailVerified: true,\r\n      isActive: true\r\n    },\r\n    location: {\r\n      address: '123 Main St',\r\n      city: 'Downtown',\r\n      state: 'CA',\r\n      zipCode: '90210',\r\n      country: 'USA',\r\n      latitude: 34.0522,\r\n      longitude: -118.2437\r\n    },\r\n    schedule: [\r\n      {\r\n        id: '1',\r\n        dayOfWeek: 6,\r\n        startTime: '08:00',\r\n        endTime: '14:00',\r\n        startDate: '2024-01-01',\r\n        endDate: '2024-12-31',\r\n        isRecurring: true\r\n      }\r\n    ],\r\n    status: 'active',\r\n    marketType: 'promoter-managed',\r\n    images: [\r\n      'https://images.unsplash.com/photo-1488459716781-31db52582fe9?w=800',\r\n      'https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800'\r\n    ],\r\n    tags: ['local-produce', 'fresh-produce', 'organic', 'handmade'],\r\n    accessibility: {\r\n      wheelchairAccessible: true,\r\n      parkingAvailable: true,\r\n      restroomsAvailable: true,\r\n      familyFriendly: true,\r\n      petFriendly: true\r\n    },\r\n    contact: {\r\n      phone: '(555) 123-4567',\r\n      email: 'info@downtownmarket.com',\r\n      website: 'https://downtownmarket.com',\r\n      socialMedia: {\r\n        facebook: 'https://facebook.com/downtownmarket',\r\n        instagram: 'https://instagram.com/downtownmarket'\r\n      }\r\n    },\r\n    applicationFields: [],\r\n    createdAt: '2024-01-01T00:00:00Z',\r\n    updatedAt: '2024-01-01T00:00:00Z'\r\n  },\r\n  {\r\n    id: '2',\r\n    name: 'Artisan Craft Fair',\r\n    description: 'Local artisans showcasing handmade jewelry, pottery, textiles, and fine art.',\r\n    category: 'arts-crafts',\r\n    promoterId: 'promoter-2',\r\n    promoter: {\r\n      id: 'promoter-2',\r\n      email: 'mike@crafts.com',\r\n      firstName: 'Mike',\r\n      lastName: 'Chen',\r\n      role: 'promoter',\r\n      createdAt: '2024-01-01T00:00:00Z',\r\n      updatedAt: '2024-01-01T00:00:00Z',\r\n      isEmailVerified: true,\r\n      isActive: true\r\n    },\r\n    location: {\r\n      address: '456 Art District Ave',\r\n      city: 'Art District',\r\n      state: 'NY',\r\n      zipCode: '10001',\r\n      country: 'USA',\r\n      latitude: 40.7128,\r\n      longitude: -74.0060\r\n    },\r\n    schedule: [\r\n      {\r\n        id: '2',\r\n        dayOfWeek: 0,\r\n        startTime: '10:00',\r\n        endTime: '18:00',\r\n        startDate: '2024-01-01',\r\n        endDate: '2024-12-31',\r\n        isRecurring: true\r\n      }\r\n    ],\r\n    status: 'active',\r\n    marketType: 'promoter-managed',\r\n    images: [\r\n      'https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=800',\r\n      'https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?w=800'\r\n    ],\r\n    tags: ['handmade', 'local-artisans', 'crafts', 'fine-art'],\r\n    accessibility: {\r\n      wheelchairAccessible: true,\r\n      parkingAvailable: false,\r\n      restroomsAvailable: true,\r\n      familyFriendly: true,\r\n      petFriendly: false\r\n    },\r\n    contact: {\r\n      phone: '(555) 987-6543',\r\n      email: 'info@artisanfair.com',\r\n      socialMedia: {\r\n        instagram: 'https://instagram.com/artisanfair'\r\n      }\r\n    },\r\n    applicationFields: [],\r\n    createdAt: '2024-01-01T00:00:00Z',\r\n    updatedAt: '2024-01-01T00:00:00Z'\r\n  },\r\n  {\r\n    id: '3',\r\n    name: 'Weekend Flea Market',\r\n    description: 'Vintage treasures, antiques, collectibles, and unique finds from local sellers.',\r\n    category: 'flea-market',\r\n    promoterId: 'promoter-3',\r\n    promoter: {\r\n      id: 'promoter-3',\r\n      email: 'lisa@fleamarket.com',\r\n      firstName: 'Lisa',\r\n      lastName: 'Williams',\r\n      role: 'promoter',\r\n      createdAt: '2024-01-01T00:00:00Z',\r\n      updatedAt: '2024-01-01T00:00:00Z',\r\n      isEmailVerified: true,\r\n      isActive: true\r\n    },\r\n    location: {\r\n      address: '789 Weekend Plaza',\r\n      city: 'Marketville',\r\n      state: 'TX',\r\n      zipCode: '75001',\r\n      country: 'USA',\r\n      latitude: 32.7767,\r\n      longitude: -96.7970\r\n    },\r\n    schedule: [\r\n      {\r\n        id: '3',\r\n        dayOfWeek: 6,\r\n        startTime: '06:00',\r\n        endTime: '16:00',\r\n        startDate: '2024-01-01',\r\n        endDate: '2024-12-31',\r\n        isRecurring: true\r\n      },\r\n      {\r\n        id: '4',\r\n        dayOfWeek: 0,\r\n        startTime: '06:00',\r\n        endTime: '16:00',\r\n        startDate: '2024-01-01',\r\n        endDate: '2024-12-31',\r\n        isRecurring: true\r\n      }\r\n    ],\r\n    status: 'active',\r\n    marketType: 'promoter-managed',\r\n    images: [\r\n      'https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=800'\r\n    ],\r\n    tags: ['vintage', 'antiques', 'collectibles', 'secondhand'],\r\n    accessibility: {\r\n      wheelchairAccessible: false,\r\n      parkingAvailable: true,\r\n      restroomsAvailable: true,\r\n      familyFriendly: true,\r\n      petFriendly: true\r\n    },\r\n    contact: {\r\n      phone: '(555) 456-7890',\r\n      email: 'info@weekendflea.com'\r\n    },\r\n    applicationFields: [],\r\n    createdAt: '2024-01-01T00:00:00Z',\r\n    updatedAt: '2024-01-01T00:00:00Z'\r\n  }\r\n]\r\n\r\n// API simulation delay (reduced for better UX)\r\nconst delay = (ms: number) => new Promise(resolve => setTimeout(resolve, ms))\r\n\r\n// HTTP client with interceptors\r\nclass HttpClient {\r\n  private baseURL: string\r\n\r\n  constructor(baseURL: string) {\r\n    this.baseURL = baseURL\r\n  }\r\n\r\n  private async request<T>(\r\n    endpoint: string,\r\n    options: RequestInit = {}\r\n  ): Promise<T> {\r\n    const url = `${this.baseURL}${endpoint}`\r\n\r\n    // Add auth token if available\r\n    const token = localStorage.getItem('auth-storage')\r\n      ? JSON.parse(localStorage.getItem('auth-storage') || '{}').state?.token\r\n      : null\r\n\r\n    const config: RequestInit = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...(token && { Authorization: `Bearer ${token}` }),\r\n        ...options.headers,\r\n      },\r\n      ...options,\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(url, config)\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}))\r\n        throw new Error(\r\n          errorData.message || 'Request failed'\r\n        )\r\n      }\r\n\r\n      return await response.json()\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  get<T>(endpoint: string): Promise<T> {\r\n    return this.request<T>(endpoint, { method: 'GET' })\r\n  }\r\n\r\n  post<T>(endpoint: string, data?: any): Promise<T> {\r\n    return this.request<T>(endpoint, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: data ? JSON.stringify(data) : undefined,\r\n    })\r\n  }\r\n\r\n  put<T>(endpoint: string, data?: any): Promise<T> {\r\n    return this.request<T>(endpoint, {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: data ? JSON.stringify(data) : undefined,\r\n    })\r\n  }\r\n\r\n  delete<T>(endpoint: string): Promise<T> {\r\n    return this.request<T>(endpoint, { method: 'DELETE' })\r\n  }\r\n}\r\n\r\nconst httpClient = new HttpClient(API_BASE_URL)\r\n\r\nexport const marketsApi = {\r\n  // Get all markets with optional filtering\r\n  async getMarkets(filters?: MarketFilters, page = 1, limit = 20): Promise<PaginatedResponse<Market>> {\r\n    if (isDevelopment && isMockMode) {\r\n      await delay(100) // Reduced delay for better UX\r\n\r\n      let filteredMarkets = [...mockMarkets]\r\n\r\n      // Apply filters (same logic as store)\r\n      if (filters) {\r\n        if (filters.category && filters.category.length > 0) {\r\n          filteredMarkets = filteredMarkets.filter(market =>\r\n            filters.category!.includes(market.category)\r\n          )\r\n        }\r\n\r\n        if (filters.location?.city) {\r\n          filteredMarkets = filteredMarkets.filter(market =>\r\n            market.location.city.toLowerCase().includes(\r\n              filters.location!.city!.toLowerCase()\r\n            )\r\n          )\r\n        }\r\n\r\n        if (filters.location?.state) {\r\n          filteredMarkets = filteredMarkets.filter(market =>\r\n            market.location.state.toLowerCase().includes(\r\n              filters.location!.state!.toLowerCase()\r\n            )\r\n          )\r\n        }\r\n\r\n        if (filters.status && filters.status.length > 0) {\r\n          filteredMarkets = filteredMarkets.filter(market =>\r\n            filters.status!.includes(market.status)\r\n          )\r\n        }\r\n\r\n        if (filters.accessibility?.wheelchairAccessible) {\r\n          filteredMarkets = filteredMarkets.filter(market =>\r\n            market.accessibility.wheelchairAccessible\r\n          )\r\n        }\r\n\r\n        if (filters.search) {\r\n          const query = filters.search.toLowerCase()\r\n          filteredMarkets = filteredMarkets.filter(market =>\r\n            market.name.toLowerCase().includes(query) ||\r\n            market.description.toLowerCase().includes(query) ||\r\n            market.location.city.toLowerCase().includes(query) ||\r\n            market.tags.some(tag => tag.toLowerCase().includes(query))\r\n          )\r\n        }\r\n      }\r\n\r\n      // Apply pagination\r\n      const startIndex = (page - 1) * limit\r\n      const endIndex = startIndex + limit\r\n      const paginatedMarkets = filteredMarkets.slice(startIndex, endIndex)\r\n\r\n      return {\r\n        data: paginatedMarkets,\r\n        pagination: {\r\n          page,\r\n          limit,\r\n          total: filteredMarkets.length,\r\n          totalPages: Math.ceil(filteredMarkets.length / limit)\r\n        }\r\n      }\r\n    } else {\r\n      // Real API\r\n      const queryParams = new URLSearchParams()\r\n      if (filters) {\r\n        if (filters.search) queryParams.append('search', filters.search)\r\n        if (filters.status?.length) queryParams.append('status', filters.status.join(','))\r\n        if (filters.category?.length) queryParams.append('category', filters.category.join(','))\r\n        if (filters.location?.city) queryParams.append('city', filters.location.city)\r\n        if (filters.location?.state) queryParams.append('state', filters.location.state)\r\n      }\r\n      queryParams.append('page', page.toString())\r\n      queryParams.append('limit', limit.toString())\r\n\r\n      const response = await httpClient.get<ApiResponse<PaginatedResponse<Market>>>(`/markets?${queryParams}`)\r\n      if (!response.success) throw new Error(response.error || 'Failed to fetch markets')\r\n      return response.data!\r\n    }\r\n  },\r\n\r\n  // Get market by ID\r\n  async getMarketById(id: string): Promise<ApiResponse<Market>> {\r\n    if (isDevelopment && isMockMode) {\r\n      await delay(80)\r\n\r\n      const market = mockMarkets.find(m => m.id === id)\r\n\r\n      if (!market) {\r\n        return {\r\n          success: false,\r\n          error: 'Market not found'\r\n        }\r\n      }\r\n\r\n      return {\r\n        success: true,\r\n        data: market\r\n      }\r\n    } else {\r\n      const response = await httpClient.get<ApiResponse<Market>>(`/markets/${id}`)\r\n      if (!response.success) throw new Error(response.error || 'Failed to fetch market')\r\n      return response\r\n    }\r\n  },\r\n\r\n  // Search markets\r\n  async searchMarkets(query: string): Promise<ApiResponse<Market[]>> {\r\n    if (isDevelopment && isMockMode) {\r\n      await delay(150)\r\n\r\n      if (!query.trim()) {\r\n        return {\r\n          success: true,\r\n          data: []\r\n        }\r\n      }\r\n\r\n      const searchTerm = query.toLowerCase()\r\n      const results = mockMarkets.filter(market =>\r\n        market.name.toLowerCase().includes(searchTerm) ||\r\n        market.description.toLowerCase().includes(searchTerm) ||\r\n        market.location.city.toLowerCase().includes(searchTerm) ||\r\n        market.location.state.toLowerCase().includes(searchTerm) ||\r\n        market.tags.some(tag => tag.toLowerCase().includes(searchTerm))\r\n      )\r\n\r\n      return {\r\n        success: true,\r\n        data: results\r\n      }\r\n    } else {\r\n      const response = await httpClient.get<ApiResponse<Market[]>>(`/markets/search?q=${encodeURIComponent(query)}`)\r\n      if (!response.success) throw new Error(response.error || 'Failed to search markets')\r\n      return response\r\n    }\r\n  },\r\n\r\n  // Get popular markets\r\n  async getPopularMarkets(limit = 10): Promise<ApiResponse<Market[]>> {\r\n    if (isDevelopment && isMockMode) {\r\n      await delay(80)\r\n\r\n      // For now, just return first few markets as \"popular\"\r\n      const popular = mockMarkets.slice(0, limit)\r\n\r\n      return {\r\n        success: true,\r\n        data: popular\r\n      }\r\n    } else {\r\n      const response = await httpClient.get<ApiResponse<Market[]>>(`/markets/popular?limit=${limit}`)\r\n      if (!response.success) throw new Error(response.error || 'Failed to fetch popular markets')\r\n      return response\r\n    }\r\n  },\r\n\r\n  // Get markets by category\r\n  async getMarketsByCategory(category: string): Promise<ApiResponse<Market[]>> {\r\n    if (isDevelopment && isMockMode) {\r\n      await delay(80)\r\n\r\n      const results = mockMarkets.filter(market => market.category === category)\r\n\r\n      return {\r\n        success: true,\r\n        data: results\r\n      }\r\n    } else {\r\n      const response = await httpClient.get<ApiResponse<Market[]>>(`/markets/category/${category}`)\r\n      if (!response.success) throw new Error(response.error || 'Failed to fetch markets by category')\r\n      return response\r\n    }\r\n  },\r\n\r\n  // Create new market\r\n  async createMarket(marketData: Omit<Market, 'id' | 'createdAt' | 'updatedAt'>): Promise<ApiResponse<Market>> {\r\n    if (isDevelopment && isMockMode) {\r\n      await delay(800)\r\n\r\n      const newMarket: Market = {\r\n        ...marketData,\r\n        id: `market-${Date.now()}`,\r\n        createdAt: new Date().toISOString(),\r\n        updatedAt: new Date().toISOString()\r\n      }\r\n\r\n      // Simulate market creation with ID generation\r\n      return {\r\n        success: true,\r\n        data: newMarket\r\n      }\r\n    } else {\r\n      const response = await httpClient.post<ApiResponse<Market>>('/markets', marketData)\r\n      if (!response.success) throw new Error(response.error || 'Failed to create market')\r\n      return response\r\n    }\r\n  },\r\n\r\n  // Track/untrack market (mock implementation)\r\n  async trackMarket(marketId: string): Promise<ApiResponse<{ tracked: boolean }>> {\r\n    if (isDevelopment && isMockMode) {\r\n      await delay(100)\r\n\r\n      console.log('Tracking market:', marketId)\r\n      // Simulate tracking action\r\n      return {\r\n        success: true,\r\n        data: { tracked: true }\r\n      }\r\n    } else {\r\n      const response = await httpClient.post<ApiResponse<{ tracked: boolean }>>(`/markets/${marketId}/track`, {})\r\n      if (!response.success) throw new Error(response.error || 'Failed to track market')\r\n      return response\r\n    }\r\n  },\r\n\r\n  async untrackMarket(marketId: string): Promise<ApiResponse<{ tracked: boolean }>> {\r\n    if (isDevelopment && isMockMode) {\r\n      await delay(100)\r\n\r\n      console.log('Untracking market:', marketId)\r\n      return {\r\n        success: true,\r\n        data: { tracked: false }\r\n      }\r\n    } else {\r\n      const response = await httpClient.delete<ApiResponse<{ tracked: boolean }>>(`/markets/${marketId}/track`)\r\n      if (!response.success) throw new Error(response.error || 'Failed to untrack market')\r\n      return response\r\n    }\r\n  },\r\n\r\n  // Get user's tracked markets\r\n  async getUserTrackedMarkets(userId: string): Promise<PaginatedResponse<Market>> {\r\n    if (isDevelopment && isMockMode) {\r\n      await delay(300)\r\n\r\n      // Simulate user-specific tracked markets based on user ID patterns\r\n      const trackedMarkets = mockMarkets.filter(market => {\r\n        // Mock: simulate user tracking certain markets based on user ID\r\n        // Different user IDs will track different markets for demo purposes\r\n        if (userId === 'current-user-id' || userId === 'user-1') {\r\n          return market.id === '1' || market.id === '2'\r\n        }\r\n        // Default behavior for other users\r\n        return market.id === '1'\r\n      })\r\n\r\n      return {\r\n        data: trackedMarkets,\r\n        pagination: {\r\n          page: 1,\r\n          limit: 20,\r\n          total: trackedMarkets.length,\r\n          totalPages: 1\r\n        }\r\n      }\r\n    } else {\r\n      const response = await httpClient.get<ApiResponse<PaginatedResponse<Market>>>(`/users/${userId}/tracked-markets`)\r\n      if (!response.success) throw new Error(response.error || 'Failed to fetch tracked markets')\r\n      return response.data!\r\n    }\r\n  }\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\markets\\marketsStore.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\notifications\\notificationsApi.ts","messages":[{"ruleId":"no-useless-catch","severity":2,"message":"Unnecessary try/catch wrapper.","line":34,"column":5,"nodeType":"TryStatement","messageId":"unnecessaryCatch","endLine":47,"endColumn":6},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":54,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":54,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1407,1410],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1407,1410],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":62,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1651,1654],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1651,1654],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Notification, NotificationType, ApiResponse, PaginatedResponse } from '@/types'\r\n\r\n// API Configuration\r\nconst API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:3001/api/v1'\r\n\r\n// HTTP client with interceptors\r\nclass HttpClient {\r\n  private baseURL: string\r\n\r\n  constructor(baseURL: string) {\r\n    this.baseURL = baseURL\r\n  }\r\n\r\n  private async request<T>(\r\n    endpoint: string,\r\n    options: RequestInit = {}\r\n  ): Promise<T> {\r\n    const url = `${this.baseURL}${endpoint}`\r\n\r\n    // Add auth token if available\r\n    const token = localStorage.getItem('auth-storage')\r\n      ? JSON.parse(localStorage.getItem('auth-storage') || '{}').state?.token\r\n      : null\r\n\r\n    const config: RequestInit = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...(token && { Authorization: `Bearer ${token}` }),\r\n        ...options.headers,\r\n      },\r\n      ...options,\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(url, config)\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}))\r\n        throw new Error(\r\n          errorData.message || 'Request failed'\r\n        )\r\n      }\r\n\r\n      return await response.json()\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  get<T>(endpoint: string): Promise<T> {\r\n    return this.request<T>(endpoint, { method: 'GET' })\r\n  }\r\n\r\n  post<T>(endpoint: string, data?: any): Promise<T> {\r\n    return this.request<T>(endpoint, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: data ? JSON.stringify(data) : undefined,\r\n    })\r\n  }\r\n\r\n  patch<T>(endpoint: string, data?: any): Promise<T> {\r\n    return this.request<T>(endpoint, {\r\n      method: 'PATCH',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: data ? JSON.stringify(data) : undefined,\r\n    })\r\n  }\r\n\r\n  delete<T>(endpoint: string): Promise<T> {\r\n    return this.request<T>(endpoint, { method: 'DELETE' })\r\n  }\r\n}\r\n\r\nconst httpClient = new HttpClient(API_BASE_URL)\r\n\r\nexport const notificationsApi = {\r\n  // Get notifications for user\r\n  async getNotifications(page = 1, limit = 20): Promise<PaginatedResponse<Notification>> {\r\n    const queryParams = new URLSearchParams()\r\n    queryParams.append('page', page.toString())\r\n    queryParams.append('limit', limit.toString())\r\n\r\n    const response = await httpClient.get<ApiResponse<PaginatedResponse<Notification>>>(`/notifications?${queryParams}`)\r\n    if (!response.success) throw new Error(response.error || 'Failed to fetch notifications')\r\n    return response.data!\r\n  },\r\n\r\n  // Get unread count\r\n  async getUnreadCount(): Promise<ApiResponse<{ count: number }>> {\r\n    const response = await httpClient.get<ApiResponse<{ count: number }>>('/notifications/unread-count')\r\n    if (!response.success) throw new Error(response.error || 'Failed to get unread count')\r\n    return response\r\n  },\r\n\r\n  // Mark notification as read\r\n  async markAsRead(id: string): Promise<ApiResponse<Notification>> {\r\n    const response = await httpClient.patch<ApiResponse<Notification>>(`/notifications/${id}/read`, {})\r\n    if (!response.success) throw new Error(response.error || 'Failed to mark notification as read')\r\n    return response\r\n  },\r\n\r\n  // Mark all notifications as read\r\n  async markAllAsRead(): Promise<ApiResponse<{ markedCount: number }>> {\r\n    const response = await httpClient.patch<ApiResponse<{ markedCount: number }>>('/notifications/read-all', {})\r\n    if (!response.success) throw new Error(response.error || 'Failed to mark all notifications as read')\r\n    return response\r\n  },\r\n\r\n  // Delete notification\r\n  async deleteNotification(id: string): Promise<ApiResponse<{ deleted: boolean }>> {\r\n    const response = await httpClient.delete<ApiResponse<{ deleted: boolean }>>(`/notifications/${id}`)\r\n    if (!response.success) throw new Error(response.error || 'Failed to delete notification')\r\n    return response\r\n  },\r\n\r\n  // Get notifications by type\r\n  async getNotificationsByType(type: NotificationType): Promise<ApiResponse<Notification[]>> {\r\n    const response = await httpClient.get<ApiResponse<Notification[]>>(`/notifications/type/${type}`)\r\n    if (!response.success) throw new Error(response.error || 'Failed to fetch notifications by type')\r\n    return response\r\n  },\r\n\r\n  // Get recent notifications (last 24 hours)\r\n  async getRecentNotifications(hours = 24): Promise<ApiResponse<Notification[]>> {\r\n    const response = await httpClient.get<ApiResponse<Notification[]>>(`/notifications/recent?hours=${hours}`)\r\n    if (!response.success) throw new Error(response.error || 'Failed to fetch recent notifications')\r\n    return response\r\n  }\r\n}\r\n\r\nexport default notificationsApi\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\notifications\\notificationsStore.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\theme\\themeStore.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\tracking\\hooks\\useExpenses.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\tracking\\hooks\\useTodos.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\tracking\\trackingApi.ts","messages":[{"ruleId":"no-useless-catch","severity":2,"message":"Unnecessary try/catch wrapper.","line":34,"column":5,"nodeType":"TryStatement","messageId":"unnecessaryCatch","endLine":47,"endColumn":6},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":54,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":54,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1407,1410],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1407,1410],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":62,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1649,1652],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1649,1652],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":70,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":70,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1892,1895],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1892,1895],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Todo, Expense, ExpenseCategory, ApiResponse, PaginatedResponse } from '@/types'\r\n\r\n// API Configuration\r\nconst API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:3001/api/v1'\r\n\r\n// HTTP client with interceptors\r\nclass HttpClient {\r\n  private baseURL: string\r\n\r\n  constructor(baseURL: string) {\r\n    this.baseURL = baseURL\r\n  }\r\n\r\n  private async request<T>(\r\n    endpoint: string,\r\n    options: RequestInit = {}\r\n  ): Promise<T> {\r\n    const url = `${this.baseURL}${endpoint}`\r\n\r\n    // Add auth token if available\r\n    const token = localStorage.getItem('auth-storage')\r\n      ? JSON.parse(localStorage.getItem('auth-storage') || '{}').state?.token\r\n      : null\r\n\r\n    const config: RequestInit = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...(token && { Authorization: `Bearer ${token}` }),\r\n        ...options.headers,\r\n      },\r\n      ...options,\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(url, config)\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}))\r\n        throw new Error(\r\n          errorData.message || 'Request failed'\r\n        )\r\n      }\r\n\r\n      return await response.json()\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  get<T>(endpoint: string): Promise<T> {\r\n    return this.request<T>(endpoint, { method: 'GET' })\r\n  }\r\n\r\n  post<T>(endpoint: string, data?: any): Promise<T> {\r\n    return this.request<T>(endpoint, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: data ? JSON.stringify(data) : undefined,\r\n    })\r\n  }\r\n\r\n  put<T>(endpoint: string, data?: any): Promise<T> {\r\n    return this.request<T>(endpoint, {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: data ? JSON.stringify(data) : undefined,\r\n    })\r\n  }\r\n\r\n  patch<T>(endpoint: string, data?: any): Promise<T> {\r\n    return this.request<T>(endpoint, {\r\n      method: 'PATCH',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: data ? JSON.stringify(data) : undefined,\r\n    })\r\n  }\r\n\r\n  delete<T>(endpoint: string): Promise<T> {\r\n    return this.request<T>(endpoint, { method: 'DELETE' })\r\n  }\r\n}\r\n\r\nconst httpClient = new HttpClient(API_BASE_URL)\r\n\r\n// Todo templates for common market preparation tasks\r\nconst todoTemplates = {\r\n  setup: [\r\n    'Complete vendor application',\r\n    'Review market rules and regulations',\r\n    'Design booth layout',\r\n    'Obtain necessary permits and licenses',\r\n    'Set up payment processing system'\r\n  ],\r\n  products: [\r\n    'Prepare product inventory',\r\n    'Price all products',\r\n    'Organize display materials',\r\n    'Prepare product samples',\r\n    'Update product descriptions'\r\n  ],\r\n  marketing: [\r\n    'Create marketing materials',\r\n    'Post on social media',\r\n    'Design promotional flyers',\r\n    'Contact local media',\r\n    'Update business website'\r\n  ],\r\n  logistics: [\r\n    'Arrange transportation',\r\n    'Prepare equipment and tools',\r\n    'Pack display materials',\r\n    'Plan booth setup/breakdown',\r\n    'Confirm accommodation if needed'\r\n  ],\r\n  'post-event': [\r\n    'Clean up booth area',\r\n    'Process payments',\r\n    'Follow up with customers',\r\n    'Review sales performance',\r\n    'Plan for next market'\r\n  ]\r\n}\r\n\r\nexport const trackingApi = {\r\n  async getTodos(marketId?: string): Promise<PaginatedResponse<Todo>> {\r\n    const queryParams = new URLSearchParams()\r\n    if (marketId) queryParams.append('marketId', marketId)\r\n\r\n    const response = await httpClient.get<ApiResponse<PaginatedResponse<Todo>>>(`/todos?${queryParams}`)\r\n    if (!response.success) throw new Error(response.error || 'Failed to fetch todos')\r\n    return response.data!\r\n  },\r\n\r\n  async createTodo(todo: Omit<Todo, 'id' | 'vendorId' | 'createdAt' | 'updatedAt'>): Promise<ApiResponse<Todo>> {\r\n    const response = await httpClient.post<ApiResponse<Todo>>('/todos', todo)\r\n    if (!response.success) throw new Error(response.error || 'Failed to create todo')\r\n    return response\r\n  },\r\n\r\n  async updateTodo(id: string, updates: Partial<Todo>): Promise<ApiResponse<Todo>> {\r\n    const response = await httpClient.patch<ApiResponse<Todo>>(`/todos/${id}`, updates)\r\n    if (!response.success) throw new Error(response.error || 'Failed to update todo')\r\n    return response\r\n  },\r\n\r\n  async deleteTodo(id: string): Promise<ApiResponse<{ deleted: boolean }>> {\r\n    const response = await httpClient.delete<ApiResponse<{ deleted: boolean }>>(`/todos/${id}`)\r\n    if (!response.success) throw new Error(response.error || 'Failed to delete todo')\r\n    return response\r\n  },\r\n\r\n  async getTodoTemplates(category?: string): Promise<ApiResponse<string[]>> {\r\n    if (category && todoTemplates[category as keyof typeof todoTemplates]) {\r\n      return {\r\n        success: true,\r\n        data: todoTemplates[category as keyof typeof todoTemplates]\r\n      }\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      data: Object.values(todoTemplates).flat()\r\n    }\r\n  },\r\n\r\n  // EXPENSE API\r\n  async getExpenses(marketId?: string): Promise<PaginatedResponse<Expense>> {\r\n    const queryParams = new URLSearchParams()\r\n    if (marketId) queryParams.append('marketId', marketId)\r\n\r\n    const response = await httpClient.get<ApiResponse<PaginatedResponse<Expense>>>(`/expenses?${queryParams}`)\r\n    if (!response.success) throw new Error(response.error || 'Failed to fetch expenses')\r\n    return response.data!\r\n  },\r\n\r\n  async createExpense(expense: Omit<Expense, 'id' | 'createdAt' | 'updatedAt'>): Promise<ApiResponse<Expense>> {\r\n    const response = await httpClient.post<ApiResponse<Expense>>('/expenses', expense)\r\n    if (!response.success) throw new Error(response.error || 'Failed to create expense')\r\n    return response\r\n  },\r\n\r\n  async updateExpense(id: string, updates: Partial<Expense>): Promise<ApiResponse<Expense>> {\r\n    const response = await httpClient.patch<ApiResponse<Expense>>(`/expenses/${id}`, updates)\r\n    if (!response.success) throw new Error(response.error || 'Failed to update expense')\r\n    return response\r\n  },\r\n\r\n  async deleteExpense(id: string): Promise<ApiResponse<{ deleted: boolean }>> {\r\n    const response = await httpClient.delete<ApiResponse<{ deleted: boolean }>>(`/expenses/${id}`)\r\n    if (!response.success) throw new Error(response.error || 'Failed to delete expense')\r\n    return response\r\n  },\r\n\r\n  async getExpenseSummary(marketId?: string): Promise<ApiResponse<{\r\n    totalExpenses: number\r\n    expensesByCategory: Record<ExpenseCategory, number>\r\n    expensesByMonth: Record<string, number>\r\n  }>> {\r\n    const queryParams = new URLSearchParams()\r\n    if (marketId) queryParams.append('marketId', marketId)\r\n\r\n    const response = await httpClient.get<ApiResponse<{\r\n      totalExpenses: number\r\n      expensesByCategory: Record<ExpenseCategory, number>\r\n      expensesByMonth: Record<string, number>\r\n    }>>(`/expenses/market/${marketId || '0'}/summary`)\r\n    if (!response.success) throw new Error(response.error || 'Failed to fetch expense summary')\r\n    return response\r\n  }\r\n}\r\n\r\nexport default trackingApi\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\features\\tracking\\trackingStore.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\layouts\\AdminLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\layouts\\AuthLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\layouts\\DashboardLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\layouts\\MainLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\layouts\\PromoterLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\lib\\httpClient.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\main.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":13,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[517,520],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[517,520],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":24,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[824,827],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[824,827],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react'\r\nimport ReactDOM from 'react-dom/client'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query'\r\nimport { ReactQueryDevtools } from '@tanstack/react-query-devtools'\r\nimport App from './App.tsx'\r\nimport { ErrorBoundary } from './components/ErrorBoundary.tsx'\r\nimport './styles/globals.css'\r\nimport 'uno.css'\r\n\r\n// Enable React Router v7 future flags to suppress warnings\r\nif (typeof window !== 'undefined') {\r\n  (window as any).ReactRouterV6_future = {\r\n    v7_startTransition: true,\r\n    v7_relativeSplatPath: true,\r\n  }\r\n}\r\n\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      staleTime: 5 * 60 * 1000, // 5 minutes\r\n      gcTime: 10 * 60 * 1000, // 10 minutes\r\n      retry: (failureCount, error: any) => {\r\n        if (error?.status === 404) return false\r\n        return failureCount < 3\r\n      },\r\n    },\r\n    mutations: {\r\n      retry: 1,\r\n    },\r\n  },\r\n})\r\n\r\nReactDOM.createRoot(document.getElementById('root')!).render(\r\n  <React.StrictMode>\r\n    <ErrorBoundary>\r\n      <BrowserRouter>\r\n        <QueryClientProvider client={queryClient}>\r\n          <App />\r\n          <ReactQueryDevtools initialIsOpen={false} />\r\n        </QueryClientProvider>\r\n      </BrowserRouter>\r\n    </ErrorBoundary>\r\n  </React.StrictMode>,\r\n)","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\AboutPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\ContactPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\DashboardRedirectPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\HomePage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\MyMarketsPage.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":55,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":55,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1878,1881],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1878,1881],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { MarketGrid } from '@/components/MarketGrid'\r\nimport { MarketCalendar } from '@/components/MarketCalendar'\r\nimport { EmailAlertsSettings } from '@/components/EmailAlertsSettings'\r\nimport { ExportModal } from '@/components/ExportModal'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { Card } from '@/components/ui/Card'\r\nimport { useTrackedMarkets } from '@/features/markets/hooks/useMarkets'\r\nimport { Market } from '@/types'\r\nimport { cn } from '@/utils/cn'\r\n\r\nexport const MyMarketsPage: React.FC = () => {\r\n  const [activeTab, setActiveTab] = useState<'tracked' | 'recent'>('tracked')\r\n  const [showCalendar, setShowCalendar] = useState(false)\r\n  const [showEmailSettings, setShowEmailSettings] = useState(false)\r\n  const [showExportModal, setShowExportModal] = useState(false)\r\n  const [emailPreferences, setEmailPreferences] = useState({\r\n    marketUpdates: true,\r\n    applicationDeadlines: true,\r\n    newMarketAnnouncements: true,\r\n    eventReminders: true,\r\n    weeklyDigest: false,\r\n    marketingEmails: false,\r\n    frequency: 'immediate' as 'immediate' | 'daily' | 'weekly' | 'monthly'\r\n  })\r\n  \r\n  const {\r\n    trackedMarkets,\r\n    trackedMarketIds,\r\n    isLoading,\r\n    trackMarket,\r\n    untrackMarket,\r\n    isMarketTracked,\r\n    refreshTracked\r\n  } = useTrackedMarkets()\r\n\r\n  const handleTrackToggle = async (marketId: string) => {\r\n    if (isMarketTracked(marketId)) {\r\n      await untrackMarket(marketId)\r\n    } else {\r\n      await trackMarket(marketId)\r\n    }\r\n  }\r\n\r\n  const handleRefresh = async () => {\r\n    await refreshTracked()\r\n  }\r\n\r\n  const handleMarketSelect = (market: Market) => {\r\n    // Navigate to market detail or perform other action\r\n    console.log('Selected market:', market.name)\r\n  }\r\n\r\n  const handleEmailSettingsSave = async (preferences: any) => {\r\n    // Save email preferences - in a real app, this would call an API\r\n    setEmailPreferences(preferences)\r\n    console.log('Email preferences saved:', preferences)\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background\">\r\n      {/* Header */}\r\n      <div className=\"border-b bg-card\">\r\n        <div className=\"container mx-auto px-4 py-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold\">My Markets</h1>\r\n              <p className=\"text-muted-foreground mt-1\">\r\n                Track your favorite markets and stay updated on events\r\n              </p>\r\n            </div>\r\n            \r\n            <div className=\"flex items-center gap-3\">\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={handleRefresh}\r\n                disabled={isLoading}\r\n              >\r\n                <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\r\n                </svg>\r\n                Refresh\r\n              </Button>\r\n              \r\n              <Link to=\"/markets\">\r\n                <Button>\r\n                  Discover Markets\r\n                </Button>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container mx-auto px-4 py-6\">\r\n        {/* Stats Cards */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n          <Card className=\"p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-muted-foreground\">Tracked Markets</p>\r\n                <p className=\"text-3xl font-bold\">{trackedMarkets.length}</p>\r\n              </div>\r\n              <div className=\"w-12 h-12 bg-accent/10 rounded-lg flex items-center justify-center\">\r\n                <svg className=\"w-6 h-6 text-accent\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\" />\r\n                </svg>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n          \r\n          <Card className=\"p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-muted-foreground\">Active Events</p>\r\n                <p className=\"text-3xl font-bold\">\r\n                  {trackedMarkets.filter(m => m.status === 'active').length}\r\n                </p>\r\n              </div>\r\n              <div className=\"w-12 h-12 bg-success/10 rounded-lg flex items-center justify-center\">\r\n                <svg className=\"w-6 h-6 text-success\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\r\n                </svg>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n          \r\n          <Card className=\"p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-muted-foreground\">This Week</p>\r\n                <p className=\"text-3xl font-bold\">\r\n                  {trackedMarkets.filter(m => m.schedule && m.schedule.length > 0).length}\r\n                </p>\r\n              </div>\r\n              <div className=\"w-12 h-12 bg-warning/10 rounded-lg flex items-center justify-center\">\r\n                <svg className=\"w-6 h-6 text-warning\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                </svg>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"mb-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex space-x-1\">\r\n              <button\r\n                className={cn(\r\n                  \"px-4 py-2 text-sm font-medium rounded-lg transition-colors\",\r\n                  activeTab === 'tracked'\r\n                    ? \"bg-accent text-accent-foreground\"\r\n                    : \"text-muted-foreground hover:text-foreground hover:bg-muted\"\r\n                )}\r\n                onClick={() => setActiveTab('tracked')}\r\n              >\r\n                Tracked Markets ({trackedMarkets.length})\r\n              </button>\r\n              <button\r\n                className={cn(\r\n                  \"px-4 py-2 text-sm font-medium rounded-lg transition-colors\",\r\n                  activeTab === 'recent'\r\n                    ? \"bg-accent text-accent-foreground\"\r\n                    : \"text-muted-foreground hover:text-foreground hover:bg-muted\"\r\n                )}\r\n                onClick={() => setActiveTab('recent')}\r\n              >\r\n                Recently Viewed\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        {activeTab === 'tracked' && (\r\n          <div>\r\n            {trackedMarkets.length > 0 ? (\r\n              <MarketGrid\r\n                markets={trackedMarkets}\r\n                isLoading={isLoading}\r\n                onTrack={handleTrackToggle}\r\n                onUntrack={handleTrackToggle}\r\n                trackedMarketIds={trackedMarketIds}\r\n                emptyStateProps={{\r\n                  title: \"No tracked markets yet\",\r\n                  description: \"Start tracking markets you're interested in to see them here.\",\r\n                  action: (\r\n                    <Link to=\"/markets\">\r\n                      <Button>Discover Markets</Button>\r\n                    </Link>\r\n                  )\r\n                }}\r\n              />\r\n            ) : (\r\n              <div className=\"text-center py-12\">\r\n                <div className=\"w-16 h-16 mx-auto mb-4 rounded-full bg-muted flex items-center justify-center\">\r\n                  <svg className=\"w-8 h-8 text-muted-foreground\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\" />\r\n                  </svg>\r\n                </div>\r\n                <h3 className=\"text-lg font-medium mb-2\">No tracked markets yet</h3>\r\n                <p className=\"text-muted-foreground mb-6 max-w-md mx-auto\">\r\n                  Start tracking markets you're interested in by clicking the track button on any market.\r\n                </p>\r\n                <div className=\"space-x-3\">\r\n                  <Link to=\"/markets\">\r\n                    <Button>Discover Markets</Button>\r\n                  </Link>\r\n                  <Button variant=\"outline\" onClick={handleRefresh}>\r\n                    Refresh\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'recent' && (\r\n          <div className=\"text-center py-12\">\r\n            <div className=\"w-16 h-16 mx-auto mb-4 rounded-full bg-muted flex items-center justify-center\">\r\n              <svg className=\"w-8 h-8 text-muted-foreground\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n            </div>\r\n            <h3 className=\"text-lg font-medium mb-2\">No recent activity</h3>\r\n            <p className=\"text-muted-foreground mb-6 max-w-md mx-auto\">\r\n              Markets you view will appear here for quick access.\r\n            </p>\r\n            <Link to=\"/markets\">\r\n              <Button>Browse Markets</Button>\r\n            </Link>\r\n          </div>\r\n        )}\r\n\r\n        {/* Quick Actions */}\r\n        {trackedMarkets.length > 0 && (\r\n          <Card className=\"p-6 mt-8\">\r\n            <h3 className=\"text-lg font-semibold mb-4\">Quick Actions</h3>\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n              <Link to=\"/markets\">\r\n                <Button variant=\"outline\" className=\"w-full justify-start\">\r\n                  <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n                  </svg>\r\n                  Find More Markets\r\n                </Button>\r\n              </Link>\r\n              \r\n              <Button \r\n                variant=\"outline\" \r\n                className=\"w-full justify-start\"\r\n                onClick={() => setShowCalendar(true)}\r\n              >\r\n                <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3a4 4 0 118 0v4m-4 12v4m-4-4h.01M16 8h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                </svg>\r\n                View Calendar\r\n              </Button>\r\n              \r\n              <Button \r\n                variant=\"outline\" \r\n                className=\"w-full justify-start\"\r\n                onClick={() => setShowEmailSettings(true)}\r\n              >\r\n                <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n                </svg>\r\n                Email Alerts\r\n              </Button>\r\n              \r\n              <Button \r\n                variant=\"outline\" \r\n                className=\"w-full justify-start\"\r\n                onClick={() => setShowExportModal(true)}\r\n              >\r\n                <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n                </svg>\r\n                Export List\r\n              </Button>\r\n            </div>\r\n          </Card>\r\n        )}\r\n\r\n        {/* Calendar Modal */}\r\n        {showCalendar && (\r\n          <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\r\n            <div className=\"bg-white rounded-lg max-w-6xl w-full max-h-[90vh] overflow-auto\">\r\n              <div className=\"p-6\">\r\n                <div className=\"flex items-center justify-between mb-6\">\r\n                  <h2 className=\"text-xl font-semibold\">Market Calendar</h2>\r\n                  <Button \r\n                    variant=\"outline\" \r\n                    size=\"sm\"\r\n                    onClick={() => setShowCalendar(false)}\r\n                  >\r\n                    Close\r\n                  </Button>\r\n                </div>\r\n                <MarketCalendar\r\n                  markets={trackedMarkets}\r\n                  onMarketSelect={handleMarketSelect}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Email Alerts Settings Modal */}\r\n        <EmailAlertsSettings\r\n          isOpen={showEmailSettings}\r\n          onClose={() => setShowEmailSettings(false)}\r\n          onSave={handleEmailSettingsSave}\r\n          initialPreferences={emailPreferences}\r\n        />\r\n\r\n        {/* Export Modal */}\r\n        <ExportModal\r\n          isOpen={showExportModal}\r\n          onClose={() => setShowExportModal(false)}\r\n          markets={trackedMarkets}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\NotFoundPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\NotificationsPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\ProfilePage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\SettingsPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\admin\\AdminAnalyticsPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\admin\\AdminApplicationsPage.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":360,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":360,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12776,12779],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12776,12779],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":360,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":360,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12789,12792],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12789,12792],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":372,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":372,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13270,13273],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13270,13273],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":372,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":372,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13283,13286],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13283,13286],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":377,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":377,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13462,13465],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13462,13465],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":377,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":377,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13475,13478],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13475,13478],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":387,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":387,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13890,13893],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13890,13893],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":387,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":387,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13903,13906],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13903,13906],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":397,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":397,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14312,14315],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14312,14315],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":397,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":397,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14325,14328],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14325,14328],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useCallback, useEffect } from 'react'\r\nimport { Card } from '@/components/ui/Card'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { Badge } from '@/components/ui/Badge'\r\nimport { Input } from '@/components/ui/Input'\r\nimport { Select } from '@/components/ui/Select'\r\nimport { Table } from '@/components/ui/Table'\r\nimport { Spinner } from '@/components/ui/Spinner'\r\nimport { Alert } from '@/components/ui/Alert'\r\nimport { useApplications } from '@/features/applications/hooks/useApplications'\r\nimport { ApplicationStatus } from '@/types'\r\nimport { \r\n  FileText, \r\n  Search, \r\n  Filter, \r\n  MoreVertical, \r\n  Edit, \r\n  Eye, \r\n  CheckCircle, \r\n  XCircle, \r\n  Clock,\r\n  Calendar,\r\n  AlertTriangle,\r\n  Download,\r\n  RefreshCw,\r\n  FileCheck\r\n} from 'lucide-react'\r\n\r\nexport function AdminApplicationsPage() {\r\n  const { applications, isLoading, error, searchApplications, applyFilters, updateStatus } = useApplications()\r\n  const [searchQuery, setSearchQuery] = useState('')\r\n  const [selectedStatus] = useState<string>('all')\r\n\r\n  // Application statistics\r\n  const applicationStats = {\r\n    total: applications.length,\r\n    pending: applications.filter(app => app.status === 'submitted' || app.status === 'under-review').length,\r\n    approved: applications.filter(app => app.status === 'approved').length,\r\n    rejected: applications.filter(app => app.status === 'rejected').length,\r\n    draft: applications.filter(app => app.status === 'draft').length,\r\n  }\r\n\r\n  // Mock data for demonstration\r\n  const recentActivity = [\r\n    {\r\n      id: '1',\r\n      action: 'application_submitted',\r\n      message: 'New application submitted by Sarah Johnson for \"Farmers Market Downtown\"',\r\n      timestamp: '5 minutes ago',\r\n      type: 'info'\r\n    },\r\n    {\r\n      id: '2',\r\n      action: 'application_approved',\r\n      message: 'Application approved for \"Summer Art Fair\" by Mike Chen',\r\n      timestamp: '1 hour ago',\r\n      type: 'success'\r\n    },\r\n    {\r\n      id: '3',\r\n      action: 'application_rejected',\r\n      message: 'Application rejected for \"Community Flea Market\" by Jane Smith',\r\n      timestamp: '2 hours ago',\r\n      type: 'warning'\r\n    },\r\n    {\r\n      id: '4',\r\n      action: 'application_under_review',\r\n      message: 'Application marked as under review for \"Food Festival 2024\"',\r\n      timestamp: '3 hours ago',\r\n      type: 'info'\r\n    }\r\n  ]\r\n\r\n  const getStatusBadge = (status: ApplicationStatus) => {\r\n    switch (status) {\r\n      case 'submitted':\r\n        return <Badge variant=\"default\">Submitted</Badge>\r\n      case 'under-review':\r\n        return <Badge variant=\"warning\">Under Review</Badge>\r\n      case 'approved':\r\n        return <Badge variant=\"default\">Approved</Badge>\r\n      case 'rejected':\r\n        return <Badge variant=\"destructive\">Rejected</Badge>\r\n      case 'draft':\r\n        return <Badge variant=\"outline\">Draft</Badge>\r\n      case 'withdrawn':\r\n        return <Badge variant=\"muted\">Withdrawn</Badge>\r\n      default:\r\n        return <Badge variant=\"muted\">{status}</Badge>\r\n    }\r\n  }\r\n\r\n  const getActivityIcon = (type: string) => {\r\n    switch (type) {\r\n      case 'success': return <CheckCircle className=\"h-4 w-4 text-green-500\" />\r\n      case 'warning': return <XCircle className=\"h-4 w-4 text-red-500\" />\r\n      case 'info': return <AlertTriangle className=\"h-4 w-4 text-blue-500\" />\r\n      default: return <FileText className=\"h-4 w-4 text-gray-500\" />\r\n    }\r\n  }\r\n\r\n  const getActivityBadge = (type: string) => {\r\n    switch (type) {\r\n      case 'success': return <Badge variant=\"default\">Success</Badge>\r\n      case 'warning': return <Badge variant=\"warning\">Warning</Badge>\r\n      case 'info': return <Badge variant=\"outline\">Info</Badge>\r\n      default: return <Badge variant=\"muted\">Activity</Badge>\r\n    }\r\n  }\r\n\r\n  const handleSearch = useCallback(async () => {\r\n    if (searchQuery.trim()) {\r\n      await searchApplications(searchQuery)\r\n    }\r\n  }, [searchQuery, searchApplications])\r\n\r\n  const handleStatusFilter = useCallback(async (status: string) => {\r\n    const newFilters = status === 'all' ? {} : { status: [status as ApplicationStatus] }\r\n    await applyFilters(newFilters)\r\n  }, [applyFilters])\r\n\r\n  const handleApplicationAction = useCallback(async (applicationId: string, action: 'approve' | 'reject' | 'under-review') => {\r\n    let status: ApplicationStatus\r\n    \r\n    switch (action) {\r\n      case 'approve':\r\n        status = 'approved'\r\n        break\r\n      case 'reject':\r\n        status = 'rejected'\r\n        break\r\n      case 'under-review':\r\n        status = 'under-review'\r\n        break\r\n      default:\r\n        return\r\n    }\r\n    \r\n    await updateStatus(applicationId, status)\r\n  }, [updateStatus])\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    // Component mounted\r\n  }, [])\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        <Alert variant=\"destructive\">\r\n          <AlertTriangle className=\"h-4 w-4\" />\r\n          <span>{error}</span>\r\n        </Alert>\r\n        <Button onClick={() => console.log('Retry')}>Retry</Button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\r\n        <div>\r\n          <h1 className=\"text-2xl sm:text-3xl font-bold\">Application Management</h1>\r\n          <p className=\"text-muted-foreground\">\r\n            Review and manage all vendor applications\r\n          </p>\r\n        </div>\r\n        <div className=\"flex items-center gap-2 flex-shrink-0\">\r\n          <Button variant=\"outline\">\r\n            <Download className=\"h-4 w-4 mr-2\" />\r\n            Export Applications\r\n          </Button>\r\n          <Button>\r\n            <FileCheck className=\"h-4 w-4 mr-2\" />\r\n            Bulk Review\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Application Statistics */}\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6\">\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-muted-foreground\">Total Applications</p>\r\n              <p className=\"text-3xl font-bold\">{applicationStats.total}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-blue-100 rounded-full\">\r\n              <FileText className=\"h-6 w-6 text-blue-600\" />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-muted-foreground\">Pending Review</p>\r\n              <p className=\"text-3xl font-bold\">{applicationStats.pending}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-yellow-100 rounded-full\">\r\n              <Clock className=\"h-6 w-6 text-yellow-600\" />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-muted-foreground\">Approved</p>\r\n              <p className=\"text-3xl font-bold\">{applicationStats.approved}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-green-100 rounded-full\">\r\n              <CheckCircle className=\"h-6 w-6 text-green-600\" />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-muted-foreground\">Rejected</p>\r\n              <p className=\"text-3xl font-bold\">{applicationStats.rejected}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-red-100 rounded-full\">\r\n              <XCircle className=\"h-6 w-6 text-red-600\" />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-muted-foreground\">Draft</p>\r\n              <p className=\"text-3xl font-bold\">{applicationStats.draft}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-purple-100 rounded-full\">\r\n              <Edit className=\"h-6 w-6 text-purple-600\" />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Search and Filters */}\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex items-center gap-4 mb-4\">\r\n          <div className=\"flex-1\">\r\n            <Input\r\n              placeholder=\"Search applications...\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              onKeyPress={(e) => e.key === 'Enter' && handleSearch()}\r\n              className=\"w-full\"\r\n            />\r\n          </div>\r\n        <Button onClick={handleSearch} disabled={isLoading}>\r\n            <Search className=\"h-4 w-4 mr-2\" />\r\n            Search\r\n          </Button>\r\n          <Button variant=\"outline\" onClick={() => console.log('Clear filters')}>\r\n            <Filter className=\"h-4 w-4 mr-2\" />\r\n            Clear Filters\r\n          </Button>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-4\">\r\n          <Select\r\n            value={selectedStatus}\r\n            onValueChange={(value) => handleStatusFilter(value)}\r\n            className=\"w-48\"\r\n            options={[\r\n              { value: 'all', label: 'All Statuses' },\r\n              { value: 'submitted', label: 'Submitted' },\r\n              { value: 'under-review', label: 'Under Review' },\r\n              { value: 'approved', label: 'Approved' },\r\n              { value: 'rejected', label: 'Rejected' },\r\n              { value: 'draft', label: 'Draft' },\r\n              { value: 'withdrawn', label: 'Withdrawn' }\r\n            ]}\r\n          />\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Quick Actions */}\r\n      <Card className=\"p-6\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">Quick Actions</h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n          <Button variant=\"outline\" className=\"h-16 flex flex-col items-center gap-2\">\r\n            <FileCheck className=\"h-5 w-5\" />\r\n            <span>Bulk Approve</span>\r\n          </Button>\r\n          <Button variant=\"outline\" className=\"h-16 flex flex-col items-center gap-2\">\r\n            <XCircle className=\"h-5 w-5\" />\r\n            <span>Bulk Reject</span>\r\n          </Button>\r\n          <Button variant=\"outline\" className=\"h-16 flex flex-col items-center gap-2\">\r\n            <Clock className=\"h-5 w-5\" />\r\n            <span>Mark Under Review</span>\r\n          </Button>\r\n          <Button variant=\"outline\" className=\"h-16 flex flex-col items-center gap-2\">\r\n            <Download className=\"h-5 w-5\" />\r\n            <span>Export Data</span>\r\n          </Button>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Recent Activity */}\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h3 className=\"text-lg font-semibold\">Recent Activity</h3>\r\n          <Button variant=\"outline\" size=\"sm\">\r\n            View All Activity\r\n          </Button>\r\n        </div>\r\n        <div className=\"space-y-3\">\r\n          {recentActivity.map((activity) => (\r\n            <div key={activity.id} className=\"flex items-center justify-between p-3 border rounded-lg\">\r\n              <div className=\"flex items-center gap-3\">\r\n                {getActivityIcon(activity.type)}\r\n                <div>\r\n                  <p className=\"text-sm font-medium\">{activity.message}</p>\r\n                  <p className=\"text-xs text-muted-foreground\">{activity.timestamp}</p>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                {getActivityBadge(activity.type)}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Applications Table */}\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h3 className=\"text-lg font-semibold\">All Applications</h3>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Button variant=\"outline\" size=\"sm\">\r\n              Export\r\n            </Button>\r\n            <Button variant=\"outline\" size=\"sm\">\r\n              <MoreVertical className=\"h-4 w-4\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {isLoading ? (\r\n          <div className=\"flex items-center justify-center p-8\">\r\n            <Spinner />\r\n            <span className=\"ml-2\">Loading applications...</span>\r\n          </div>\r\n        ) : (\r\n          <Table\r\n            columns={[\r\n              {\r\n                title: 'Application',\r\n                key: 'application',\r\n                render: (_: any, record: any) => (\r\n                  <div>\r\n                    <p className=\"font-medium\">{record.market?.name || 'Unknown Market'}</p>\r\n                    <p className=\"text-sm text-muted-foreground\">\r\n                      Vendor: {record.vendor?.firstName} {record.vendor?.lastName}\r\n                    </p>\r\n                  </div>\r\n                )\r\n              },\r\n              {\r\n                title: 'Status',\r\n                key: 'status',\r\n                render: (_: any, record: any) => getStatusBadge(record.status)\r\n              },\r\n              {\r\n                title: 'Submitted Date',\r\n                key: 'createdAt',\r\n                render: (_: any, record: any) => (\r\n                  <div className=\"flex items-center gap-1\">\r\n                    <Calendar className=\"h-4 w-4 text-muted-foreground\" />\r\n                    <span>{new Date(record.createdAt).toLocaleDateString()}</span>\r\n                  </div>\r\n                )\r\n              },\r\n              {\r\n                title: 'Last Updated',\r\n                key: 'updatedAt',\r\n                render: (_: any, record: any) => (\r\n                  <div className=\"flex items-center gap-1\">\r\n                    <RefreshCw className=\"h-4 w-4 text-muted-foreground\" />\r\n                    <span>{new Date(record.updatedAt).toLocaleDateString()}</span>\r\n                  </div>\r\n                )\r\n              },\r\n              {\r\n                title: 'Actions',\r\n                key: 'actions',\r\n                render: (_: any, record: any) => (\r\n                  <div className=\"flex items-center gap-1\">\r\n                    <Button variant=\"outline\" size=\"sm\">\r\n                      <Eye className=\"h-4 w-4\" />\r\n                    </Button>\r\n                    <Button \r\n                      variant=\"outline\" \r\n                      size=\"sm\"\r\n                      onClick={() => handleApplicationAction(record.id, 'approve')}\r\n                      disabled={record.status === 'approved'}\r\n                    >\r\n                      <CheckCircle className=\"h-4 w-4\" />\r\n                    </Button>\r\n                    <Button \r\n                      variant=\"outline\" \r\n                      size=\"sm\"\r\n                      onClick={() => handleApplicationAction(record.id, 'reject')}\r\n                      disabled={record.status === 'rejected'}\r\n                    >\r\n                      <XCircle className=\"h-4 w-4\" />\r\n                    </Button>\r\n                    <Button \r\n                      variant=\"outline\" \r\n                      size=\"sm\"\r\n                      onClick={() => handleApplicationAction(record.id, 'under-review')}\r\n                      disabled={record.status === 'under-review'}\r\n                    >\r\n                      <Clock className=\"h-4 w-4\" />\r\n                    </Button>\r\n                  </div>\r\n                )\r\n              }\r\n            ]}\r\n            data={applications}\r\n            loading={isLoading}\r\n            emptyText=\"No applications found\"\r\n          />\r\n        )}\r\n      </Card>\r\n    </div>\r\n  )\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\admin\\AdminDashboardPage.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchAdminStats'. Either include it or remove the dependency array.","line":26,"column":6,"nodeType":"ArrayExpression","endLine":26,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [fetchAdminStats]","fix":{"range":[561,563],"text":"[fetchAdminStats]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport {\r\n  Users,\r\n  Store,\r\n  FileText,\r\n  Shield,\r\n  TrendingUp,\r\n  Clock,\r\n  Activity\r\n} from 'lucide-react'\r\nimport { Card } from '@/components/ui/Card'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { useAdmin } from '@/features/admin/hooks/useAdmin'\r\n\r\nexport function AdminDashboardPage() {\r\n  const navigate = useNavigate()\r\n  const {\r\n    stats,\r\n    isLoadingStats,\r\n    fetchAdminStats\r\n  } = useAdmin()\r\n\r\n  useEffect(() => {\r\n    fetchAdminStats()\r\n  }, [])\r\n\r\n  const formatNumber = (value: number) => {\r\n    return new Intl.NumberFormat('en-US').format(value)\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold\">Admin Dashboard</h1>\r\n          <p className=\"text-muted-foreground\">Overview of system metrics and activity</p>\r\n        </div>\r\n        <Button\r\n          variant=\"outline\"\r\n          onClick={fetchAdminStats}\r\n          disabled={isLoadingStats}\r\n        >\r\n          <Activity className=\"h-4 w-4 mr-2\" />\r\n          Refresh\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Key Metrics */}\r\n      {stats && (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n          <Card className=\"p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-muted-foreground\">Total Users</p>\r\n                <p className=\"text-3xl font-bold\">{formatNumber(stats.totalUsers)}</p>\r\n                <p className=\"text-sm text-green-600 flex items-center mt-1\">\r\n                  <TrendingUp className=\"h-4 w-4 mr-1\" />\r\n                  +{formatNumber(stats.userGrowthRate)}% growth\r\n                </p>\r\n              </div>\r\n              <div className=\"p-3 bg-blue-100 rounded-full\">\r\n                <Users className=\"h-6 w-6 text-blue-600\" />\r\n              </div>\r\n            </div>\r\n          </Card>\r\n\r\n          <Card className=\"p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-muted-foreground\">Active Markets</p>\r\n                <p className=\"text-3xl font-bold\">{formatNumber(stats.totalMarkets)}</p>\r\n                <p className=\"text-sm text-muted-foreground flex items-center mt-1\">\r\n                  <Activity className=\"h-4 w-4 mr-1\" />\r\n                  {formatNumber(stats.marketplaceActivity)} this month\r\n                </p>\r\n              </div>\r\n              <div className=\"p-3 bg-green-100 rounded-full\">\r\n                <Store className=\"h-6 w-6 text-green-600\" />\r\n              </div>\r\n            </div>\r\n          </Card>\r\n\r\n          <Card className=\"p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-muted-foreground\">Applications</p>\r\n                <p className=\"text-3xl font-bold\">{formatNumber(stats.totalApplications)}</p>\r\n                <p className=\"text-sm text-yellow-600 flex items-center mt-1\">\r\n                  <Clock className=\"h-4 w-4 mr-1\" />\r\n                  {formatNumber(stats.pendingApplications)} pending\r\n                </p>\r\n              </div>\r\n              <div className=\"p-3 bg-yellow-100 rounded-full\">\r\n                <FileText className=\"h-6 w-6 text-yellow-600\" />\r\n              </div>\r\n            </div>\r\n          </Card>\r\n\r\n          <Card className=\"p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-muted-foreground\">Reports</p>\r\n                <p className=\"text-3xl font-bold\">{formatNumber(stats.reportedContent || 0)}</p>\r\n                <p className=\"text-sm text-muted-foreground flex items-center mt-1\">\r\n                  <Shield className=\"h-4 w-4 mr-1\" />\r\n                  Moderation queue\r\n                </p>\r\n              </div>\r\n              <div className=\"p-3 bg-red-100 rounded-full\">\r\n                <Shield className=\"h-6 w-6 text-red-600\" />\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      )}\r\n\r\n      {/* Quick Actions */}\r\n      <Card className=\"p-6\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">Admin Actions</h3>\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n          <Button className=\"justify-start\" variant=\"outline\" onClick={() => navigate('/admin/users')}>\r\n            <Users className=\"h-4 w-4 mr-2\" />\r\n            Manage Users\r\n          </Button>\r\n          <Button className=\"justify-start\" variant=\"outline\" onClick={() => navigate('/admin/markets')}>\r\n            <Store className=\"h-4 w-4 mr-2\" />\r\n            Review Markets\r\n          </Button>\r\n          <Button className=\"justify-start\" variant=\"outline\" onClick={() => navigate('/admin/moderation')}>\r\n            <Shield className=\"h-4 w-4 mr-2\" />\r\n            Moderate Content\r\n          </Button>\r\n          <Button className=\"justify-start\" variant=\"outline\" onClick={() => navigate('/admin/applications')}>\r\n            <FileText className=\"h-4 w-4 mr-2\" />\r\n            Process Apps\r\n          </Button>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  )\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\admin\\AdminMarketsPage.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":421,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":421,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14899,14902],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14899,14902],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":421,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":421,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14912,14915],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14912,14915],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":431,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":431,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15283,15286],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15283,15286],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":431,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":431,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15296,15299],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15296,15299],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":436,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":436,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15468,15471],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15468,15471],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":436,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":436,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15481,15484],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15481,15484],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":441,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":441,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15653,15656],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15653,15656],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":441,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":441,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15666,15669],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15666,15669],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":451,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":451,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[16081,16084],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[16081,16084],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":451,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":451,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[16094,16097],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[16094,16097],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":461,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":461,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[16500,16503],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[16500,16503],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":461,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":461,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[16513,16516],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[16513,16516],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":471,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":471,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[16921,16924],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[16921,16924],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":471,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":471,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[16934,16937],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[16934,16937],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useCallback, useEffect } from 'react'\r\nimport { Card } from '@/components/ui/Card'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { Badge } from '@/components/ui/Badge'\r\nimport { Input } from '@/components/ui/Input'\r\nimport { Select } from '@/components/ui/Select'\r\nimport { Table } from '@/components/ui/Table'\r\nimport { Spinner } from '@/components/ui/Spinner'\r\nimport { Alert } from '@/components/ui/Alert'\r\nimport { useMarkets } from '@/features/markets/hooks/useMarkets'\r\nimport { MarketStatus, MarketCategory } from '@/types'\r\nimport { \r\n  Store, \r\n  Plus, \r\n  Search, \r\n  Filter, \r\n  MoreVertical, \r\n  Edit, \r\n \r\n  Eye, \r\n  CheckCircle, \r\n  XCircle, \r\n  Pause,\r\n  Play,\r\n  MapPin,\r\n  Calendar,\r\n  Users,\r\n  TrendingUp,\r\n  AlertTriangle\r\n} from 'lucide-react'\r\n\r\nexport function AdminMarketsPage() {\r\n  const { markets, isLoading, error, filters, setFilters, clearFilters, refresh } = useMarkets()\r\n  const [searchQuery, setSearchQuery] = useState('')\r\n  const [selectedStatus] = useState<string>('all')\r\n  const [selectedCategory] = useState<string>('all')\r\n\r\n  // Market statistics\r\n  const marketStats = {\r\n    total: markets.length,\r\n    active: markets.filter(m => m.status === 'active').length,\r\n    draft: markets.filter(m => m.status === 'draft').length,\r\n    cancelled: markets.filter(m => m.status === 'cancelled').length,\r\n    completed: markets.filter(m => m.status === 'completed').length,\r\n  }\r\n\r\n  // Mock data for demonstration\r\n  const recentActivity = [\r\n    {\r\n      id: '1',\r\n      action: 'market_created',\r\n      message: 'New market created: \"Summer Art Fair\"',\r\n      timestamp: '10 minutes ago',\r\n      type: 'success'\r\n    },\r\n    {\r\n      id: '2',\r\n      action: 'market_cancelled',\r\n      message: 'Market cancelled: \"Winter Craft Market\"',\r\n      timestamp: '1 hour ago',\r\n      type: 'warning'\r\n    },\r\n    {\r\n      id: '3',\r\n      action: 'market_approved',\r\n      message: 'Market approved: \"Farmers Market Downtown\"',\r\n      timestamp: '2 hours ago',\r\n      type: 'info'\r\n    },\r\n    {\r\n      id: '4',\r\n      action: 'market_updated',\r\n      message: 'Market details updated: \"Community Flea Market\"',\r\n      timestamp: '3 hours ago',\r\n      type: 'success'\r\n    }\r\n  ]\r\n\r\n  const getStatusBadge = (status: MarketStatus) => {\r\n    switch (status) {\r\n      case 'active':\r\n        return <Badge variant=\"default\">Active</Badge>\r\n      case 'draft':\r\n        return <Badge variant=\"outline\">Draft</Badge>\r\n      case 'cancelled':\r\n        return <Badge variant=\"warning\">Cancelled</Badge>\r\n      case 'completed':\r\n        return <Badge variant=\"muted\">Completed</Badge>\r\n      default:\r\n        return <Badge variant=\"muted\">{status}</Badge>\r\n    }\r\n  }\r\n\r\n  const getCategoryBadge = (category: MarketCategory) => {\r\n    const categoryLabels = {\r\n      'farmers-market': 'Farmers Market',\r\n      'arts-crafts': 'Arts & Crafts',\r\n      'flea-market': 'Flea Market',\r\n      'food-festival': 'Food Festival',\r\n      'holiday-market': 'Holiday Market',\r\n      'craft-show': 'Craft Show',\r\n      'community-event': 'Community Event',\r\n      'night-market': 'Night Market',\r\n      'street-fair': 'Street Fair',\r\n      'vintage-antique': 'Vintage & Antique'\r\n    }\r\n    \r\n    return <Badge variant=\"outline\">{categoryLabels[category]}</Badge>\r\n  }\r\n\r\n  const getActivityIcon = (type: string) => {\r\n    switch (type) {\r\n      case 'success': return <CheckCircle className=\"h-4 w-4 text-green-500\" />\r\n      case 'warning': return <XCircle className=\"h-4 w-4 text-red-500\" />\r\n      case 'info': return <AlertTriangle className=\"h-4 w-4 text-blue-500\" />\r\n      default: return <Store className=\"h-4 w-4 text-gray-500\" />\r\n    }\r\n  }\r\n\r\n  const getActivityBadge = (type: string) => {\r\n    switch (type) {\r\n      case 'success': return <Badge variant=\"default\">Success</Badge>\r\n      case 'warning': return <Badge variant=\"warning\">Warning</Badge>\r\n      case 'info': return <Badge variant=\"outline\">Info</Badge>\r\n      default: return <Badge variant=\"muted\">Activity</Badge>\r\n    }\r\n  }\r\n\r\n  const handleSearch = useCallback(async () => {\r\n    if (searchQuery.trim()) {\r\n      setFilters({ ...filters, search: searchQuery })\r\n      await refresh()\r\n    }\r\n  }, [searchQuery, filters, setFilters, refresh])\r\n\r\n  const handleStatusFilter = useCallback(async (status: MarketStatus | 'all') => {\r\n    const newFilters = { ...filters }\r\n    if (status !== 'all') {\r\n      newFilters.status = [status]\r\n    } else {\r\n      delete newFilters.status\r\n    }\r\n    setFilters(newFilters)\r\n    await refresh()\r\n  }, [filters, setFilters, refresh])\r\n\r\n  const handleCategoryFilter = useCallback(async (category: MarketCategory | 'all') => {\r\n    const newFilters = { ...filters }\r\n    if (category !== 'all') {\r\n      newFilters.category = [category]\r\n    } else {\r\n      delete newFilters.category\r\n    }\r\n    setFilters(newFilters)\r\n    await refresh()\r\n  }, [filters, setFilters, refresh])\r\n\r\n  const handleMarketAction = useCallback(async (marketId: string, action: 'approve' | 'reject' | 'activate' | 'deactivate') => {\r\n    // Note: Market status updates would typically be done through promoter actions\r\n    // For admin functionality, we could implement market moderation features\r\n    // For now, we'll use the existing markets hook pattern\r\n    try {\r\n      switch (action) {\r\n        case 'activate':\r\n          // Would implement market activation logic here\r\n          console.log(`Activating market ${marketId}`)\r\n          break\r\n        case 'deactivate':\r\n          // Would implement market deactivation logic here\r\n          console.log(`Deactivating market ${marketId}`)\r\n          break\r\n        case 'approve':\r\n          // Would implement market approval logic here\r\n          console.log(`Approving market ${marketId}`)\r\n          break\r\n        case 'reject':\r\n          // Would implement market rejection logic here\r\n          console.log(`Rejecting market ${marketId}`)\r\n          break\r\n        default:\r\n          console.warn(`Unknown action: ${action}`)\r\n      }\r\n    } catch (error) {\r\n      console.error(`Failed to ${action} market:`, error)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    // Auto-refresh when component mounts\r\n    refresh()\r\n  }, [refresh])\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        <Alert variant=\"destructive\">\r\n          <AlertTriangle className=\"h-4 w-4\" />\r\n          <span>{error}</span>\r\n        </Alert>\r\n        <Button onClick={refresh}>Retry</Button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold\">Market Management</h1>\r\n          <p className=\"text-muted-foreground\">\r\n            Manage and oversee all markets in the system\r\n          </p>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <Button variant=\"outline\">\r\n            <Plus className=\"h-4 w-4 mr-2\" />\r\n            Add Market\r\n          </Button>\r\n          <Button>\r\n            <Plus className=\"h-4 w-4 mr-2\" />\r\n            Bulk Import\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Market Statistics */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-5 gap-6\">\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-muted-foreground\">Total Markets</p>\r\n              <p className=\"text-3xl font-bold\">{marketStats.total}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-blue-100 rounded-full\">\r\n              <Store className=\"h-6 w-6 text-blue-600\" />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-muted-foreground\">Active Markets</p>\r\n              <p className=\"text-3xl font-bold\">{marketStats.active}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-green-100 rounded-full\">\r\n              <Play className=\"h-6 w-6 text-green-600\" />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-muted-foreground\">Draft Markets</p>\r\n              <p className=\"text-3xl font-bold\">{marketStats.draft}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-yellow-100 rounded-full\">\r\n              <Pause className=\"h-6 w-6 text-yellow-600\" />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-muted-foreground\">Completed</p>\r\n              <p className=\"text-3xl font-bold\">{marketStats.completed}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-purple-100 rounded-full\">\r\n              <CheckCircle className=\"h-6 w-6 text-purple-600\" />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-muted-foreground\">Cancelled</p>\r\n              <p className=\"text-3xl font-bold\">{marketStats.cancelled}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-red-100 rounded-full\">\r\n              <XCircle className=\"h-6 w-6 text-red-600\" />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Search and Filters */}\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex items-center gap-4 mb-4\">\r\n          <div className=\"flex-1\">\r\n            <Input\r\n              placeholder=\"Search markets...\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              onKeyPress={(e) => e.key === 'Enter' && handleSearch()}\r\n              className=\"w-full\"\r\n            />\r\n          </div>\r\n          <Button onClick={handleSearch} disabled={isLoading}>\r\n            <Search className=\"h-4 w-4 mr-2\" />\r\n            Search\r\n          </Button>\r\n          <Button variant=\"outline\" onClick={clearFilters}>\r\n            <Filter className=\"h-4 w-4 mr-2\" />\r\n            Clear Filters\r\n          </Button>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-4\">\r\n          <Select\r\n            value={selectedStatus}\r\n            onValueChange={(value) => handleStatusFilter(value as MarketStatus | 'all')}\r\n            className=\"w-48\"\r\n            options={[\r\n              { value: 'all', label: 'All Statuses' },\r\n              { value: 'active', label: 'Active' },\r\n              { value: 'draft', label: 'Draft' },\r\n              { value: 'cancelled', label: 'Cancelled' },\r\n              { value: 'completed', label: 'Completed' }\r\n            ]}\r\n          />\r\n\r\n          <Select\r\n            value={selectedCategory}\r\n            onValueChange={(value) => handleCategoryFilter(value as MarketCategory | 'all')}\r\n            className=\"w-48\"\r\n            options={[\r\n              { value: 'all', label: 'All Categories' },\r\n              { value: 'farmers-market', label: 'Farmers Market' },\r\n              { value: 'arts-crafts', label: 'Arts & Crafts' },\r\n              { value: 'flea-market', label: 'Flea Market' },\r\n              { value: 'food-festival', label: 'Food Festival' },\r\n              { value: 'holiday-market', label: 'Holiday Market' },\r\n              { value: 'craft-show', label: 'Craft Show' },\r\n              { value: 'community-event', label: 'Community Event' },\r\n              { value: 'night-market', label: 'Night Market' },\r\n              { value: 'street-fair', label: 'Street Fair' },\r\n              { value: 'vintage-antique', label: 'Vintage & Antique' }\r\n            ]}\r\n          />\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Quick Actions */}\r\n      <Card className=\"p-6\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">Quick Actions</h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n          <Button variant=\"outline\" className=\"h-16 flex flex-col items-center gap-2\">\r\n            <Plus className=\"h-5 w-5\" />\r\n            <span>Create Market</span>\r\n          </Button>\r\n          <Button variant=\"outline\" className=\"h-16 flex flex-col items-center gap-2\">\r\n            <Users className=\"h-5 w-5\" />\r\n            <span>Bulk Actions</span>\r\n          </Button>\r\n          <Button variant=\"outline\" className=\"h-16 flex flex-col items-center gap-2\">\r\n            <TrendingUp className=\"h-5 w-5\" />\r\n            <span>Analytics</span>\r\n          </Button>\r\n          <Button variant=\"outline\" className=\"h-16 flex flex-col items-center gap-2\">\r\n            <MapPin className=\"h-5 w-5\" />\r\n            <span>Location Management</span>\r\n          </Button>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Recent Activity */}\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h3 className=\"text-lg font-semibold\">Recent Activity</h3>\r\n          <Button variant=\"outline\" size=\"sm\">\r\n            View All Activity\r\n          </Button>\r\n        </div>\r\n        <div className=\"space-y-3\">\r\n          {recentActivity.map((activity) => (\r\n            <div key={activity.id} className=\"flex items-center justify-between p-3 border rounded-lg\">\r\n              <div className=\"flex items-center gap-3\">\r\n                {getActivityIcon(activity.type)}\r\n                <div>\r\n                  <p className=\"text-sm font-medium\">{activity.message}</p>\r\n                  <p className=\"text-xs text-muted-foreground\">{activity.timestamp}</p>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                {getActivityBadge(activity.type)}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Markets Table */}\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h3 className=\"text-lg font-semibold\">All Markets</h3>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Button variant=\"outline\" size=\"sm\">\r\n              Export\r\n            </Button>\r\n            <Button variant=\"outline\" size=\"sm\">\r\n              <MoreVertical className=\"h-4 w-4\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {isLoading ? (\r\n          <div className=\"flex items-center justify-center p-8\">\r\n            <Spinner />\r\n            <span className=\"ml-2\">Loading markets...</span>\r\n          </div>\r\n        ) : (\r\n          <Table\r\n            columns={[\r\n              {\r\n                title: 'Market',\r\n                key: 'name',\r\n                render: (_: any, record: any) => (\r\n                  <div>\r\n                    <p className=\"font-medium\">{record.name}</p>\r\n                    <p className=\"text-sm text-muted-foreground\">{record.description}</p>\r\n                  </div>\r\n                )\r\n              },\r\n              {\r\n                title: 'Category',\r\n                key: 'category',\r\n                render: (_: any, record: any) => getCategoryBadge(record.category)\r\n              },\r\n              {\r\n                title: 'Status',\r\n                key: 'status',\r\n                render: (_: any, record: any) => getStatusBadge(record.status)\r\n              },\r\n              {\r\n                title: 'Promoter',\r\n                key: 'promoter',\r\n                render: (_: any, record: any) => (\r\n                  <div>\r\n                    <p className=\"font-medium\">{record.promoter.firstName} {record.promoter.lastName}</p>\r\n                    <p className=\"text-sm text-muted-foreground\">{record.promoter.email}</p>\r\n                  </div>\r\n                )\r\n              },\r\n              {\r\n                title: 'Location',\r\n                key: 'location',\r\n                render: (_: any, record: any) => (\r\n                  <div className=\"flex items-center gap-1\">\r\n                    <MapPin className=\"h-4 w-4 text-muted-foreground\" />\r\n                    <span>{record.location.city}, {record.location.state}</span>\r\n                  </div>\r\n                )\r\n              },\r\n              {\r\n                title: 'Created',\r\n                key: 'createdAt',\r\n                render: (_: any, record: any) => (\r\n                  <div className=\"flex items-center gap-1\">\r\n                    <Calendar className=\"h-4 w-4 text-muted-foreground\" />\r\n                    <span>{new Date(record.createdAt).toLocaleDateString()}</span>\r\n                  </div>\r\n                )\r\n              },\r\n              {\r\n                title: 'Actions',\r\n                key: 'actions',\r\n                render: (_: any, record: any) => (\r\n                  <div className=\"flex items-center gap-1\">\r\n                    <Button variant=\"outline\" size=\"sm\">\r\n                      <Eye className=\"h-4 w-4\" />\r\n                    </Button>\r\n                    <Button variant=\"outline\" size=\"sm\">\r\n                      <Edit className=\"h-4 w-4\" />\r\n                    </Button>\r\n                    <Button \r\n                      variant=\"outline\" \r\n                      size=\"sm\"\r\n                      onClick={() => handleMarketAction(record.id, record.status === 'active' ? 'deactivate' : 'activate')}\r\n                    >\r\n                      {record.status === 'active' ? <Pause className=\"h-4 w-4\" /> : <Play className=\"h-4 w-4\" />}\r\n                    </Button>\r\n                  </div>\r\n                )\r\n              }\r\n            ]}\r\n            data={markets}\r\n            loading={isLoading}\r\n            emptyText=\"No markets found\"\r\n          />\r\n        )}\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\admin\\AdminModerationPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\admin\\AdminSettingsPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\admin\\AdminSupportPage.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"The 'supportTickets' logical expression could make the dependencies of useMemo Hook (at line 75) change on every render. To fix this, wrap the initialization of 'supportTickets' in its own useMemo() Hook.","line":65,"column":9,"nodeType":"VariableDeclarator","endLine":65,"endColumn":49},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":274,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":274,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9327,9330],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9327,9330],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":284,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":284,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9698,9701],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9698,9701],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":289,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":289,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9883,9886],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9883,9886],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":294,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":294,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10064,10067],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10064,10067],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":304,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":304,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10470,10473],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10470,10473],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":314,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":314,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10881,10884],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10881,10884],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":369,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":369,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12932,12935],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12932,12935],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":379,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":379,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13309,13312],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13309,13312],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":388,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":388,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13633,13636],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13633,13636],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":398,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":398,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14000,14003],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14000,14003],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":408,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":408,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14406,14409],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14406,14409],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useCallback, useMemo } from 'react'\r\nimport { Card } from '@/components/ui/Card'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { Badge } from '@/components/ui/Badge'\r\nimport { Input } from '@/components/ui/Input'\r\nimport { Select } from '@/components/ui/Select'\r\nimport { Table } from '@/components/ui/Table'\r\nimport { useToast } from '@/components/ui/Toast'\r\nimport {\r\n  MessageSquare,\r\n  Plus,\r\n  Search,\r\n  Filter,\r\n  Edit,\r\n  Eye,\r\n  CheckCircle,\r\n  XCircle,\r\n  Clock,\r\n  Calendar,\r\n  AlertTriangle,\r\n  Download,\r\n  RefreshCw,\r\n  Phone,\r\n  Mail,\r\n  UserCheck,\r\n  TrendingUp,\r\n  Users,\r\n  BookOpen\r\n} from 'lucide-react'\r\nimport {\r\n  useSupportTickets,\r\n  useResolveTicket,\r\n  useAssignTicket,\r\n  useCloseTicket,\r\n  useFAQs,\r\n  useToggleFAQActive\r\n} from '@/features/admin/hooks/useSupport'\r\nimport type { SupportTicket, FAQItem } from '@/features/admin/supportApi'\r\n\r\nexport function AdminSupportPage() {\r\n  const [searchQuery, setSearchQuery] = useState('')\r\n  const [selectedStatus, setSelectedStatus] = useState<string>('all')\r\n  const [selectedPriority, setSelectedPriority] = useState<string>('all')\r\n  const [activeTab, setActiveTab] = useState<'tickets' | 'faq' | 'contacts'>('tickets')\r\n  const { addToast } = useToast()\r\n\r\n  // Build filters\r\n  const filters = useMemo(() => ({\r\n    search: searchQuery || undefined,\r\n    status: selectedStatus !== 'all' ? selectedStatus : undefined,\r\n    priority: selectedPriority !== 'all' ? selectedPriority : undefined,\r\n  }), [searchQuery, selectedStatus, selectedPriority])\r\n\r\n  // TanStack Query hooks\r\n  const { data: ticketsData, isLoading: isLoadingTickets, refetch: refetchTickets } = useSupportTickets(filters)\r\n  const { data: faqsData, isLoading: isLoadingFAQs, refetch: refetchFAQs } = useFAQs()\r\n\r\n  // Mutation hooks\r\n  const resolveTicket = useResolveTicket()\r\n  const assignTicket = useAssignTicket()\r\n  const closeTicket = useCloseTicket()\r\n  const toggleFAQActive = useToggleFAQActive()\r\n\r\n  // Extract data\r\n  const supportTickets = ticketsData?.data || []\r\n  const faqItems = faqsData?.data || []\r\n\r\n  // Calculate stats\r\n  const ticketStats = useMemo(() => ({\r\n    total: supportTickets.length,\r\n    open: supportTickets.filter(t => t.status === 'open').length,\r\n    inProgress: supportTickets.filter(t => t.status === 'in-progress').length,\r\n    resolved: supportTickets.filter(t => t.status === 'resolved').length,\r\n    urgent: supportTickets.filter(t => t.priority === 'urgent').length,\r\n  }), [supportTickets])\r\n\r\n  // Recent activity mock (would come from API)\r\n  const recentActivity = useMemo(() => [\r\n    {\r\n      id: '1',\r\n      action: 'ticket_created',\r\n      message: 'New support ticket: \"Login issues\" from Sarah Johnson',\r\n      timestamp: '5 minutes ago',\r\n      type: 'info'\r\n    },\r\n    {\r\n      id: '2',\r\n      action: 'ticket_resolved',\r\n      message: 'Support ticket resolved: \"Payment problem\" by Mike Chen',\r\n      timestamp: '1 hour ago',\r\n      type: 'success'\r\n    },\r\n    {\r\n      id: '3',\r\n      action: 'faq_updated',\r\n      message: 'FAQ updated: \"How to apply for markets\"',\r\n      timestamp: '2 hours ago',\r\n      type: 'info'\r\n    },\r\n    {\r\n      id: '4',\r\n      action: 'ticket_assigned',\r\n      message: 'Support ticket assigned to admin team',\r\n      timestamp: '3 hours ago',\r\n      type: 'info'\r\n    }\r\n  ], [])\r\n\r\n  const getStatusBadge = (status: string) => {\r\n    switch (status) {\r\n      case 'open':\r\n        return <Badge variant=\"default\">Open</Badge>\r\n      case 'in-progress':\r\n        return <Badge variant=\"warning\">In Progress</Badge>\r\n      case 'resolved':\r\n        return <Badge variant=\"default\">Resolved</Badge>\r\n      case 'closed':\r\n        return <Badge variant=\"muted\">Closed</Badge>\r\n      default:\r\n        return <Badge variant=\"muted\">{status}</Badge>\r\n    }\r\n  }\r\n\r\n  const getPriorityBadge = (priority: string) => {\r\n    switch (priority) {\r\n      case 'low':\r\n        return <Badge variant=\"outline\">Low</Badge>\r\n      case 'medium':\r\n        return <Badge variant=\"warning\">Medium</Badge>\r\n      case 'high':\r\n        return <Badge variant=\"destructive\">High</Badge>\r\n      case 'urgent':\r\n        return <Badge variant=\"destructive\">Urgent</Badge>\r\n      default:\r\n        return <Badge variant=\"muted\">{priority}</Badge>\r\n    }\r\n  }\r\n\r\n  const getActivityIcon = (type: string) => {\r\n    switch (type) {\r\n      case 'success': return <CheckCircle className=\"h-4 w-4 text-green-500\" />\r\n      case 'warning': return <XCircle className=\"h-4 w-4 text-red-500\" />\r\n      case 'info': return <AlertTriangle className=\"h-4 w-4 text-blue-500\" />\r\n      default: return <MessageSquare className=\"h-4 w-4 text-gray-500\" />\r\n    }\r\n  }\r\n\r\n  const getActivityBadge = (type: string) => {\r\n    switch (type) {\r\n      case 'success': return <Badge variant=\"default\">Success</Badge>\r\n      case 'warning': return <Badge variant=\"warning\">Warning</Badge>\r\n      case 'info': return <Badge variant=\"outline\">Info</Badge>\r\n      default: return <Badge variant=\"muted\">Activity</Badge>\r\n    }\r\n  }\r\n\r\n  const handleSearch = useCallback(() => {\r\n    refetchTickets()\r\n  }, [refetchTickets])\r\n\r\n  const handleStatusFilter = useCallback((status: string) => {\r\n    setSelectedStatus(status)\r\n  }, [])\r\n\r\n  const handlePriorityFilter = useCallback((priority: string) => {\r\n    setSelectedPriority(priority)\r\n  }, [])\r\n\r\n  const handleTicketAction = useCallback(async (ticketId: string, action: 'resolve' | 'assign' | 'close') => {\r\n    try {\r\n      switch (action) {\r\n        case 'resolve':\r\n          await resolveTicket.mutateAsync(ticketId)\r\n          addToast({ variant: 'success', title: 'Success', description: 'Ticket resolved successfully' })\r\n          break\r\n        case 'assign':\r\n          await assignTicket.mutateAsync({ ticketId, adminId: 'current-admin' })\r\n          addToast({ variant: 'success', title: 'Success', description: 'Ticket assigned successfully' })\r\n          break\r\n        case 'close':\r\n          await closeTicket.mutateAsync(ticketId)\r\n          addToast({ variant: 'success', title: 'Success', description: 'Ticket closed successfully' })\r\n          break\r\n      }\r\n    } catch (error) {\r\n      addToast({ variant: 'destructive', title: 'Error', description: `Failed to ${action} ticket` })\r\n    }\r\n  }, [resolveTicket, assignTicket, closeTicket, addToast])\r\n\r\n  const handleClearFilters = useCallback(() => {\r\n    setSearchQuery('')\r\n    setSelectedStatus('all')\r\n    setSelectedPriority('all')\r\n  }, [])\r\n\r\n  const handleRefresh = useCallback(() => {\r\n    refetchTickets()\r\n    refetchFAQs()\r\n  }, [refetchTickets, refetchFAQs])\r\n\r\n  const renderTicketsTab = () => (\r\n    <div className=\"space-y-6\">\r\n      {/* Search and Filters */}\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex items-center gap-4 mb-4\">\r\n          <div className=\"flex-1\">\r\n            <Input\r\n              placeholder=\"Search support tickets...\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              onKeyPress={(e) => e.key === 'Enter' && handleSearch()}\r\n              className=\"w-full\"\r\n            />\r\n          </div>\r\n          <Button onClick={handleSearch} disabled={isLoadingTickets}>\r\n            <Search className=\"h-4 w-4 mr-2\" />\r\n            Search\r\n          </Button>\r\n          <Button variant=\"outline\" onClick={handleClearFilters}>\r\n            <Filter className=\"h-4 w-4 mr-2\" />\r\n            Clear Filters\r\n          </Button>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-4\">\r\n          <Select\r\n            value={selectedStatus}\r\n            onValueChange={handleStatusFilter}\r\n            className=\"w-48\"\r\n            options={[\r\n              { value: 'all', label: 'All Statuses' },\r\n              { value: 'open', label: 'Open' },\r\n              { value: 'in-progress', label: 'In Progress' },\r\n              { value: 'resolved', label: 'Resolved' },\r\n              { value: 'closed', label: 'Closed' }\r\n            ]}\r\n          />\r\n          <Select\r\n            value={selectedPriority}\r\n            onValueChange={handlePriorityFilter}\r\n            className=\"w-48\"\r\n            options={[\r\n              { value: 'all', label: 'All Priorities' },\r\n              { value: 'low', label: 'Low' },\r\n              { value: 'medium', label: 'Medium' },\r\n              { value: 'high', label: 'High' },\r\n              { value: 'urgent', label: 'Urgent' }\r\n            ]}\r\n          />\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Support Tickets Table */}\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h3 className=\"text-lg font-semibold\">Support Tickets</h3>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Button variant=\"outline\" size=\"sm\">\r\n              <Download className=\"h-4 w-4 mr-2\" />\r\n              Export\r\n            </Button>\r\n            <Button variant=\"outline\" size=\"sm\" onClick={handleRefresh} disabled={isLoadingTickets}>\r\n              <RefreshCw className={`h-4 w-4 mr-2 ${isLoadingTickets ? 'animate-spin' : ''}`} />\r\n              Refresh\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        <Table\r\n          columns={[\r\n            {\r\n              title: 'Ticket',\r\n              key: 'ticket',\r\n              render: (_: any, record: SupportTicket) => (\r\n                <div>\r\n                  <p className=\"font-medium\">{record.title}</p>\r\n                  <p className=\"text-sm text-muted-foreground\">{record.description}</p>\r\n                </div>\r\n              )\r\n            },\r\n            {\r\n              title: 'Status',\r\n              key: 'status',\r\n              render: (_: any, record: SupportTicket) => getStatusBadge(record.status)\r\n            },\r\n            {\r\n              title: 'Priority',\r\n              key: 'priority',\r\n              render: (_: any, record: SupportTicket) => getPriorityBadge(record.priority)\r\n            },\r\n            {\r\n              title: 'User',\r\n              key: 'user',\r\n              render: (_: any, record: SupportTicket) => (\r\n                <div>\r\n                  <p className=\"font-medium\">{record.user.firstName} {record.user.lastName}</p>\r\n                  <p className=\"text-sm text-muted-foreground\">{record.user.email}</p>\r\n                </div>\r\n              )\r\n            },\r\n            {\r\n              title: 'Created',\r\n              key: 'createdAt',\r\n              render: (_: any, record: SupportTicket) => (\r\n                <div className=\"flex items-center gap-1\">\r\n                  <Calendar className=\"h-4 w-4 text-muted-foreground\" />\r\n                  <span>{new Date(record.createdAt).toLocaleDateString()}</span>\r\n                </div>\r\n              )\r\n            },\r\n            {\r\n              title: 'Actions',\r\n              key: 'actions',\r\n              render: (_: any, record: SupportTicket) => (\r\n                <div className=\"flex items-center gap-1\">\r\n                  <Button variant=\"outline\" size=\"sm\">\r\n                    <Eye className=\"h-4 w-4\" />\r\n                  </Button>\r\n                  <Button variant=\"outline\" size=\"sm\">\r\n                    <Edit className=\"h-4 w-4\" />\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"sm\"\r\n                    onClick={() => handleTicketAction(record.id, 'resolve')}\r\n                    disabled={record.status === 'resolved' || resolveTicket.isPending}\r\n                  >\r\n                    <CheckCircle className=\"h-4 w-4\" />\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"sm\"\r\n                    onClick={() => handleTicketAction(record.id, 'close')}\r\n                    disabled={record.status === 'closed' || closeTicket.isPending}\r\n                  >\r\n                    <XCircle className=\"h-4 w-4\" />\r\n                  </Button>\r\n                </div>\r\n              )\r\n            }\r\n          ]}\r\n          data={supportTickets}\r\n          loading={isLoadingTickets}\r\n          emptyText=\"No support tickets found\"\r\n        />\r\n      </Card>\r\n    </div>\r\n  )\r\n\r\n  const renderFAQTab = () => (\r\n    <div className=\"space-y-6\">\r\n      {/* FAQ Management */}\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h3 className=\"text-lg font-semibold\">FAQ Management</h3>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Button variant=\"outline\" onClick={handleRefresh} disabled={isLoadingFAQs}>\r\n              <RefreshCw className={`h-4 w-4 mr-2 ${isLoadingFAQs ? 'animate-spin' : ''}`} />\r\n              Refresh\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        <Table\r\n          columns={[\r\n            {\r\n              title: 'Question',\r\n              key: 'question',\r\n              render: (_: any, record: FAQItem) => (\r\n                <div>\r\n                  <p className=\"font-medium\">{record.question}</p>\r\n                  <p className=\"text-sm text-muted-foreground\">Category: {record.category}</p>\r\n                </div>\r\n              )\r\n            },\r\n            {\r\n              title: 'Status',\r\n              key: 'isActive',\r\n              render: (_: any, record: FAQItem) => (\r\n                <Badge variant={record.isActive ? \"default\" : \"outline\"}>\r\n                  {record.isActive ? 'Active' : 'Inactive'}\r\n                </Badge>\r\n              )\r\n            },\r\n            {\r\n              title: 'Views',\r\n              key: 'views',\r\n              render: (_: any, record: FAQItem) => (\r\n                <div className=\"flex items-center gap-1\">\r\n                  <Eye className=\"h-4 w-4 text-muted-foreground\" />\r\n                  <span>{record.views}</span>\r\n                </div>\r\n              )\r\n            },\r\n            {\r\n              title: 'Updated',\r\n              key: 'updatedAt',\r\n              render: (_: any, record: FAQItem) => (\r\n                <div className=\"flex items-center gap-1\">\r\n                  <RefreshCw className=\"h-4 w-4 text-muted-foreground\" />\r\n                  <span>{new Date(record.updatedAt).toLocaleDateString()}</span>\r\n                </div>\r\n              )\r\n            },\r\n            {\r\n              title: 'Actions',\r\n              key: 'actions',\r\n              render: (_: any, record: FAQItem) => (\r\n                <div className=\"flex items-center gap-1\">\r\n                  <Button variant=\"outline\" size=\"sm\">\r\n                    <Edit className=\"h-4 w-4\" />\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"sm\"\r\n                    onClick={() => toggleFAQActive.mutate(record.id)}\r\n                    disabled={toggleFAQActive.isPending}\r\n                  >\r\n                    {record.isActive ? <XCircle className=\"h-4 w-4\" /> : <CheckCircle className=\"h-4 w-4\" />}\r\n                  </Button>\r\n                </div>\r\n              )\r\n            }\r\n          ]}\r\n          data={faqItems}\r\n          loading={isLoadingFAQs}\r\n          emptyText=\"No FAQ items found\"\r\n        />\r\n      </Card>\r\n    </div>\r\n  )\r\n\r\n  const renderContactsTab = () => (\r\n    <div className=\"space-y-6\">\r\n      {/* Contact Management */}\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h3 className=\"text-lg font-semibold\">Contact Management</h3>\r\n          <Button variant=\"outline\">\r\n            <Plus className=\"h-4 w-4 mr-2\" />\r\n            Add Contact\r\n          </Button>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\">\r\n          <Card className=\"p-4\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-blue-100 rounded-full\">\r\n                <Phone className=\"h-5 w-5 text-blue-600\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"font-medium\">Phone Support</p>\r\n                <p className=\"text-sm text-muted-foreground\">+1 (555) 123-4567</p>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n          <Card className=\"p-4\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-green-100 rounded-full\">\r\n                <Mail className=\"h-5 w-5 text-green-600\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"font-medium\">Email Support</p>\r\n                <p className=\"text-sm text-muted-foreground\">support@rumfor.com</p>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n          <Card className=\"p-4\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-purple-100 rounded-full\">\r\n                <MessageSquare className=\"h-5 w-5 text-purple-600\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"font-medium\">Live Chat</p>\r\n                <p className=\"text-sm text-muted-foreground\">Available 9AM-5PM EST</p>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n\r\n        <div className=\"space-y-4\">\r\n          <h4 className=\"font-medium\">Support Team Contacts</h4>\r\n          {[\r\n            { name: 'John Admin', role: 'Senior Support Manager', email: 'john@rumfor.com', phone: '+1 (555) 123-4568' },\r\n            { name: 'Sarah Support', role: 'Technical Support', email: 'sarah@rumfor.com', phone: '+1 (555) 123-4569' },\r\n            { name: 'Mike Help', role: 'Customer Success', email: 'mike@rumfor.com', phone: '+1 (555) 123-4570' }\r\n          ].map((contact, index) => (\r\n            <div key={index} className=\"flex items-center justify-between p-4 border rounded-lg\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"p-2 bg-gray-100 rounded-full\">\r\n                  <UserCheck className=\"h-5 w-5 text-gray-600\" />\r\n                </div>\r\n                <div>\r\n                  <p className=\"font-medium\">{contact.name}</p>\r\n                  <p className=\"text-sm text-muted-foreground\">{contact.role}</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"text-right\">\r\n                <p className=\"text-sm\">{contact.email}</p>\r\n                <p className=\"text-sm text-muted-foreground\">{contact.phone}</p>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold\">Support Management</h1>\r\n          <p className=\"text-muted-foreground\">\r\n            Manage support tickets, FAQs, and customer communications\r\n          </p>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <Button variant=\"outline\">\r\n            <Download className=\"h-4 w-4 mr-2\" />\r\n            Export Data\r\n          </Button>\r\n          <Button>\r\n            <MessageSquare className=\"h-4 w-4 mr-2\" />\r\n            New Ticket\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Statistics */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-5 gap-6\">\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-muted-foreground\">Total Tickets</p>\r\n              <p className=\"text-3xl font-bold\">{ticketStats.total}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-blue-100 rounded-full\">\r\n              <MessageSquare className=\"h-6 w-6 text-blue-600\" />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-muted-foreground\">Open Tickets</p>\r\n              <p className=\"text-3xl font-bold\">{ticketStats.open}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-yellow-100 rounded-full\">\r\n              <Clock className=\"h-6 w-6 text-yellow-600\" />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-muted-foreground\">In Progress</p>\r\n              <p className=\"text-3xl font-bold\">{ticketStats.inProgress}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-orange-100 rounded-full\">\r\n              <RefreshCw className=\"h-6 w-6 text-orange-600\" />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-muted-foreground\">Resolved</p>\r\n              <p className=\"text-3xl font-bold\">{ticketStats.resolved}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-green-100 rounded-full\">\r\n              <CheckCircle className=\"h-6 w-6 text-green-600\" />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-muted-foreground\">Urgent</p>\r\n              <p className=\"text-3xl font-bold\">{ticketStats.urgent}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-red-100 rounded-full\">\r\n              <AlertTriangle className=\"h-6 w-6 text-red-600\" />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Quick Actions */}\r\n      <Card className=\"p-6\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">Quick Actions</h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n          <Button variant=\"outline\" className=\"h-16 flex flex-col items-center gap-2\" onClick={() => setActiveTab('tickets')}>\r\n            <MessageSquare className=\"h-5 w-5\" />\r\n            <span>View Tickets</span>\r\n          </Button>\r\n          <Button variant=\"outline\" className=\"h-16 flex flex-col items-center gap-2\" onClick={() => setActiveTab('faq')}>\r\n            <BookOpen className=\"h-5 w-5\" />\r\n            <span>Manage FAQ</span>\r\n          </Button>\r\n          <Button variant=\"outline\" className=\"h-16 flex flex-col items-center gap-2\" onClick={() => setActiveTab('contacts')}>\r\n            <Users className=\"h-5 w-5\" />\r\n            <span>Support Team</span>\r\n          </Button>\r\n          <Button variant=\"outline\" className=\"h-16 flex flex-col items-center gap-2\">\r\n            <TrendingUp className=\"h-5 w-5\" />\r\n            <span>Analytics</span>\r\n          </Button>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Recent Activity */}\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h3 className=\"text-lg font-semibold\">Recent Activity</h3>\r\n          <Button variant=\"outline\" size=\"sm\">\r\n            View All Activity\r\n          </Button>\r\n        </div>\r\n        <div className=\"space-y-3\">\r\n          {recentActivity.map((activity) => (\r\n            <div key={activity.id} className=\"flex items-center justify-between p-3 border rounded-lg\">\r\n              <div className=\"flex items-center gap-3\">\r\n                {getActivityIcon(activity.type)}\r\n                <div>\r\n                  <p className=\"text-sm font-medium\">{activity.message}</p>\r\n                  <p className=\"text-xs text-muted-foreground\">{activity.timestamp}</p>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                {getActivityBadge(activity.type)}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Tab Navigation */}\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex items-center gap-1 mb-6 border-b\">\r\n          <Button\r\n            variant={activeTab === 'tickets' ? 'primary' : 'ghost'}\r\n            onClick={() => setActiveTab('tickets')}\r\n            className=\"rounded-none border-b-2 border-transparent data-[state=active]:border-primary\"\r\n          >\r\n            <MessageSquare className=\"h-4 w-4 mr-2\" />\r\n            Support Tickets\r\n          </Button>\r\n          <Button\r\n            variant={activeTab === 'faq' ? 'primary' : 'ghost'}\r\n            onClick={() => setActiveTab('faq')}\r\n            className=\"rounded-none border-b-2 border-transparent data-[state=active]:border-primary\"\r\n          >\r\n            <BookOpen className=\"h-4 w-4 mr-2\" />\r\n            FAQ Management\r\n          </Button>\r\n          <Button\r\n            variant={activeTab === 'contacts' ? 'primary' : 'ghost'}\r\n            onClick={() => setActiveTab('contacts')}\r\n            className=\"rounded-none border-b-2 border-transparent data-[state=active]:border-primary\"\r\n          >\r\n            <Users className=\"h-4 w-4 mr-2\" />\r\n            Contacts\r\n          </Button>\r\n        </div>\r\n\r\n        {activeTab === 'tickets' && renderTicketsTab()}\r\n        {activeTab === 'faq' && renderFAQTab()}\r\n        {activeTab === 'contacts' && renderContactsTab()}\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\admin\\AdminUsersPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\applications\\ApplicationDetailPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\applications\\ApplicationFormPage.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":17,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[877,880],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[877,880],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":18,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[948,951],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[948,951],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":31,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1421,1424],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1421,1424],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState } from 'react'\r\nimport { useParams, useNavigate, Link } from 'react-router-dom'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { Card } from '@/components/ui/Card'\r\nimport { ApplicationForm } from '@/components/ApplicationForm'\r\nimport { useMarkets } from '@/features/markets/hooks/useMarkets'\r\nimport { useVendorApplications } from '@/features/applications/hooks/useApplications'\r\nimport { Market } from '@/types'\r\n\r\nexport const ApplicationFormPage: React.FC = () => {\r\n  const { marketId } = useParams<{ marketId: string }>()\r\n  const navigate = useNavigate()\r\n  const { markets, isLoading: marketsLoading } = useMarkets()\r\n  const { myApplications, loadMyApplications } = useVendorApplications()\r\n  \r\n  const [market, setMarket] = useState<Market | null>(null)\r\n  const [existingApplication, setExistingApplication] = useState<any>(null)\r\n  const [draftApplication, setDraftApplication] = useState<any>(null)\r\n\r\n  useEffect(() => {\r\n    if (markets.length > 0 && marketId) {\r\n      const foundMarket = markets.find(m => m.id === marketId)\r\n      setMarket(foundMarket || null)\r\n\r\n      const existing = myApplications.find(app => app.marketId === marketId)\r\n      setExistingApplication(existing || null)\r\n      setDraftApplication(existing?.status === 'draft' ? existing : null)\r\n    }\r\n  }, [markets, marketId, myApplications])\r\n\r\n  const handleSuccess = (application: any) => {\r\n    // Refresh the applications list so the existingApplication check works next time\r\n    loadMyApplications()\r\n    navigate(`/applications/${application.id}`)\r\n  }\r\n\r\n  const handleCancel = () => {\r\n    navigate(`/markets/${marketId}`)\r\n  }\r\n\r\n  if (marketsLoading) {\r\n    return (\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <div className=\"flex items-center justify-center h-64\">\r\n          <div className=\"text-center\">\r\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-accent mx-auto\"></div>\r\n            <p className=\"text-muted-foreground mt-2\">Loading market details...</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (!market) {\r\n    return (\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <div className=\"text-center\">\r\n          <h1 className=\"text-2xl font-bold mb-4\">Market Not Found</h1>\r\n          <p className=\"text-muted-foreground mb-6\">\r\n            The market you're trying to apply to doesn't exist.\r\n          </p>\r\n          <Link to=\"/markets\">\r\n            <Button>Browse Markets</Button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (existingApplication && !draftApplication) {\r\n    return (\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <div className=\"max-w-4xl mx-auto\">\r\n          <Card className=\"p-8 text-center\">\r\n            <h1 className=\"text-2xl font-bold mb-4\">Application Already Exists</h1>\r\n            <p className=\"text-muted-foreground mb-6\">\r\n              You already have an application for <strong>{market.name}</strong>.\r\n            </p>\r\n            <div className=\"flex justify-center space-x-4\">\r\n              <Link to={`/applications/${existingApplication.id}`}>\r\n                <Button>View Existing Application</Button>\r\n              </Link>\r\n              <Link to={`/markets/${marketId}`}>\r\n                <Button variant=\"outline\">Back to Market</Button>\r\n              </Link>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      <div className=\"max-w-4xl mx-auto space-y-6\">\r\n        {/* Header */}\r\n        <div className=\"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between\">\r\n          <div className=\"space-y-3\">\r\n            <div className=\"inline-flex items-center gap-2 rounded-full border border-border bg-card px-3 py-1 text-xs text-muted-foreground\">\r\n              <span className=\"h-2 w-2 rounded-full bg-accent\" />\r\n              Step 2 of 3  Application Details\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold\">Apply to {market.name}</h1>\r\n              <p className=\"text-muted-foreground mt-1\">\r\n                Complete the application form below to apply for this market\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <Link to={`/markets/${marketId}`} className=\"w-full sm:w-auto\">\r\n            <Button variant=\"outline\" className=\"w-full sm:w-auto\">Back to Market</Button>\r\n          </Link>\r\n        </div>\r\n\r\n        {draftApplication && (\r\n          <Card className=\"p-4 border-amber-200 bg-amber-50\">\r\n            <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between\">\r\n              <div>\r\n                <p className=\"font-semibold text-amber-900\">Draft application detected</p>\r\n                <p className=\"text-sm text-amber-700\">\r\n                  Continue your saved draft for {market.name} and submit when ready.\r\n                </p>\r\n              </div>\r\n              <div className=\"flex gap-2\">\r\n                <Link to={`/applications/${draftApplication.id}`}>\r\n                  <Button className=\"bg-amber-600 hover:bg-amber-700\">Continue Draft</Button>\r\n                </Link>\r\n                <Button variant=\"outline\" onClick={() => setDraftApplication(null)}>\r\n                  Start New\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        )}\r\n\r\n        {/* Market Preview */}\r\n        <Card className=\"p-6\">\r\n          <h2 className=\"text-lg font-semibold mb-4\">Market Information</h2>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"text-sm font-medium text-muted-foreground\">Name</label>\r\n              <p className=\"font-medium\">{market.name}</p>\r\n            </div>\r\n            <div>\r\n              <label className=\"text-sm font-medium text-muted-foreground\">Category</label>\r\n              <p className=\"font-medium capitalize\">{market.category.replace('-', ' ')}</p>\r\n            </div>\r\n            <div>\r\n              <label className=\"text-sm font-medium text-muted-foreground\">Location</label>\r\n              <p className=\"font-medium\">\r\n                {market.location.city}, {market.location.state}\r\n              </p>\r\n            </div>\r\n            <div>\r\n              <label className=\"text-sm font-medium text-muted-foreground\">Vendor Limit</label>\r\n              <p className=\"font-medium\">\r\n                No limit specified\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Application Form */}\r\n        <div className=\"rounded-lg border bg-card p-4 sm:p-6\">\r\n          <ApplicationForm\r\n            market={market}\r\n            existingApplication={draftApplication || undefined}\r\n            onSuccess={handleSuccess}\r\n            onCancel={handleCancel}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\applications\\MyApplicationsPage.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":64,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":64,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2271,2274],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2271,2274],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":64,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":64,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2284,2287],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2284,2287],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useMemo } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { EmptyState } from '@/components/ui/EmptyState'\r\nimport { ApplicationCard } from '@/components/ApplicationCard'\r\nimport { ApplicationFilters, ApplicationFilters as Filters } from '@/components/ApplicationFilters'\r\nimport { StatusBadge } from '@/components/ApplicationStatus'\r\nimport { useVendorApplications } from '@/features/applications/hooks/useApplications'\r\nimport { useMarkets } from '@/features/markets/hooks/useMarkets'\r\nimport { Application, ApplicationStatus } from '@/types'\r\nimport { cn } from '@/utils/cn'\r\n\r\nexport const MyApplicationsPage: React.FC = () => {\r\n  const [filters, setFilters] = useState<Filters>({\r\n    search: '',\r\n    status: 'all',\r\n    marketId: '',\r\n    dateRange: { from: '', to: '' },\r\n    sortBy: 'createdAt',\r\n    sortOrder: 'desc'\r\n  })\r\n\r\n  const { myApplications, isLoading, getApplicationStats } = useVendorApplications()\r\n  const { markets } = useMarkets()\r\n\r\n  // Filter and sort applications\r\n  const filteredApplications = useMemo(() => {\r\n    let filtered = [...myApplications]\r\n\r\n    // Search filter\r\n    if (filters.search) {\r\n      const searchLower = filters.search.toLowerCase()\r\n      filtered = filtered.filter(app => \r\n        app.market.name.toLowerCase().includes(searchLower) ||\r\n        app.submittedData?.businessName?.toLowerCase().includes(searchLower) ||\r\n        app.submittedData?.businessDescription?.toLowerCase().includes(searchLower)\r\n      )\r\n    }\r\n\r\n    // Status filter\r\n    if (filters.status !== 'all') {\r\n      filtered = filtered.filter(app => app.status === filters.status)\r\n    }\r\n\r\n    // Market filter\r\n    if (filters.marketId) {\r\n      filtered = filtered.filter(app => app.marketId === filters.marketId)\r\n    }\r\n\r\n    // Date range filter\r\n    if (filters.dateRange.from) {\r\n      filtered = filtered.filter(app => \r\n        new Date(app.createdAt) >= new Date(filters.dateRange.from)\r\n      )\r\n    }\r\n    if (filters.dateRange.to) {\r\n      filtered = filtered.filter(app => \r\n        new Date(app.createdAt) <= new Date(filters.dateRange.to + 'T23:59:59')\r\n      )\r\n    }\r\n\r\n    // Sort\r\n    filtered.sort((a, b) => {\r\n      let aValue: any, bValue: any\r\n      \r\n      switch (filters.sortBy) {\r\n        case 'createdAt':\r\n          aValue = new Date(a.createdAt)\r\n          bValue = new Date(b.createdAt)\r\n          break\r\n        case 'updatedAt':\r\n          aValue = new Date(a.updatedAt || a.createdAt)\r\n          bValue = new Date(b.updatedAt || b.createdAt)\r\n          break\r\n        case 'marketName':\r\n          aValue = a.market.name.toLowerCase()\r\n          bValue = b.market.name.toLowerCase()\r\n          break\r\n        case 'status':\r\n          aValue = a.status\r\n          bValue = b.status\r\n          break\r\n        default:\r\n          aValue = a.createdAt\r\n          bValue = b.createdAt\r\n      }\r\n\r\n      if (filters.sortOrder === 'asc') {\r\n        return aValue > bValue ? 1 : -1\r\n      } else {\r\n        return aValue < bValue ? 1 : -1\r\n      }\r\n    })\r\n\r\n    return filtered\r\n  }, [myApplications, filters])\r\n\r\n  // Group applications by status for stats\r\n  const stats = getApplicationStats()\r\n  const applicationsByStatus = useMemo(() => {\r\n    const grouped = myApplications.reduce((acc, app) => {\r\n      if (!acc[app.status]) {\r\n        acc[app.status] = []\r\n      }\r\n      acc[app.status].push(app)\r\n      return acc\r\n    }, {} as Record<ApplicationStatus, Application[]>)\r\n    return grouped\r\n  }, [myApplications])\r\n\r\n  const marketOptions = markets.map(market => ({\r\n    id: market.id,\r\n    name: market.name\r\n  }))\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <div className=\"flex items-center justify-center h-64\">\r\n          <div className=\"text-center\">\r\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-accent mx-auto\"></div>\r\n            <p className=\"text-muted-foreground mt-2\">Loading your applications...</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8 space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold\">My Applications</h1>\r\n          <p className=\"text-muted-foreground mt-1\">\r\n            Track and manage your vendor applications\r\n          </p>\r\n        </div>\r\n        <Link to=\"/markets\" className=\"w-full sm:w-auto\">\r\n          <Button className=\"w-full sm:w-auto\">\r\n            Browse Markets\r\n          </Button>\r\n        </Link>\r\n      </div>\r\n\r\n      {/* Stats Overview */}\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n        <div className=\"bg-card border rounded-lg p-4\">\r\n          <div className=\"text-2xl font-bold\">{stats.total}</div>\r\n          <div className=\"text-sm text-muted-foreground\">Total Applications</div>\r\n        </div>\r\n        <div className=\"bg-card border rounded-lg p-4\">\r\n          <div className=\"text-2xl font-bold text-blue-600\">{stats.submitted + stats.underReview}</div>\r\n          <div className=\"text-sm text-muted-foreground\">Under Review</div>\r\n        </div>\r\n        <div className=\"bg-card border rounded-lg p-4\">\r\n          <div className=\"text-2xl font-bold text-green-600\">{stats.approved}</div>\r\n          <div className=\"text-sm text-muted-foreground\">Approved</div>\r\n        </div>\r\n        <div className=\"bg-card border rounded-lg p-4\">\r\n          <div className=\"text-2xl font-bold text-red-600\">{stats.rejected}</div>\r\n          <div className=\"text-sm text-muted-foreground\">Rejected</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"rounded-lg border bg-card p-4 sm:p-6\">\r\n        <ApplicationFilters\r\n          filters={filters}\r\n          onFiltersChange={setFilters}\r\n          markets={marketOptions}\r\n        />\r\n      </div>\r\n\r\n      {/* Applications List */}\r\n      <div className=\"space-y-6\">\r\n        {filteredApplications.length === 0 ? (\r\n          <EmptyState\r\n            icon=\"\"\r\n            title=\"No applications found\"\r\n            description={\r\n              myApplications.length === 0 \r\n                ? \"You haven't submitted any applications yet. Browse markets to get started.\"\r\n                : \"No applications match your current filters. Try adjusting your search criteria.\"\r\n            }\r\n            action={\r\n              myApplications.length === 0 ? (\r\n                <Link to=\"/markets\">\r\n                  <Button>Browse Markets</Button>\r\n                </Link>\r\n              ) : (\r\n                <Button variant=\"outline\" onClick={() => setFilters({\r\n                  search: '',\r\n                  status: 'all',\r\n                  marketId: '',\r\n                  dateRange: { from: '', to: '' },\r\n                  sortBy: 'createdAt',\r\n                  sortOrder: 'desc'\r\n                })}>\r\n                  Clear Filters\r\n                </Button>\r\n              )\r\n            }\r\n          />\r\n        ) : (\r\n          <>\r\n            {/* Results Summary */}\r\n            <div className=\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between rounded-lg border bg-card px-4 py-3\">\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                Showing {filteredApplications.length} of {myApplications.length} applications\r\n              </p>\r\n\r\n              {/* Quick Status Filter */}\r\n              <div className=\"flex flex-wrap items-center gap-2\">\r\n                <span className=\"text-sm text-muted-foreground\">Quick filter:</span>\r\n                {Object.entries(applicationsByStatus).map(([status, apps]) => (\r\n                  <Link\r\n                    key={status}\r\n                    to={`?status=${status}`}\r\n                    className=\"inline-flex items-center gap-2 rounded-full border border-transparent bg-surface px-2.5 py-1 text-xs hover:bg-surface-2\"\r\n                  >\r\n                    <StatusBadge\r\n                      status={status as ApplicationStatus}\r\n                      className={cn(\r\n                        'cursor-pointer hover:opacity-80',\r\n                        filters.status === status && 'ring-2 ring-accent'\r\n                      )}\r\n                    />\r\n                    <span className=\"text-muted-foreground\">({apps.length})</span>\r\n                  </Link>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Applications Grid/List */}\r\n            <div className=\"grid gap-4\">\r\n              {filteredApplications.map(application => (\r\n                <ApplicationCard\r\n                  key={application.id}\r\n                  application={application}\r\n                  variant=\"default\"\r\n                />\r\n              ))}\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {/* Recent Activity Section */}\r\n      {myApplications.length > 0 && (\r\n        <div className=\"border-t pt-6\">\r\n          <h2 className=\"text-xl font-semibold mb-4\">Status Overview</h2>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n            {Object.entries(applicationsByStatus).map(([status, apps]) => (\r\n              <div key={status} className=\"bg-card border rounded-lg p-4\">\r\n                <div className=\"flex items-center justify-between mb-2\">\r\n                  <StatusBadge status={status as ApplicationStatus} />\r\n                  <span className=\"text-2xl font-bold\">{apps.length}</span>\r\n                </div>\r\n                <p className=\"text-sm text-muted-foreground\">\r\n                  {status === 'approved' && 'Applications that have been accepted'}\r\n                  {status === 'rejected' && 'Applications that were not accepted'}\r\n                  {status === 'submitted' && 'Applications awaiting review'}\r\n                  {status === 'under-review' && 'Applications currently being reviewed'}\r\n                  {status === 'draft' && 'Applications you started but didn\\'t submit'}\r\n                  {status === 'withdrawn' && 'Applications you withdrew'}\r\n                </p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\applications\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\auth\\EmailVerificationPage.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook React.useEffect has a missing dependency: 'handleVerifyToken'. Either include it or remove the dependency array.","line":50,"column":6,"nodeType":"ArrayExpression","endLine":50,"endColumn":20,"suggestions":[{"desc":"Update the dependencies array to be: [handleVerifyToken, tokenFromUrl]","fix":{"range":[1457,1471],"text":"[handleVerifyToken, tokenFromUrl]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport { zodResolver } from '@hookform/resolvers/zod'\r\nimport { z } from 'zod'\r\nimport { Link, useSearchParams } from 'react-router-dom'\r\nimport { useEmailVerification } from '@/features/auth/hooks/useEmailVerification'\r\nimport { Button, Input, Card, CardHeader, CardTitle, CardDescription, CardContent, Alert, Spinner } from '@/components/ui'\r\nimport { ArrowLeft, Mail, CheckCircle, XCircle } from 'lucide-react'\r\n\r\nconst verificationSchema = z.object({\r\n  token: z.string().min(1, 'Verification token is required'),\r\n})\r\n\r\ntype VerificationFormData = z.infer<typeof verificationSchema>\r\n\r\nexport function EmailVerificationPage() {\r\n  const {\r\n    isVerifying,\r\n    error,\r\n    success,\r\n    verifyEmail,\r\n    resendVerificationEmail,\r\n    clearErrors,\r\n    clearSuccess,\r\n    resetState,\r\n    isEmailVerified,\r\n    userEmail,\r\n  } = useEmailVerification()\r\n\r\n  const [searchParams] = useSearchParams()\r\n  const tokenFromUrl = searchParams.get('token')\r\n  const [email, setEmail] = React.useState('')\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm<VerificationFormData>({\r\n    resolver: zodResolver(verificationSchema),\r\n    defaultValues: {\r\n      token: tokenFromUrl || '',\r\n    },\r\n  })\r\n\r\n  React.useEffect(() => {\r\n    // Auto-verify if token is present in URL\r\n    if (tokenFromUrl) {\r\n      handleVerifyToken(tokenFromUrl)\r\n    }\r\n  }, [tokenFromUrl])\r\n\r\n  React.useEffect(() => {\r\n    // Clear state on unmount\r\n    return () => {\r\n      resetState()\r\n    }\r\n  }, [resetState])\r\n\r\n  const handleVerifyToken = async (token: string) => {\r\n    clearErrors()\r\n    clearSuccess()\r\n    \r\n    const result = await verifyEmail(token)\r\n    \r\n    if (!result.success) {\r\n      console.error('Email verification failed:', result.error)\r\n    }\r\n  }\r\n\r\n  const onSubmit = async (data: VerificationFormData) => {\r\n    await handleVerifyToken(data.token)\r\n  }\r\n\r\n  const handleResendVerification = async () => {\r\n    if (!email) {\r\n      return\r\n    }\r\n\r\n    clearErrors()\r\n    clearSuccess()\r\n    \r\n    const result = await resendVerificationEmail(email)\r\n    \r\n    if (!result.success) {\r\n      console.error('Resend verification failed:', result.error)\r\n    }\r\n  }\r\n\r\n  // If already verified, show success state\r\n  if (isEmailVerified && success) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center p-4\">\r\n        <div className=\"w-full max-w-md\">\r\n          <Card>\r\n            <CardHeader className=\"text-center\">\r\n              <div className=\"mx-auto w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center mb-4\">\r\n                <CheckCircle className=\"h-6 w-6 text-green-600 dark:text-green-400\" />\r\n              </div>\r\n              <CardTitle className=\"text-2xl font-bold\">Email Verified!</CardTitle>\r\n              <CardDescription>\r\n                Your email address has been successfully verified\r\n              </CardDescription>\r\n            </CardHeader>\r\n            \r\n            <CardContent className=\"space-y-6\">\r\n              <Alert variant=\"success\" title=\"Verification Complete\">\r\n                <p>\r\n                  Your email address <strong>{userEmail}</strong> has been verified successfully. \r\n                  You can now access all features of your account.\r\n                </p>\r\n              </Alert>\r\n\r\n              <div className=\"text-center space-y-4\">\r\n                <Link\r\n                  to=\"/dashboard\"\r\n                  className=\"inline-flex items-center justify-center w-full px-4 py-2 bg-accent text-accent-foreground rounded-md hover:bg-accent/90 transition-colors\"\r\n                >\r\n                  Go to Dashboard\r\n                </Link>\r\n                \r\n                <Link\r\n                  to=\"/auth/login\"\r\n                  className=\"inline-flex items-center text-sm text-accent hover:text-accent/80 transition-colors\"\r\n                >\r\n                  <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n                  Back to Sign In\r\n                </Link>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // If verification is in progress\r\n  if (isVerifying) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center p-4\">\r\n        <div className=\"w-full max-w-md\">\r\n          <Card>\r\n            <CardHeader className=\"text-center\">\r\n              <div className=\"mx-auto w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center mb-4\">\r\n                <Spinner className=\"h-6 w-6 text-blue-600 dark:text-blue-400\" />\r\n              </div>\r\n              <CardTitle className=\"text-2xl font-bold\">Verifying Email</CardTitle>\r\n              <CardDescription>\r\n                Please wait while we verify your email address...\r\n              </CardDescription>\r\n            </CardHeader>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // If verification failed\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center p-4\">\r\n        <div className=\"w-full max-w-md\">\r\n          <Card>\r\n            <CardHeader className=\"text-center\">\r\n              <div className=\"mx-auto w-12 h-12 bg-red-100 dark:bg-red-900/20 rounded-lg flex items-center justify-center mb-4\">\r\n                <XCircle className=\"h-6 w-6 text-red-600 dark:text-red-400\" />\r\n              </div>\r\n              <CardTitle className=\"text-2xl font-bold\">Verification Failed</CardTitle>\r\n              <CardDescription>\r\n                There was a problem verifying your email address\r\n              </CardDescription>\r\n            </CardHeader>\r\n            \r\n            <CardContent className=\"space-y-6\">\r\n              <Alert variant=\"destructive\" title=\"Verification Failed\">\r\n                <p>{error}</p>\r\n              </Alert>\r\n\r\n              <div className=\"space-y-4\">\r\n                {userEmail && (\r\n                  <>\r\n                    <div className=\"space-y-2\">\r\n                      <label htmlFor=\"resendEmail\" className=\"text-sm font-medium text-foreground\">\r\n                        Email Address\r\n                      </label>\r\n                      <Input\r\n                        id=\"resendEmail\"\r\n                        type=\"email\"\r\n                        placeholder=\"Enter your email address\"\r\n                        value={email || userEmail}\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                      />\r\n                    </div>\r\n                    \r\n                    <Button \r\n                      onClick={handleResendVerification}\r\n                      disabled={isVerifying}\r\n                      className=\"w-full\"\r\n                      variant=\"outline\"\r\n                    >\r\n                      {isVerifying ? (\r\n                        <>\r\n                          <Spinner className=\"mr-2 h-4 w-4\" />\r\n                          Sending...\r\n                        </>\r\n                      ) : (\r\n                        'Resend Verification Email'\r\n                      )}\r\n                    </Button>\r\n                  </>\r\n                )}\r\n                \r\n                <Link\r\n                  to=\"/auth/login\"\r\n                  className=\"inline-flex items-center text-sm text-accent hover:text-accent/80 transition-colors\"\r\n                >\r\n                  <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n                  Back to Sign In\r\n                </Link>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Manual verification form\r\n  return (\r\n    <div className=\"min-h-screen bg-background flex items-center justify-center p-4\">\r\n      <div className=\"w-full max-w-md\">\r\n        <Card>\r\n          <CardHeader className=\"text-center\">\r\n            <div className=\"mx-auto w-12 h-12 bg-accent/10 rounded-lg flex items-center justify-center mb-4\">\r\n              <Mail className=\"h-6 w-6 text-accent\" />\r\n            </div>\r\n            <CardTitle className=\"text-2xl font-bold\">Verify Your Email</CardTitle>\r\n            <CardDescription>\r\n              Enter the verification token from your email to activate your account\r\n            </CardDescription>\r\n          </CardHeader>\r\n          \r\n          <CardContent>\r\n            <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-4\">\r\n              <div className=\"space-y-2\">\r\n                <label htmlFor=\"token\" className=\"text-sm font-medium text-foreground\">\r\n                  Verification Token\r\n                </label>\r\n                <Input\r\n                  id=\"token\"\r\n                  type=\"text\"\r\n                  placeholder=\"Enter verification token\"\r\n                  className={`${errors.token ? 'border-red-500 focus:border-red-500' : ''}`}\r\n                  {...register('token')}\r\n                />\r\n                {errors.token && (\r\n                  <p className=\"text-sm text-red-500\">{errors.token.message}</p>\r\n                )}\r\n              </div>\r\n\r\n              <Button \r\n                type=\"submit\" \r\n                className=\"w-full\" \r\n                disabled={isVerifying}\r\n              >\r\n                {isVerifying ? (\r\n                  <>\r\n                    <Spinner className=\"mr-2 h-4 w-4\" />\r\n                    Verifying...\r\n                  </>\r\n                ) : (\r\n                  'Verify Email'\r\n                )}\r\n              </Button>\r\n            </form>\r\n\r\n            <div className=\"mt-6 text-center space-y-4\">\r\n              {userEmail && (\r\n                <div className=\"text-sm text-muted-foreground\">\r\n                  Didn't receive the email?{' '}\r\n                  <button\r\n                    onClick={handleResendVerification}\r\n                    disabled={isVerifying}\r\n                    className=\"text-accent hover:text-accent/80 transition-colors font-medium\"\r\n                  >\r\n                    Resend verification email\r\n                  </button>\r\n                </div>\r\n              )}\r\n              \r\n              <Link\r\n                to=\"/auth/login\"\r\n                className=\"inline-flex items-center text-sm text-accent hover:text-accent/80 transition-colors\"\r\n              >\r\n                <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n                Back to Sign In\r\n              </Link>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  )\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\auth\\LoginPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\auth\\PasswordRecoveryPage.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook React.useEffect has a missing dependency: 'error'. Either include it or remove the dependency array.","line":45,"column":6,"nodeType":"ArrayExpression","endLine":45,"endColumn":33,"suggestions":[{"desc":"Update the dependencies array to be: [watchedEmail, clearErrors, error]","fix":{"range":[1248,1275],"text":"[watchedEmail, clearErrors, error]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport { zodResolver } from '@hookform/resolvers/zod'\r\nimport { z } from 'zod'\r\nimport { Link } from 'react-router-dom'\r\nimport { usePasswordReset } from '@/features/auth/hooks/usePasswordReset'\r\nimport { Button, Input, Card, CardHeader, CardTitle, CardDescription, CardContent, Alert, Spinner } from '@/components/ui'\r\nimport { ArrowLeft, Mail, KeyRound } from 'lucide-react'\r\n\r\nconst passwordRecoverySchema = z.object({\r\n  email: z.string().email('Please enter a valid email address'),\r\n})\r\n\r\ntype PasswordRecoveryFormData = z.infer<typeof passwordRecoverySchema>\r\n\r\nexport function PasswordRecoveryPage() {\r\n  const {\r\n    isRequestingReset,\r\n    error,\r\n    success,\r\n    requestPasswordReset,\r\n    clearErrors,\r\n    clearSuccess,\r\n    resetState,\r\n  } = usePasswordReset()\r\n\r\n  const [email, setEmail] = React.useState('')\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    watch,\r\n  } = useForm<PasswordRecoveryFormData>({\r\n    resolver: zodResolver(passwordRecoverySchema),\r\n  })\r\n\r\n  const watchedEmail = watch('email')\r\n\r\n  React.useEffect(() => {\r\n    // Clear errors when email changes\r\n    if (error) {\r\n      clearErrors()\r\n    }\r\n  }, [watchedEmail, clearErrors])\r\n\r\n  React.useEffect(() => {\r\n    // Clear success state when component unmounts\r\n    return () => {\r\n      resetState()\r\n    }\r\n  }, [resetState])\r\n\r\n  const onSubmit = async (data: PasswordRecoveryFormData) => {\r\n    setEmail(data.email)\r\n    clearErrors()\r\n    clearSuccess()\r\n    \r\n    const result = await requestPasswordReset(data.email)\r\n    \r\n    if (!result.success) {\r\n      // Error is already set in the hook\r\n      console.error('Password reset request failed:', result.error)\r\n    }\r\n  }\r\n\r\n  if (success) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center p-4\">\r\n        <div className=\"w-full max-w-md\">\r\n          <Card>\r\n            <CardHeader className=\"text-center\">\r\n              <div className=\"mx-auto w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center mb-4\">\r\n                <Mail className=\"h-6 w-6 text-green-600 dark:text-green-400\" />\r\n              </div>\r\n              <CardTitle className=\"text-2xl font-bold\">Check Your Email</CardTitle>\r\n              <CardDescription>\r\n                We've sent a password reset link to your email address\r\n              </CardDescription>\r\n            </CardHeader>\r\n            \r\n            <CardContent className=\"space-y-6\">\r\n              <Alert variant=\"success\" title=\"Email Sent\">\r\n                <p>\r\n                  If an account with <strong>{email}</strong> exists, \r\n                  you'll receive a password reset link shortly.\r\n                </p>\r\n              </Alert>\r\n\r\n              <div className=\"text-center space-y-4\">\r\n                <p className=\"text-sm text-muted-foreground\">\r\n                  Didn't receive the email? Check your spam folder or{' '}\r\n                  <button\r\n                    onClick={() => {\r\n                      clearSuccess()\r\n                      setEmail('')\r\n                    }}\r\n                    className=\"text-accent hover:text-accent/80 transition-colors font-medium\"\r\n                  >\r\n                    try again\r\n                  </button>\r\n                </p>\r\n                \r\n                <Link\r\n                  to=\"/auth/login\"\r\n                  className=\"inline-flex items-center text-sm text-accent hover:text-accent/80 transition-colors\"\r\n                >\r\n                  <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n                  Back to Sign In\r\n                </Link>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background flex items-center justify-center p-4\">\r\n      <div className=\"w-full max-w-md\">\r\n        <Card>\r\n          <CardHeader className=\"text-center\">\r\n            <div className=\"mx-auto w-12 h-12 bg-accent/10 rounded-lg flex items-center justify-center mb-4\">\r\n              <KeyRound className=\"h-6 w-6 text-accent\" />\r\n            </div>\r\n            <CardTitle className=\"text-2xl font-bold\">Reset Your Password</CardTitle>\r\n            <CardDescription>\r\n              Enter your email address and we'll send you a link to reset your password\r\n            </CardDescription>\r\n          </CardHeader>\r\n          \r\n          <CardContent>\r\n            {error && (\r\n              <Alert \r\n                variant=\"destructive\" \r\n                className=\"mb-6\"\r\n                title=\"Reset Failed\"\r\n                description={error}\r\n              />\r\n            )}\r\n\r\n            <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-4\">\r\n              <div className=\"space-y-2\">\r\n                <label htmlFor=\"email\" className=\"text-sm font-medium text-foreground\">\r\n                  Email Address\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <Mail className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n                  <Input\r\n                    id=\"email\"\r\n                    type=\"email\"\r\n                    placeholder=\"Enter your email\"\r\n                    className={`pl-10 ${errors.email ? 'border-red-500 focus:border-red-500' : ''}`}\r\n                    {...register('email')}\r\n                  />\r\n                </div>\r\n                {errors.email && (\r\n                  <p className=\"text-sm text-red-500\">{errors.email.message}</p>\r\n                )}\r\n              </div>\r\n\r\n              <Button \r\n                type=\"submit\" \r\n                className=\"w-full\" \r\n                disabled={isRequestingReset}\r\n              >\r\n                {isRequestingReset ? (\r\n                  <>\r\n                    <Spinner className=\"mr-2 h-4 w-4\" />\r\n                    Sending reset link...\r\n                  </>\r\n                ) : (\r\n                  'Send Reset Link'\r\n                )}\r\n              </Button>\r\n            </form>\r\n\r\n            <div className=\"mt-6 text-center\">\r\n              <Link\r\n                to=\"/auth/login\"\r\n                className=\"inline-flex items-center text-sm text-accent hover:text-accent/80 transition-colors\"\r\n              >\r\n                <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n                Back to Sign In\r\n              </Link>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  )\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\auth\\RegisterPage.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":103,"column":71,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":103,"endColumn":74,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3608,3611],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3608,3611],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'confirmPassword' is assigned a value but never used.","line":64,"column":15,"nodeType":"Identifier","messageId":"unusedVar","endLine":64,"endColumn":30,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'agreeToTerms' is assigned a value but never used.","line":64,"column":32,"nodeType":"Identifier","messageId":"unusedVar","endLine":64,"endColumn":44,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport { zodResolver } from '@hookform/resolvers/zod'\r\nimport { z } from 'zod'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport { useAuthStore } from '@/features/auth/authStore'\r\nimport { Button, Input, Card, CardHeader, CardTitle, CardContent, Alert, Spinner } from '@/components/ui'\r\nimport { Eye, EyeOff, Store, Calendar } from 'lucide-react'\r\n\r\nconst registerSchema = z.object({\r\n  firstName: z.string().min(2, 'First name must be at least 2 characters'),\r\n  lastName: z.string().min(2, 'Last name must be at least 2 characters'),\r\n  email: z.string().email('Please enter a valid email address'),\r\n  password: z.string().min(6, 'Password must be at least 6 characters'),\r\n  confirmPassword: z.string(),\r\n  role: z.enum(['visitor', 'vendor', 'promoter', 'admin'], {\r\n    errorMap: () => ({ message: 'Please select a valid role' }),\r\n  }),\r\n  agreeToTerms: z.boolean().refine(val => val === true, 'You must agree to the terms and conditions'),\r\n}).refine((data) => data.password === data.confirmPassword, {\r\n  message: \"Passwords don't match\",\r\n  path: [\"confirmPassword\"],\r\n})\r\n\r\ntype RegisterFormData = z.infer<typeof registerSchema>\r\n\r\nconst roleOptions = [\r\n  {\r\n    value: 'vendor',\r\n    label: 'Vendor',\r\n    description: 'Apply to markets and manage applications',\r\n    icon: Store\r\n  },\r\n  {\r\n    value: 'promoter',\r\n    label: 'Promoter',\r\n    description: 'Create and manage markets',\r\n    icon: Calendar\r\n  },\r\n]\r\n\r\nexport function RegisterPage() {\r\n  const navigate = useNavigate()\r\n  const { register: registerUser, isLoading, error, clearError } = useAuthStore()\r\n  const [showPassword, setShowPassword] = React.useState(false)\r\n  const [showConfirmPassword, setShowConfirmPassword] = React.useState(false)\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    watch,\r\n    setValue,\r\n  } = useForm<RegisterFormData>({\r\n    resolver: zodResolver(registerSchema),\r\n  })\r\n\r\n  const selectedRole = watch('role')\r\n\r\n  const onSubmit = async (data: RegisterFormData) => {\r\n    try {\r\n      clearError()\r\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n      const { confirmPassword, agreeToTerms, ...registerData } = data\r\n      await registerUser(registerData)\r\n      navigate('/dashboard')\r\n    } catch (error) {\r\n      // Error is handled by the auth store\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background flex items-start justify-center p-4 pt-8\">\r\n      <div className=\"w-full max-w-md\">\r\n        <Card>\r\n          <CardHeader className=\"text-center\">\r\n            <CardTitle className=\"text-2xl font-bold\">Create Your Account</CardTitle>\r\n\r\n          </CardHeader>\r\n          \r\n          <CardContent>\r\n            {error && (\r\n              <Alert \r\n                variant=\"destructive\" \r\n                className=\"mb-6\"\r\n                title=\"Registration Failed\"\r\n                description={error}\r\n              />\r\n            )}\r\n\r\n            <div className=\"mb-6\">\r\n              <label className=\"text-sm font-medium text-foreground mb-3 block\">\r\n                Account Type\r\n              </label>\r\n              <div className=\"grid grid-cols-2 gap-3\">\r\n                {roleOptions.map((option) => {\r\n                  const Icon = option.icon\r\n                  const isSelected = selectedRole === option.value\r\n                  return (\r\n                    <button\r\n                      key={option.value}\r\n                      type=\"button\"\r\n                      onClick={() => setValue('role', option.value as any)}\r\n                      className={`p-4 border rounded-lg text-center transition-all ${\r\n                        isSelected\r\n                          ? 'border-accent bg-accent/5 ring-2 ring-accent/20'\r\n                          : 'border-border'\r\n                      }`}\r\n                    >\r\n                      <Icon className={`h-6 w-6 mx-auto mb-2 ${isSelected ? 'text-accent' : 'text-muted-foreground'}`} />\r\n                      <div className=\"text-sm font-medium\">{option.label}</div>\r\n                      <div className=\"text-xs text-muted-foreground mt-1\">{option.description}</div>\r\n                    </button>\r\n                  )\r\n                })}\r\n              </div>\r\n              {errors.role && (\r\n                <p className=\"text-sm text-red-500 mt-2\">{errors.role.message}</p>\r\n              )}\r\n            </div>\r\n\r\n            <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-4\">\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Input\r\n                    id=\"firstName\"\r\n                    placeholder=\"First name\"\r\n                    className={errors.firstName ? 'border-red-500 focus:border-red-500' : ''}\r\n                    {...register('firstName')}\r\n                  />\r\n                  {errors.firstName && (\r\n                    <p className=\"text-sm text-red-500\">{errors.firstName.message}</p>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Input\r\n                    id=\"lastName\"\r\n                    placeholder=\"Last name\"\r\n                    className={errors.lastName ? 'border-red-500 focus:border-red-500' : ''}\r\n                    {...register('lastName')}\r\n                  />\r\n                  {errors.lastName && (\r\n                    <p className=\"text-sm text-red-500\">{errors.lastName.message}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Input\r\n                  id=\"email\"\r\n                  type=\"email\"\r\n                  placeholder=\"Enter your email\"\r\n                  className={errors.email ? 'border-red-500 focus:border-red-500' : ''}\r\n                  {...register('email')}\r\n                />\r\n                {errors.email && (\r\n                  <p className=\"text-sm text-red-500\">{errors.email.message}</p>\r\n                )}\r\n              </div>\r\n\r\n\r\n\r\n              <div className=\"space-y-2\">\r\n                <div className=\"relative\">\r\n                  <Input\r\n                    id=\"password\"\r\n                    type={showPassword ? 'text' : 'password'}\r\n                    placeholder=\"Create a password\"\r\n                    className={`pr-10 ${errors.password ? 'border-red-500 focus:border-red-500' : ''}`}\r\n                    {...register('password')}\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground hover:text-foreground\"\r\n                    onClick={() => setShowPassword(!showPassword)}\r\n                  >\r\n                    {showPassword ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\r\n                  </button>\r\n                </div>\r\n                {errors.password && (\r\n                  <p className=\"text-sm text-red-500\">{errors.password.message}</p>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <div className=\"relative\">\r\n                  <Input\r\n                    id=\"confirmPassword\"\r\n                    type={showConfirmPassword ? 'text' : 'password'}\r\n                    placeholder=\"Confirm your password\"\r\n                    className={`pr-10 ${errors.confirmPassword ? 'border-red-500 focus:border-red-500' : ''}`}\r\n                    {...register('confirmPassword')}\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground hover:text-foreground\"\r\n                    onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                  >\r\n                    {showConfirmPassword ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\r\n                  </button>\r\n                </div>\r\n                {errors.confirmPassword && (\r\n                  <p className=\"text-sm text-red-500\">{errors.confirmPassword.message}</p>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <label className=\"flex items-start space-x-3\">\r\n                  <input \r\n                    type=\"checkbox\" \r\n                    className=\"mt-1 rounded border-border\"\r\n                    {...register('agreeToTerms')}\r\n                  />\r\n                  <span className=\"text-sm text-muted-foreground\">\r\n                    I agree to the{' '}\r\n                    <Link to=\"/terms\" className=\"text-accent hover:text-accent/80 transition-colors\">\r\n                      Terms of Service\r\n                    </Link>{' '}\r\n                    and{' '}\r\n                    <Link to=\"/privacy\" className=\"text-accent hover:text-accent/80 transition-colors\">\r\n                      Privacy Policy\r\n                    </Link>\r\n                  </span>\r\n                </label>\r\n                {errors.agreeToTerms && (\r\n                  <p className=\"text-sm text-red-500\">{errors.agreeToTerms.message}</p>\r\n                )}\r\n              </div>\r\n\r\n              <Button \r\n                type=\"submit\" \r\n                className=\"w-full\" \r\n                disabled={isLoading}\r\n              >\r\n                {isLoading ? (\r\n                  <>\r\n                    <Spinner className=\"mr-2 h-4 w-4\" />\r\n                    Creating account...\r\n                  </>\r\n                ) : (\r\n                  'Create Account'\r\n                )}\r\n              </Button>\r\n            </form>\r\n\r\n            <div className=\"mt-6 text-center\">\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                Already have an account?{' '}\r\n                <Link \r\n                  to=\"/auth/login\" \r\n                  className=\"text-accent hover:text-accent/80 transition-colors font-medium\"\r\n                >\r\n                  Sign in\r\n                </Link>\r\n              </p>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  )\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\markets\\MarketDetailPage.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":115,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":115,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4786,4789],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4786,4789],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":120,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":120,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5015,5018],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5015,5018],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":128,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":128,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5312,5315],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5312,5315],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react'\r\nimport { useParams, useNavigate, Link } from 'react-router-dom'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { Badge } from '@/components/ui/Badge'\r\nimport { Card } from '@/components/ui/Card'\r\nimport { Spinner } from '@/components/ui/Spinner'\r\nimport { Tabs } from '@/components/ui/Tabs'\r\nimport { useMarket, useMarkets } from '@/features/markets/hooks/useMarkets'\r\nimport { useVendorApplications } from '@/features/applications/hooks/useApplications'\r\nimport { CommentList } from '@/components/CommentList'\r\nimport { PhotoGallery } from '@/components/PhotoGallery'\r\nimport { HashtagVoting } from '@/components/HashtagVoting'\r\nimport { ReportIssueModal } from '@/components/ReportIssueModal'\r\nimport { useAuthStore } from '@/features/auth/authStore'\r\nimport { cn } from '@/utils/cn'\r\n\r\nconst categoryLabels = {\r\n  'farmers-market': 'Farmers Market',\r\n  'arts-crafts': 'Arts & Crafts',\r\n  'flea-market': 'Flea Market',\r\n  'food-festival': 'Food Festival',\r\n  'holiday-market': 'Holiday Market',\r\n  'craft-show': 'Craft Show',\r\n  'community-event': 'Community Event',\r\n  'night-market': 'Night Market',\r\n  'street-fair': 'Street Fair',\r\n  'vintage-antique': 'Vintage & Antique'\r\n}\r\n\r\nconst categoryColors = {\r\n  'farmers-market': 'bg-green-100 text-green-800 border-green-200',\r\n  'arts-crafts': 'bg-purple-100 text-purple-800 border-purple-200',\r\n  'flea-market': 'bg-blue-100 text-blue-800 border-blue-200',\r\n  'food-festival': 'bg-orange-100 text-orange-800 border-orange-200',\r\n  'holiday-market': 'bg-red-100 text-red-800 border-red-200',\r\n  'craft-show': 'bg-pink-100 text-pink-800 border-pink-200',\r\n  'community-event': 'bg-gray-100 text-gray-800 border-gray-200',\r\n  'night-market': 'bg-indigo-100 text-indigo-800 border-indigo-200',\r\n  'street-fair': 'bg-amber-100 text-amber-800 border-amber-200',\r\n  'vintage-antique': 'bg-slate-100 text-slate-800 border-slate-200'\r\n}\r\n\r\nconst statusColors = {\r\n  'active': 'bg-success/10 text-success border-success/20',\r\n  'draft': 'bg-warning/10 text-warning border-warning/20',\r\n  'cancelled': 'bg-destructive/10 text-destructive border-destructive/20',\r\n  'completed': 'bg-muted text-muted-foreground border-muted'\r\n}\r\n\r\nexport const MarketDetailPage: React.FC = () => {\r\n  const { id } = useParams<{ id: string }>()\r\n  const navigate = useNavigate()\r\n  const [selectedImageIndex, setSelectedImageIndex] = useState(0)\r\n  const [showFullDescription, setShowFullDescription] = useState(false)\r\n  const [showReportModal, setShowReportModal] = useState(false)\r\n  \r\n  const { market, isLoading, error, refetch } = useMarket(id!)\r\n  const {\r\n    trackMarket,\r\n    untrackMarket,\r\n    isMarketTracked,\r\n    isTracking\r\n  } = useMarkets()\r\n  const { myApplications } = useVendorApplications()\r\n  const { user } = useAuthStore()\r\n\r\n  // Check if user has already applied to this market\r\n  const existingApplication = myApplications.find(app => app.marketId === id)\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <Spinner className=\"h-8 w-8 mx-auto mb-4\" />\r\n          <p className=\"text-muted-foreground\">Loading market details...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (error || !market) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\r\n        <div className=\"text-center max-w-md mx-auto p-6\">\r\n          <div className=\"w-16 h-16 mx-auto mb-4 rounded-full bg-muted flex items-center justify-center\">\r\n            <svg className=\"w-8 h-8 text-muted-foreground\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\" />\r\n            </svg>\r\n          </div>\r\n          <h1 className=\"text-2xl font-bold mb-2\">Market Not Found</h1>\r\n          <p className=\"text-muted-foreground mb-6\">\r\n            The market you're looking for doesn't exist or has been removed.\r\n          </p>\r\n          <div className=\"space-y-2\">\r\n            <Button onClick={() => navigate('/markets')} className=\"w-full\">\r\n              Browse All Markets\r\n            </Button>\r\n            <Button onClick={refetch} variant=\"outline\" className=\"w-full\">\r\n              Try Again\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const handleTrackToggle = async () => {\r\n    if (isMarketTracked(market.id)) {\r\n      await untrackMarket(market.id)\r\n    } else {\r\n      await trackMarket(market.id)\r\n    }\r\n  }\r\n\r\n  const formatSchedule = (schedule: any[]) => {\r\n    if (!schedule || schedule.length === 0) return 'Schedule TBD'\r\n    \r\n    const dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\r\n    const days = schedule\r\n      .map((s: any) => dayNames[s.dayOfWeek])\r\n      .filter((day: string, index: number, arr: string[]) => arr.indexOf(day) === index) // Remove duplicates\r\n      .join(', ')\r\n    \r\n    const time = schedule[0]\r\n    return `${days} ${time.startTime}-${time.endTime}`\r\n  }\r\n\r\n  const formatLocation = (location: any) => {\r\n    return `${location.address}, ${location.city}, ${location.state} ${location.zipCode}`\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background\">\r\n      {/* Breadcrumb */}\r\n      <div className=\"border-b bg-card\">\r\n        <div className=\"container mx-auto px-4 py-4\">\r\n          <nav className=\"flex items-center space-x-2 text-sm text-muted-foreground\">\r\n            <Link to=\"/\" className=\"hover:text-foreground transition-colors\">Home</Link>\r\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n            </svg>\r\n            <Link to=\"/markets\" className=\"hover:text-foreground transition-colors\">Markets</Link>\r\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n            </svg>\r\n            <span className=\"text-foreground font-medium truncate\">{market.name}</span>\r\n          </nav>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Header */}\r\n      <div className=\"border-b bg-card\">\r\n        <div className=\"container mx-auto px-4 py-6\">\r\n          <div className=\"flex items-start justify-between\">\r\n            <div className=\"flex-1\">\r\n              <div className=\"flex items-center gap-3 mb-4\">\r\n                <Badge variant=\"outline\" className={cn(categoryColors[market.category])}>\r\n                  {categoryLabels[market.category]}\r\n                </Badge>\r\n                <Badge variant=\"outline\" className={cn(statusColors[market.status])}>\r\n                  {market.status}\r\n                </Badge>\r\n              </div>\r\n              \r\n              <h1 className=\"text-4xl font-bold mb-4\">{market.name}</h1>\r\n              \r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-muted-foreground\">\r\n                <div className=\"flex items-center\">\r\n                  <svg className=\"w-5 h-5 mr-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n                  </svg>\r\n                  <span>{formatLocation(market.location)}</span>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center\">\r\n                  <svg className=\"w-5 h-5 mr-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                  <span>{formatSchedule(market.schedule)}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"flex gap-3 ml-6\">\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={() => navigate('/markets')}\r\n              >\r\n                Back to Markets\r\n              </Button>\r\n              <Button\r\n                onClick={handleTrackToggle}\r\n                disabled={isTracking}\r\n                variant={isMarketTracked(market.id) ? \"primary\" : \"outline\"}\r\n              >\r\n                {isMarketTracked(market.id) ? ' Tracked' : '+ Track Market'}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n          {/* Main Content */}\r\n          <div className=\"lg:col-span-2 space-y-8\">\r\n            {/* Image Gallery */}\r\n            {market.images && market.images.length > 0 && (\r\n              <div className=\"space-y-4\">\r\n                <div className=\"aspect-video rounded-lg overflow-hidden bg-muted\">\r\n                  <img\r\n                    src={market.images[selectedImageIndex]}\r\n                    alt={market.name}\r\n                    className=\"w-full h-full object-cover\"\r\n                  />\r\n                </div>\r\n                \r\n                {market.images.length > 1 && (\r\n                  <div className=\"flex gap-2 overflow-x-auto\">\r\n                    {market.images.map((image, index) => (\r\n                      <button\r\n                        key={index}\r\n                        onClick={() => setSelectedImageIndex(index)}\r\n                        className={cn(\r\n                          \"flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-colors\",\r\n                          selectedImageIndex === index \r\n                            ? \"border-accent\" \r\n                            : \"border-transparent hover:border-muted-foreground/20\"\r\n                        )}\r\n                      >\r\n                        <img\r\n                          src={image}\r\n                          alt={`${market.name} ${index + 1}`}\r\n                          className=\"w-full h-full object-cover\"\r\n                        />\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Description */}\r\n            <Card className=\"p-6\">\r\n              <h2 className=\"text-2xl font-semibold mb-4\">About This Market</h2>\r\n              <div className=\"prose prose-sm max-w-none\">\r\n                <p className={cn(\r\n                  \"text-muted-foreground leading-relaxed\",\r\n                  !showFullDescription && \"line-clamp-4\"\r\n                )}>\r\n                  {market.description}\r\n                </p>\r\n                {market.description.length > 200 && (\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    onClick={() => setShowFullDescription(!showFullDescription)}\r\n                    className=\"p-0 h-auto mt-2\"\r\n                  >\r\n                    {showFullDescription ? 'Show Less' : 'Read More'}\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            </Card>\r\n\r\n            {/* Accessibility Features */}\r\n            <Card className=\"p-6\">\r\n              <h2 className=\"text-2xl font-semibold mb-4\">Accessibility & Amenities</h2>\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-3\">\r\n                  <h3 className=\"font-medium\">Accessibility</h3>\r\n                  <div className=\"space-y-2\">\r\n                    <div className=\"flex items-center\">\r\n                      {market.accessibility.wheelchairAccessible ? (\r\n                        <span className=\"text-success mr-2\"></span>\r\n                      ) : (\r\n                        <span className=\"text-muted-foreground mr-2\"></span>\r\n                      )}\r\n                      <span className=\"text-sm\">Wheelchair Accessible</span>\r\n                    </div>\r\n                    <div className=\"flex items-center\">\r\n                      {market.accessibility.parkingAvailable ? (\r\n                        <span className=\"text-success mr-2\"></span>\r\n                      ) : (\r\n                        <span className=\"text-muted-foreground mr-2\"></span>\r\n                      )}\r\n                      <span className=\"text-sm\">Parking Available</span>\r\n                    </div>\r\n                    <div className=\"flex items-center\">\r\n                      {market.accessibility.restroomsAvailable ? (\r\n                        <span className=\"text-success mr-2\"></span>\r\n                      ) : (\r\n                        <span className=\"text-muted-foreground mr-2\"></span>\r\n                      )}\r\n                      <span className=\"text-sm\">Restrooms Available</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"space-y-3\">\r\n                  <h3 className=\"font-medium\">Family Features</h3>\r\n                  <div className=\"space-y-2\">\r\n                    <div className=\"flex items-center\">\r\n                      {market.accessibility.familyFriendly ? (\r\n                        <span className=\"text-success mr-2\"></span>\r\n                      ) : (\r\n                        <span className=\"text-muted-foreground mr-2\"></span>\r\n                      )}\r\n                      <span className=\"text-sm\">Family Friendly</span>\r\n                    </div>\r\n                    <div className=\"flex items-center\">\r\n                      {market.accessibility.petFriendly ? (\r\n                        <span className=\"text-success mr-2\"></span>\r\n                      ) : (\r\n                        <span className=\"text-muted-foreground mr-2\"></span>\r\n                      )}\r\n                      <span className=\"text-sm\">Pet Friendly</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Card>\r\n\r\n            {/* Tags */}\r\n            {market.tags && market.tags.length > 0 && (\r\n              <Card className=\"p-6\">\r\n                <h2 className=\"text-2xl font-semibold mb-4\">Tags</h2>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {market.tags.map((tag) => (\r\n                    <Badge key={tag} variant=\"outline\">\r\n                      {tag}\r\n                    </Badge>\r\n                  ))}\r\n                </div>\r\n              </Card>\r\n            )}\r\n\r\n            {/* Community Features */}\r\n            <Card className=\"p-0 overflow-hidden\">\r\n              <Tabs \r\n                items={[\r\n                  {\r\n                    key: 'comments',\r\n                    label: 'Comments',\r\n                    content: <CommentList marketId={id!} />\r\n                  },\r\n                  {\r\n                    key: 'photos',\r\n                    label: 'Photos',\r\n                    content: (\r\n                      <PhotoGallery \r\n                        marketId={id!} \r\n                        showUpload={!!user && (user.role === 'vendor' || user.role === 'promoter')}\r\n                      />\r\n                    )\r\n                  },\r\n                  {\r\n                    key: 'hashtags',\r\n                    label: 'Hashtags',\r\n                    content: (\r\n                      <HashtagVoting \r\n                        marketId={id!} \r\n                        showCreateForm={!!user}\r\n                      />\r\n                    )\r\n                  }\r\n                ]}\r\n                defaultActiveKey=\"comments\"\r\n                className=\"w-full\"\r\n              />\r\n            </Card>\r\n          </div>\r\n\r\n          {/* Sidebar */}\r\n          <div className=\"lg:col-span-1\">\r\n            <div className=\"sticky top-4 space-y-6\">\r\n              {/* Contact Info */}\r\n              <Card className=\"p-6\">\r\n                <h3 className=\"text-lg font-semibold mb-4\">Contact Information</h3>\r\n                <div className=\"space-y-3\">\r\n                  {market.contact.phone && (\r\n                    <div className=\"flex items-center\">\r\n                      <svg className=\"w-4 h-4 mr-3 text-muted-foreground\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\r\n                      </svg>\r\n                      <span className=\"text-sm\">{market.contact.phone}</span>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {market.contact.email && (\r\n                    <div className=\"flex items-center\">\r\n                      <svg className=\"w-4 h-4 mr-3 text-muted-foreground\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n                      </svg>\r\n                      <a href={`mailto:${market.contact.email}`} className=\"text-sm text-accent hover:underline\">\r\n                        {market.contact.email}\r\n                      </a>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {market.contact.website && (\r\n                    <div className=\"flex items-center\">\r\n                      <svg className=\"w-4 h-4 mr-3 text-muted-foreground\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9\" />\r\n                      </svg>\r\n                      <a href={market.contact.website} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-sm text-accent hover:underline\">\r\n                        Visit Website\r\n                      </a>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </Card>\r\n\r\n              {/* Market Promoter */}\r\n              {market.promoter && (\r\n                <Card className=\"p-6\">\r\n                  <h3 className=\"text-lg font-semibold mb-4\">Market Organizer</h3>\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <div className=\"w-10 h-10 bg-muted rounded-full flex items-center justify-center\">\r\n                      <span className=\"text-sm font-medium\">\r\n                        {market.promoter.firstName[0]}{market.promoter.lastName[0]}\r\n                      </span>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"font-medium\">{market.promoter.firstName} {market.promoter.lastName}</p>\r\n                      <p className=\"text-sm text-muted-foreground\">{market.promoter.email}</p>\r\n                    </div>\r\n                  </div>\r\n                </Card>\r\n              )}\r\n\r\n              {/* Quick Actions */}\r\n              <Card className=\"p-6\">\r\n                <h3 className=\"text-lg font-semibold mb-4\">Actions</h3>\r\n                <div className=\"space-y-3\">\r\n                  {/* Apply to Market Button */}\r\n                  {existingApplication ? (\r\n                    <div className=\"space-y-2\">\r\n                      <Button \r\n                        className=\"w-full\" \r\n                        onClick={() => navigate(`/applications/${existingApplication.id}`)}\r\n                      >\r\n                        <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n                        </svg>\r\n                        View My Application\r\n                      </Button>\r\n                      <div className=\"text-xs text-muted-foreground text-center\">\r\n                        Status: {existingApplication.status.replace('-', ' ')}\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    <Button \r\n                      className=\"w-full\" \r\n                      onClick={() => navigate(`/markets/${id}/apply`)}\r\n                    >\r\n                      <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\r\n                      </svg>\r\n                      Apply to Market\r\n                    </Button>\r\n                  )}\r\n                  \r\n                  <Button className=\"w-full\" variant=\"outline\">\r\n                    <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z\" />\r\n                    </svg>\r\n                    Share Market\r\n                  </Button>\r\n                  \r\n                  <Button className=\"w-full\" variant=\"outline\">\r\n                    <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\" />\r\n                    </svg>\r\n                    Add to Favorites\r\n                  </Button>\r\n                  \r\n                  <Button\r\n                    className=\"w-full\"\r\n                    variant=\"outline\"\r\n                    onClick={() => setShowReportModal(true)}\r\n                  >\r\n                    <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3a4 4 0 118 0v4m-4 12v4m-4-4h.01M16 8h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                    </svg>\r\n                    Report Issue\r\n                  </Button>\r\n                </div>\r\n              </Card>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <ReportIssueModal\r\n        isOpen={showReportModal}\r\n        onClose={() => setShowReportModal(false)}\r\n        marketId={market.id}\r\n        marketName={market.name}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\markets\\MarketSearchPage.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'searchParams' and 'setFilters'. Either include them or remove the dependency array.","line":78,"column":6,"nodeType":"ArrayExpression","endLine":78,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [searchParams, setFilters]","fix":{"range":[2619,2621],"text":"[searchParams, setFilters]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":272,"column":82,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":272,"endColumn":85,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11353,11356],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11353,11356],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":274,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":274,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11493,11496],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11493,11496],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":278,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":278,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11788,11791],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11788,11791],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":420,"column":88,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":420,"endColumn":91,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[19862,19865],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[19862,19865],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":422,"column":68,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":422,"endColumn":71,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[20014,20017],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[20014,20017],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":426,"column":68,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":426,"endColumn":71,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[20333,20336],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[20333,20336],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react'\r\nimport { useSearchParams } from 'react-router-dom'\r\nimport { MarketGrid } from '@/components/MarketGrid'\r\n\r\nimport { Button, Input } from '@/components/ui'\r\nimport { useMarkets } from '@/features/markets/hooks/useMarkets'\r\nimport { useSidebarStore } from '@/features/theme/themeStore'\r\nimport type { MarketCategory, MarketFilters as MarketFilterType } from '@/types'\r\n\r\nimport { Search, SlidersHorizontal, ArrowUpDown, MapPin, Calendar } from 'lucide-react'\r\n\r\nexport const MarketSearchPage: React.FC = () => {\r\n  const [searchParams, setSearchParams] = useSearchParams()\r\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid')\r\n  const [showFilters, setShowFilters] = useState(false)\r\n  const [sortBy, setSortBy] = useState<'date' | 'name' | 'distance'>('date')\r\n  const { isSidebarOpen } = useSidebarStore()\r\n  const trendingHashtags = [\r\n    'handmade',\r\n    'fresh-produce',\r\n    'vintage',\r\n    'crafts',\r\n    'family-friendly',\r\n    'wheelchair-accessible'\r\n  ]\r\n  \r\n  const {\r\n    markets,\r\n    isLoading,\r\n    isSearching,\r\n    error,\r\n    filters,\r\n    searchQuery,\r\n    trackedMarketIds,\r\n    isTracking,\r\n    searchMarkets,\r\n    setFilters,\r\n    trackMarket,\r\n    untrackMarket,\r\n    nextPage,\r\n    previousPage,\r\n    hasMore,\r\n    currentPage,\r\n    refresh\r\n  } = useMarkets({\r\n    autoLoad: true\r\n  })\r\n\r\n  // Initialize filters from URL params only on component mount\r\n  useEffect(() => {\r\n    const urlFilters: MarketFilterType = {\r\n      search: searchParams.get('search') || '',\r\n      category: searchParams.get('category')?.split(',') as MarketFilterType['category'],\r\n      location: {\r\n        city: searchParams.get('city') || '',\r\n        state: searchParams.get('state') || ''\r\n      },\r\n      status: searchParams.get('status')?.split(',') as MarketFilterType['status'],\r\n      accessibility: {\r\n        wheelchairAccessible: searchParams.get('wheelchair') === 'true',\r\n        parkingAvailable: searchParams.get('parking') === 'true',\r\n        restroomsAvailable: searchParams.get('restrooms') === 'true'\r\n      }\r\n    }\r\n    \r\n    // Only set filters if they are not empty to avoid unnecessary updates\r\n    if (Object.keys(urlFilters).some(key => {\r\n      const value = urlFilters[key as keyof MarketFilterType]\r\n      if (typeof value === 'string') return value !== ''\r\n      if (Array.isArray(value)) return value.length > 0\r\n      if (typeof value === 'object' && value !== null) {\r\n        return Object.values(value).some(v => v === true)\r\n      }\r\n      return false\r\n    })) {\r\n      setFilters(urlFilters)\r\n    }\r\n  }, []) // Empty dependency array ensures this only runs on mount\r\n\r\n  // Update URL when filters change\r\n  const updateUrlParams = (newFilters: MarketFilterType) => {\r\n    const params = new URLSearchParams()\r\n    \r\n    if (newFilters.search) params.set('search', newFilters.search)\r\n    if (newFilters.category?.length) params.set('category', newFilters.category.join(','))\r\n    if (newFilters.location?.city) params.set('city', newFilters.location.city)\r\n    if (newFilters.location?.state) params.set('state', newFilters.location.state)\r\n    if (newFilters.status?.length) params.set('status', newFilters.status.join(','))\r\n    if (newFilters.accessibility?.wheelchairAccessible) params.set('wheelchair', 'true')\r\n    if (newFilters.accessibility?.parkingAvailable) params.set('parking', 'true')\r\n    if (newFilters.accessibility?.restroomsAvailable) params.set('restrooms', 'true')\r\n    \r\n    setSearchParams(params)\r\n  }\r\n\r\n  const handleFiltersChange = (newFilters: MarketFilterType) => {\r\n    setFilters(newFilters)\r\n    updateUrlParams(newFilters)\r\n  }\r\n\r\n  const handleSearch = (query: string) => {\r\n    searchMarkets(query)\r\n    const newFilters = { ...filters, search: query }\r\n    updateUrlParams(newFilters)\r\n  }\r\n\r\n  const handleTrendingTagClick = (tag: string) => {\r\n    handleSearch(tag)\r\n  }\r\n\r\n  const handleTrackMarket = async (marketId: string) => {\r\n    try {\r\n      await trackMarket(marketId)\r\n    } catch (error) {\r\n      console.error('Failed to track market:', error)\r\n    }\r\n  }\r\n\r\n  const handleUntrackMarket = async (marketId: string) => {\r\n    try {\r\n      await untrackMarket(marketId)\r\n    } catch (error) {\r\n      console.error('Failed to untrack market:', error)\r\n    }\r\n  }\r\n\r\n  const handleClearFilters = () => {\r\n    setFilters({})\r\n    setSearchParams({})\r\n  }\r\n\r\n  const getActiveFilterCount = () => {\r\n    let count = 0\r\n    if (filters.category?.length) count++\r\n    if (filters.location?.city || filters.location?.state) count++\r\n    if (filters.status?.length) count++\r\n    if (filters.accessibility?.wheelchairAccessible) count++\r\n    if (filters.accessibility?.parkingAvailable) count++\r\n    if (filters.search) count++\r\n    return count\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background\">\r\n      <>\r\n        <div className=\"flex flex-col lg:flex-row\">\r\n          {/* Sidebar */}\r\n          <aside className={`${isSidebarOpen ? 'w-full lg:w-80' : 'w-0'} transition-all duration-300 overflow-hidden bg-surface border-b lg:border-b-0 lg:border-r border-border`}>\r\n            <div className=\"p-4 sm:p-6 w-full lg:w-80 space-y-6\">\r\n\r\n              {/* Search */}\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <h2 className=\"text-lg font-semibold text-foreground\">Start with location</h2>\r\n                  {getActiveFilterCount() > 0 && (\r\n                    <span className=\"text-xs font-medium text-muted-foreground\">\r\n                      {getActiveFilterCount()} active\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                <div className=\"space-y-3\">\r\n                  <div className=\"relative\">\r\n                    <MapPin className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground dark:text-muted-foreground\" />\r\n                    <Input\r\n                      placeholder=\"Location (city, state)\"\r\n                      value={filters.location?.city || ''}\r\n                      onChange={(e) => handleFiltersChange({\r\n                        ...filters,\r\n                        location: { ...filters.location, city: e.target.value }\r\n                      })}\r\n                      className=\"pl-10 border border-border bg-surface/50 focus:bg-surface/80\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"relative\">\r\n                    <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground dark:text-muted-foreground\" />\r\n                    <Input\r\n                      placeholder=\"Search markets or keywords...\"\r\n                      value={searchQuery}\r\n                      onChange={(e) => handleSearch(e.target.value)}\r\n                      className=\"pl-10 border border-border bg-surface/50 focus:bg-surface/80\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"text-xs text-muted-foreground\">\r\n                    Location filters narrow results first, then keywords refine.\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"text-xs font-medium text-muted-foreground mb-2\">Trending hashtags</div>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                      {trendingHashtags.map((tag) => (\r\n                        <button\r\n                          key={tag}\r\n                          onClick={() => handleTrendingTagClick(tag)}\r\n                          className=\"px-3 py-1.5 rounded-full text-xs font-medium transition-colors min-h-[36px] bg-surface-2 hover:bg-surface text-foreground\"\r\n                        >\r\n                          #{tag}\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                  {getActiveFilterCount() > 0 && (\r\n                    <Button\r\n                      onClick={handleClearFilters}\r\n                      variant=\"outline\"\r\n                      size=\"sm\"\r\n                      className=\"w-full\"\r\n                    >\r\n                      Clear All Filters ({getActiveFilterCount()})\r\n                    </Button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Sort Options */}\r\n              <div>\r\n                <h3 className=\"text-md font-semibold text-foreground mb-3 flex items-center gap-2\">\r\n                  <ArrowUpDown className=\"h-4 w-4\" />\r\n                  Sort By\r\n                </h3>\r\n                <div className=\"space-y-2\">\r\n                  <button\r\n                    onClick={() => setSortBy('date')}\r\n                    className={`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left transition-colors border ${\r\n                      sortBy === 'date'\r\n                        ? 'bg-accent/10 text-accent border-accent/30'\r\n                        : 'border-transparent hover:bg-surface-2'\r\n                    }`}\r\n                  >\r\n                    <Calendar className=\"h-4 w-4 text-muted-foreground\" />\r\n                    <span className=\"text-sm\">Date</span>\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setSortBy('name')}\r\n                    className={`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left transition-colors border ${\r\n                      sortBy === 'name'\r\n                        ? 'bg-accent/10 text-accent border-accent/30'\r\n                        : 'border-transparent hover:bg-surface-2'\r\n                    }`}\r\n                  >\r\n                    <Search className=\"h-4 w-4 text-muted-foreground\" />\r\n                    <span className=\"text-sm\">Name</span>\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setSortBy('distance')}\r\n                    className={`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left transition-colors border ${\r\n                      sortBy === 'distance'\r\n                        ? 'bg-accent/10 text-accent border-accent/30'\r\n                        : 'border-transparent hover:bg-surface-2'\r\n                    }`}\r\n                  >\r\n                    <MapPin className=\"h-4 w-4 text-muted-foreground\" />\r\n                    <span className=\"text-sm\">Distance</span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Quick Filters */}\r\n              <div>\r\n                <h3 className=\"text-md font-semibold text-foreground mb-3 flex items-center gap-2\">\r\n                  <SlidersHorizontal className=\"h-4 w-4\" />\r\n                  Filters\r\n                </h3>\r\n\r\n                {/* Status Filters */}\r\n                <div className=\"mb-4\">\r\n                  <div className=\"text-xs font-medium text-muted-foreground mb-2\">Market Status</div>\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {['upcoming', 'active', 'completed'].map((status) => (\r\n                      <button\r\n                        key={status}\r\n                        onClick={() => {\r\n                          const currentStatuses = filters.status || []\r\n                          const newStatuses = currentStatuses.includes(status as any)\r\n                            ? currentStatuses.filter(s => s !== status)\r\n                            : [...currentStatuses, status as any]\r\n                          handleFiltersChange({ ...filters, status: newStatuses })\r\n                        }}\r\n                        className={`px-3 py-1.5 rounded-full text-xs font-medium transition-colors min-h-[36px] ${\r\n                          filters.status?.includes(status as any)\r\n                            ? 'bg-accent text-accent-foreground'\r\n                            : 'bg-surface-2 hover:bg-surface text-foreground'\r\n                        }`}\r\n                      >\r\n                        {status.charAt(0).toUpperCase() + status.slice(1)}\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Accessibility Filters */}\r\n                <div className=\"mb-4\">\r\n                  <div className=\"text-xs font-medium text-muted-foreground mb-2\">Accessibility</div>\r\n                  <div className=\"space-y-2\">\r\n                    <label className=\"flex items-center gap-3 cursor-pointer rounded-lg px-2 py-2 hover:bg-surface-2\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={filters.accessibility?.wheelchairAccessible || false}\r\n                        onChange={(e) => handleFiltersChange({\r\n                          ...filters,\r\n                          accessibility: { ...filters.accessibility, wheelchairAccessible: e.target.checked }\r\n                        })}\r\n                        className=\"h-4 w-4 rounded border-border\"\r\n                      />\r\n                      <span className=\"text-sm\">Wheelchair Accessible</span>\r\n                    </label>\r\n                    <label className=\"flex items-center gap-3 cursor-pointer rounded-lg px-2 py-2 hover:bg-surface-2\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={filters.accessibility?.parkingAvailable || false}\r\n                        onChange={(e) => handleFiltersChange({\r\n                          ...filters,\r\n                          accessibility: { ...filters.accessibility, parkingAvailable: e.target.checked }\r\n                        })}\r\n                        className=\"h-4 w-4 rounded border-border\"\r\n                      />\r\n                      <span className=\"text-sm\">Parking Available</span>\r\n                    </label>\r\n                    <label className=\"flex items-center gap-3 cursor-pointer rounded-lg px-2 py-2 hover:bg-surface-2\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={filters.accessibility?.restroomsAvailable || false}\r\n                        onChange={(e) => handleFiltersChange({\r\n                          ...filters,\r\n                          accessibility: { ...filters.accessibility, restroomsAvailable: e.target.checked }\r\n                        })}\r\n                        className=\"h-4 w-4 rounded border-border\"\r\n                      />\r\n                      <span className=\"text-sm\">Restrooms Available</span>\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Advanced Filters Toggle */}\r\n                <div className=\"mt-4\">\r\n                  <button\r\n                    onClick={() => setShowFilters(!showFilters)}\r\n                    className=\"w-full flex items-center justify-between px-3 py-2.5 rounded-lg bg-surface-2 hover:bg-surface transition-colors\"\r\n                  >\r\n                    <span className=\"text-sm font-medium flex items-center gap-2\">\r\n                      <SlidersHorizontal className=\"h-4 w-4\" />\r\n                      Advanced Filters\r\n                    </span>\r\n                    <span className={`transform transition-transform ${showFilters ? 'rotate-180' : ''}`}>\r\n                      \r\n                    </span>\r\n                  </button>\r\n\r\n                  {showFilters && (\r\n                    <div className=\"mt-3 space-y-4\">\r\n                      {/* Category Filter */}\r\n                      <div>\r\n                        <div className=\"text-xs font-medium text-muted-foreground mb-2\">Market Categories</div>\r\n                        <div className=\"flex flex-wrap gap-2\">\r\n                          {([\r\n                            { label: 'Farmers Markets', value: 'farmers-market' },\r\n                            { label: 'Arts & Crafts', value: 'arts-crafts' },\r\n                            { label: 'Flea Markets', value: 'flea-market' },\r\n                            { label: 'Food Festivals', value: 'food-festival' },\r\n                            { label: 'Vintage & Antique', value: 'vintage-antique' },\r\n                            { label: 'Craft Shows', value: 'craft-show' },\r\n                            { label: 'Night Markets', value: 'night-market' },\r\n                            { label: 'Street Fairs', value: 'street-fair' },\r\n                            { label: 'Holiday Markets', value: 'holiday-market' },\r\n                            { label: 'Community Events', value: 'community-event' }\r\n                          ] satisfies { label: string; value: MarketCategory }[]).map((category) => (\r\n                            <button\r\n                              key={category.value}\r\n                              onClick={() => {\r\n                                const currentCategories = filters.category || []\r\n                                const newCategories = currentCategories.includes(category.value)\r\n                                  ? currentCategories.filter(c => c !== category.value)\r\n                                  : [...currentCategories, category.value]\r\n                                handleFiltersChange({ ...filters, category: newCategories })\r\n                              }}\r\n                              className={`px-3 py-1.5 rounded-full text-xs font-medium transition-colors min-h-[36px] ${\r\n                                filters.category?.includes(category.value)\r\n                                  ? 'bg-accent text-accent-foreground'\r\n                                  : 'bg-surface-2 hover:bg-surface text-foreground'\r\n                              }`}\r\n                            >\r\n                              {category.label}\r\n                            </button>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Date Range */}\r\n                      <div>\r\n                        <div className=\"text-xs font-medium text-muted-foreground mb-2\">Date Range</div>\r\n                        <div className=\"space-y-2\">\r\n                          <input\r\n                            type=\"date\"\r\n                            placeholder=\"From date\"\r\n                            className=\"w-full px-3 py-2 text-sm border border-border bg-surface/50 rounded-md focus:bg-surface/80\"\r\n                            onChange={(e) => {\r\n                              // Handle date range - this would need backend support\r\n                              console.log('Date from:', e.target.value)\r\n                            }}\r\n                          />\r\n                          <input\r\n                            type=\"date\"\r\n                            placeholder=\"To date\"\r\n                            className=\"w-full px-3 py-2 text-sm border border-border bg-surface/50 rounded-md focus:bg-surface/80\"\r\n                            onChange={(e) => {\r\n                              // Handle date range - this would need backend support\r\n                              console.log('Date to:', e.target.value)\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Additional Status Options */}\r\n                      <div>\r\n                        <div className=\"text-xs font-medium text-muted-foreground mb-2\">More Status Options</div>\r\n                        <div className=\"flex flex-wrap gap-2\">\r\n                          {['cancelled', 'postponed'].map((status) => (\r\n                            <button\r\n                              key={status}\r\n                              onClick={() => {\r\n                                const currentStatuses = filters.status || []\r\n                                const newStatuses = currentStatuses.includes(status as any)\r\n                                  ? currentStatuses.filter(s => s !== status)\r\n                                  : [...currentStatuses, status as any]\r\n                                handleFiltersChange({ ...filters, status: newStatuses })\r\n                              }}\r\n                              className={`px-3 py-1.5 rounded-full text-xs font-medium transition-colors min-h-[36px] ${\r\n                                filters.status?.includes(status as any)\r\n                                  ? 'bg-accent text-accent-foreground'\r\n                                  : 'bg-surface-2 hover:bg-surface text-foreground'\r\n                              }`}\r\n                            >\r\n                              {status.charAt(0).toUpperCase() + status.slice(1)}\r\n                            </button>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n\r\n\r\n            </div>\r\n          </aside>\r\n\r\n          {/* Main Content */}\r\n          <main className=\"flex-1 p-4 sm:p-6\">\r\n            {/* Header */}\r\n            <div className=\"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n              <div>\r\n                <h1 className=\"text-3xl font-bold text-foreground mb-2\">Search Markets</h1>\r\n                <p className=\"text-muted-foreground\">\r\n                  {isSearching ? 'Searching...' : `${markets.length} markets found`}\r\n                </p>\r\n              </div>\r\n              {/* View Mode Toggle */}\r\n              <div className=\"flex rounded-lg bg-surface/50 border border-border w-full md:w-auto\">\r\n                <Button\r\n                  variant={viewMode === 'grid' ? 'primary' : 'ghost'}\r\n                  size=\"sm\"\r\n                  onClick={() => setViewMode('grid')}\r\n                  className=\"rounded-r-none px-3 flex-1 md:flex-none\"\r\n                >\r\n                  Grid\r\n                </Button>\r\n                <Button\r\n                  variant={viewMode === 'list' ? 'primary' : 'ghost'}\r\n                  size=\"sm\"\r\n                  onClick={() => setViewMode('list')}\r\n                  className=\"rounded-l-none px-3 flex-1 md:flex-none\"\r\n                >\r\n                  List\r\n                </Button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Market Grid */}\r\n            <MarketGrid\r\n              markets={markets}\r\n              isLoading={isLoading}\r\n              isSearching={isSearching}\r\n              error={error}\r\n              onTrack={handleTrackMarket}\r\n              onUntrack={handleUntrackMarket}\r\n              trackedMarketIds={trackedMarketIds}\r\n              isTracking={isTracking}\r\n              variant={viewMode}\r\n              emptyStateProps={{\r\n                title: \"No markets found\",\r\n                description: \"Try adjusting your search criteria or filters to find more markets.\",\r\n                action: (\r\n                  <div className=\"space-y-2\">\r\n                    <Button onClick={handleClearFilters} variant=\"outline\">\r\n                      Clear all filters\r\n                    </Button>\r\n                    <Button onClick={refresh} variant=\"outline\">\r\n                      Refresh markets\r\n                    </Button>\r\n                  </div>\r\n                )\r\n              }}\r\n            />\r\n\r\n            {/* Pagination */}\r\n            {markets.length > 0 && hasMore && (\r\n              <div className=\"flex justify-center mt-8\">\r\n                <div className=\"flex gap-2\">\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    onClick={previousPage}\r\n                    disabled={currentPage <= 1 || isLoading}\r\n                  >\r\n                    Previous\r\n                  </Button>\r\n                  <Button\r\n                    onClick={nextPage}\r\n                    disabled={!hasMore || isLoading}\r\n                  >\r\n                    Next\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </main>\r\n        </div>\r\n      </>\r\n    </div>\r\n  )\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\markets\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\promoter\\BusinessPlanningPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\promoter\\PromoterAnalyticsPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\promoter\\PromoterApplicationsPage.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":215,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":215,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7658,7661],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7658,7661],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":238,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":238,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8403,8406],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8403,8406],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":257,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":257,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9112,9115],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9112,9115],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":272,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":272,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9625,9628],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9625,9628],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":282,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":282,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9895,9898],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9895,9898],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":299,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":299,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10491,10494],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10491,10494],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useMemo } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { \r\n  Search, \r\n  Filter, \r\n  FileText,\r\n  CheckCircle,\r\n  XCircle,\r\n  Clock,\r\n  User,\r\n  MapPin,\r\n  Calendar,\r\n  Eye,\r\n  MessageSquare,\r\n  Download,\r\n  RefreshCw,\r\n  AlertTriangle\r\n} from 'lucide-react'\r\nimport { Card } from '@/components/ui/Card'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { Input } from '@/components/ui/Input'\r\nimport { Select, SelectOption } from '@/components/ui/Select'\r\nimport { Badge } from '@/components/ui/Badge'\r\nimport { Table } from '@/components/ui/Table'\r\nimport { Textarea } from '@/components/ui/Textarea'\r\nimport { ApplicationCard } from '@/components/ApplicationCard'\r\nimport { BulkActions } from '@/components/ApplicationActions'\r\nimport { useApplications } from '@/features/applications/hooks/useApplications'\r\nimport { useAuthStore } from '@/features/auth/authStore'\r\nimport { useMarkets } from '@/features/markets/hooks/useMarkets'\r\nimport { Application, ApplicationStatus } from '@/types'\r\nimport { cn } from '@/utils/cn'\r\n\r\nexport function PromoterApplicationsPage() {\r\n  const { user } = useAuthStore()\r\n  const { markets } = useMarkets()\r\n  const { \r\n    applications, \r\n    isLoading: applicationsLoading, \r\n    updateStatus, \r\n    bulkUpdateStatus \r\n  } = useApplications()\r\n  \r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [statusFilter, setStatusFilter] = useState<string>('')\r\n  const [marketFilter, setMarketFilter] = useState<string>('')\r\n  const [showFilters, setShowFilters] = useState(false)\r\n  const [selectedApplications, setSelectedApplications] = useState<string[]>([])\r\n  const [bulkActionModal, setBulkActionModal] = useState<{\r\n    type: 'approve' | 'reject'\r\n    ids: string[]\r\n  } | null>(null)\r\n  const [rejectionReason, setRejectionReason] = useState('')\r\n  const [isProcessing, setIsProcessing] = useState(false)\r\n\r\n  // Filter applications for markets created by current promoter\r\n  const myMarkets = useMemo(() => {\r\n    return markets.filter(market => market.promoterId === user?.id)\r\n  }, [markets, user?.id])\r\n\r\n  const myMarketIds = useMemo(() => {\r\n    return myMarkets.map(market => market.id)\r\n  }, [myMarkets])\r\n\r\n  const promoterApplications = useMemo(() => {\r\n    return applications.filter(app => myMarketIds.includes(app.marketId))\r\n  }, [applications, myMarketIds])\r\n\r\n  // Apply filters\r\n  const filteredApplications = useMemo(() => {\r\n    return promoterApplications.filter(application => {\r\n      const matchesSearch = !searchTerm || \r\n        application.vendor.firstName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        application.vendor.lastName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        application.market.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        application.submittedData.businessName?.toLowerCase().includes(searchTerm.toLowerCase())\r\n      \r\n      const matchesStatus = !statusFilter || application.status === statusFilter\r\n      const matchesMarket = !marketFilter || application.marketId === marketFilter\r\n      \r\n      return matchesSearch && matchesStatus && matchesMarket\r\n    })\r\n  }, [promoterApplications, searchTerm, statusFilter, marketFilter])\r\n\r\n  const getStatusBadge = (status: ApplicationStatus) => {\r\n    switch (status) {\r\n      case 'submitted':\r\n        return <Badge className=\"bg-info/10 text-info border-info/20\">Submitted</Badge>\r\n      case 'under-review':\r\n        return <Badge className=\"bg-warning/10 text-warning border-warning/20\">Under Review</Badge>\r\n      case 'approved':\r\n        return <Badge className=\"bg-success/10 text-success border-success/20\">Approved</Badge>\r\n      case 'rejected':\r\n        return <Badge variant=\"destructive\">Rejected</Badge>\r\n      case 'withdrawn':\r\n        return <Badge variant=\"outline\">Withdrawn</Badge>\r\n      default:\r\n        return <Badge variant=\"muted\">{status}</Badge>\r\n    }\r\n  }\r\n\r\n  const getPriorityBadge = (application: Application) => {\r\n    // Mock priority logic - in real app this would be based on actual criteria\r\n    const daysSinceSubmission = Math.floor(\r\n      (new Date().getTime() - new Date(application.createdAt).getTime()) / (1000 * 60 * 60 * 24)\r\n    )\r\n    \r\n    if (daysSinceSubmission > 7) {\r\n      return <Badge variant=\"destructive\" className=\"text-xs\">High Priority</Badge>\r\n    } else if (daysSinceSubmission > 3) {\r\n      return <Badge className=\"bg-warning/10 text-warning border-warning/20 text-xs\">Medium</Badge>\r\n    }\r\n    return null\r\n  }\r\n\r\n  const handleSelectAll = () => {\r\n    if (selectedApplications.length === filteredApplications.length) {\r\n      setSelectedApplications([])\r\n    } else {\r\n      setSelectedApplications(filteredApplications.map(app => app.id))\r\n    }\r\n  }\r\n\r\n  const handleSelectApplication = (applicationId: string) => {\r\n    setSelectedApplications(prev => \r\n      prev.includes(applicationId) \r\n        ? prev.filter(id => id !== applicationId)\r\n        : [...prev, applicationId]\r\n    )\r\n  }\r\n\r\n  const handleApproveApplication = async (applicationId: string) => {\r\n    try {\r\n      await updateStatus(applicationId, 'approved')\r\n    } catch (error) {\r\n      console.error('Failed to approve application:', error)\r\n    }\r\n  }\r\n\r\n  const handleRejectApplication = async (applicationId: string, reason?: string) => {\r\n    try {\r\n      await updateStatus(applicationId, 'rejected', reason)\r\n    } catch (error) {\r\n      console.error('Failed to reject application:', error)\r\n    }\r\n  }\r\n\r\n  const handleBulkApprove = async () => {\r\n    if (selectedApplications.length === 0) return\r\n    \r\n    setIsProcessing(true)\r\n    try {\r\n      await bulkUpdateStatus(selectedApplications, 'approved')\r\n      setSelectedApplications([])\r\n      setBulkActionModal(null)\r\n    } catch (error) {\r\n      console.error('Failed to bulk approve applications:', error)\r\n    } finally {\r\n      setIsProcessing(false)\r\n    }\r\n  }\r\n\r\n  const handleBulkReject = async () => {\r\n    if (selectedApplications.length === 0 || !rejectionReason.trim()) return\r\n    \r\n    setIsProcessing(true)\r\n    try {\r\n      await bulkUpdateStatus(selectedApplications, 'rejected', rejectionReason)\r\n      setSelectedApplications([])\r\n      setBulkActionModal(null)\r\n      setRejectionReason('')\r\n    } catch (error) {\r\n      console.error('Failed to bulk reject applications:', error)\r\n    } finally {\r\n      setIsProcessing(false)\r\n    }\r\n  }\r\n\r\n  // Calculate stats\r\n  const stats = useMemo(() => {\r\n    const total = promoterApplications.length\r\n    const pending = promoterApplications.filter(app => \r\n      app.status === 'submitted' || app.status === 'under-review'\r\n    ).length\r\n    const approved = promoterApplications.filter(app => app.status === 'approved').length\r\n    const rejected = promoterApplications.filter(app => app.status === 'rejected').length\r\n    const avgProcessingTime = 3.2 // Mock average in days\r\n\r\n    return { total, pending, approved, rejected, avgProcessingTime }\r\n  }, [promoterApplications])\r\n\r\n  const statusFilterOptions: SelectOption[] = [\r\n    { value: '', label: 'All Status' },\r\n    { value: 'submitted', label: 'Submitted' },\r\n    { value: 'under-review', label: 'Under Review' },\r\n    { value: 'approved', label: 'Approved' },\r\n    { value: 'rejected', label: 'Rejected' },\r\n    { value: 'withdrawn', label: 'Withdrawn' }\r\n  ]\r\n\r\n  const marketFilterOptions: SelectOption[] = [\r\n    { value: '', label: 'All Markets' },\r\n    ...myMarkets.map(market => ({\r\n      value: market.id,\r\n      label: market.name\r\n    }))\r\n  ]\r\n\r\n  // Table columns\r\n  const columns = [\r\n    {\r\n      key: 'select',\r\n      title: '',\r\n      width: '48px',\r\n      render: (_: any, record: Application) => (\r\n        <Button\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          onClick={() => handleSelectApplication(record.id)}\r\n          className=\"h-8 w-8 p-0\"\r\n        >\r\n          <div className={cn(\r\n            'w-4 h-4 rounded border-2 flex items-center justify-center',\r\n            selectedApplications.includes(record.id) \r\n              ? 'bg-primary border-primary' \r\n              : 'border-muted-foreground'\r\n          )}>\r\n            {selectedApplications.includes(record.id) && (\r\n              <CheckCircle className=\"w-3 h-3 text-primary-foreground\" />\r\n            )}\r\n          </div>\r\n        </Button>\r\n      )\r\n    },\r\n    {\r\n      key: 'vendor',\r\n      title: 'Vendor',\r\n      render: (_: any, record: Application) => (\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center\">\r\n            <User className=\"w-5 h-5 text-white\" />\r\n          </div>\r\n          <div>\r\n            <div className=\"font-medium\">\r\n              {record.vendor.firstName} {record.vendor.lastName}\r\n            </div>\r\n            <div className=\"text-sm text-muted-foreground\">\r\n              {record.submittedData.businessName || 'Independent Vendor'}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      key: 'market',\r\n      title: 'Market',\r\n      render: (_: any, record: Application) => (\r\n        <div className=\"flex items-center gap-2\">\r\n          <MapPin className=\"w-4 h-4 text-muted-foreground\" />\r\n          <div>\r\n            <div className=\"font-medium\">{record.market.name}</div>\r\n            <div className=\"text-sm text-muted-foreground\">\r\n              {record.market.location.city}, {record.market.location.state}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      key: 'status',\r\n      title: 'Status',\r\n      render: (_: any, record: Application) => (\r\n        <div className=\"flex flex-col gap-2\">\r\n          {getStatusBadge(record.status)}\r\n          {getPriorityBadge(record)}\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      key: 'submitted',\r\n      title: 'Submitted',\r\n      render: (_: any, record: Application) => (\r\n        <div className=\"text-sm\">\r\n          <div className=\"flex items-center gap-1\">\r\n            <Calendar className=\"w-3 h-3 text-muted-foreground\" />\r\n            {new Date(record.createdAt).toLocaleDateString()}\r\n          </div>\r\n          <div className=\"text-muted-foreground\">\r\n            {Math.floor(\r\n              (new Date().getTime() - new Date(record.createdAt).getTime()) / (1000 * 60 * 60 * 24)\r\n            )} days ago\r\n          </div>\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      key: 'actions',\r\n      title: 'Actions',\r\n      render: (_: any, record: Application) => (\r\n        <div className=\"flex items-center gap-1\">\r\n          <Link to={`/applications/${record.id}`} title=\"View details\">\r\n            <Button variant=\"ghost\" size=\"sm\">\r\n              <Eye className=\"h-4 w-4\" />\r\n            </Button>\r\n          </Link>\r\n          {(record.status === 'submitted' || record.status === 'under-review') && (\r\n            <>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={() => handleApproveApplication(record.id)}\r\n                title=\"Approve application\"\r\n              >\r\n                <CheckCircle className=\"h-4 w-4 text-green-600\" />\r\n              </Button>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={() => handleRejectApplication(record.id)}\r\n                title=\"Reject application\"\r\n              >\r\n                <XCircle className=\"h-4 w-4 text-red-600\" />\r\n              </Button>\r\n            </>\r\n          )}\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            title=\"Send message\"\r\n          >\r\n            <MessageSquare className=\"h-4 w-4\" />\r\n          </Button>\r\n        </div>\r\n      )\r\n    }\r\n  ]\r\n\r\n  if (applicationsLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-[400px]\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-accent mx-auto mb-4\"></div>\r\n          <p className=\"text-muted-foreground\">Loading applications...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-foreground\">Application Review</h1>\r\n          <p className=\"text-muted-foreground mt-1\">\r\n            Review and manage vendor applications for your markets\r\n          </p>\r\n        </div>\r\n        <div className=\"flex items-center gap-3\">\r\n          <Button variant=\"outline\" className=\"flex items-center gap-2\">\r\n            <Download className=\"w-4 h-4\" />\r\n            Export\r\n          </Button>\r\n          <Button variant=\"outline\" className=\"flex items-center gap-2\">\r\n            <RefreshCw className=\"w-4 h-4\" />\r\n            Refresh\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats Overview */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-5 gap-6\">\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\">\r\n              <FileText className=\"w-6 h-6 text-blue-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Total Applications</p>\r\n              <p className=\"text-2xl font-bold text-foreground\">{stats.total}</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center\">\r\n              <Clock className=\"w-6 h-6 text-orange-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Pending Review</p>\r\n              <p className=\"text-2xl font-bold text-foreground\">{stats.pending}</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center\">\r\n              <CheckCircle className=\"w-6 h-6 text-green-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Approved</p>\r\n              <p className=\"text-2xl font-bold text-foreground\">{stats.approved}</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center\">\r\n              <XCircle className=\"w-6 h-6 text-red-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Rejected</p>\r\n              <p className=\"text-2xl font-bold text-foreground\">{stats.rejected}</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center\">\r\n              <Clock className=\"w-6 h-6 text-purple-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Avg. Processing</p>\r\n              <p className=\"text-2xl font-bold text-foreground\">{stats.avgProcessingTime}d</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Search and Filters */}\r\n      <Card className=\"p-6\">\r\n        <div className=\"space-y-4\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"relative flex-1 max-w-sm\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n              <Input\r\n                placeholder=\"Search applications...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                className=\"pl-10\"\r\n              />\r\n            </div>\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => setShowFilters(!showFilters)}\r\n            >\r\n              <Filter className=\"h-4 w-4 mr-2\" />\r\n              Filters\r\n            </Button>\r\n          </div>\r\n\r\n          {showFilters && (\r\n            <div className=\"flex items-center gap-4 p-4 border rounded-lg bg-muted/50\">\r\n              <Select\r\n                placeholder=\"Filter by status\"\r\n                value={statusFilter}\r\n                onValueChange={setStatusFilter}\r\n                options={statusFilterOptions}\r\n              />\r\n              <Select\r\n                placeholder=\"Filter by market\"\r\n                value={marketFilter}\r\n                onValueChange={setMarketFilter}\r\n                options={marketFilterOptions}\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Bulk Actions */}\r\n      <BulkActions\r\n        selectedApplicationIds={selectedApplications}\r\n        onBulkApprove={() => setBulkActionModal({ type: 'approve', ids: selectedApplications })}\r\n        onBulkReject={() => setBulkActionModal({ type: 'reject', ids: selectedApplications })}\r\n        onClearSelection={() => setSelectedApplications([])}\r\n        isProcessing={isProcessing}\r\n      />\r\n\r\n      {/* Applications Table */}\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <h2 className=\"text-lg font-semibold\">Applications ({filteredApplications.length})</h2>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={handleSelectAll}\r\n              className=\"h-8 w-8 p-0\"\r\n            >\r\n              <div className={cn(\r\n                'w-4 h-4 rounded border-2 flex items-center justify-center',\r\n                selectedApplications.length === filteredApplications.length && filteredApplications.length > 0\r\n                  ? 'bg-primary border-primary' \r\n                  : 'border-muted-foreground'\r\n              )}>\r\n                {selectedApplications.length === filteredApplications.length && filteredApplications.length > 0 && (\r\n                  <CheckCircle className=\"w-3 h-3 text-primary-foreground\" />\r\n                )}\r\n              </div>\r\n            </Button>\r\n            <span className=\"text-sm text-muted-foreground\">Select all</span>\r\n          </div>\r\n        </div>\r\n\r\n        <Table\r\n          columns={columns}\r\n          data={filteredApplications}\r\n          loading={applicationsLoading}\r\n          emptyText=\"No applications found for your markets.\"\r\n        />\r\n      </Card>\r\n\r\n      {/* Application Cards for Mobile View */}\r\n      <div className=\"lg:hidden space-y-4\">\r\n        {filteredApplications.map((application) => (\r\n          <ApplicationCard\r\n            key={application.id}\r\n            application={application}\r\n            showActions={true}\r\n            onApprove={(id) => handleApproveApplication(id)}\r\n            onReject={(id) => handleRejectApplication(id)}\r\n            onViewDetails={(id) => window.open(`/applications/${id}`, '_blank')}\r\n          />\r\n        ))}\r\n      </div>\r\n\r\n      {/* High Priority Alert */}\r\n      {stats.pending > 0 && (\r\n        <Card className=\"p-6 border-orange-200 bg-orange-50\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center\">\r\n              <AlertTriangle className=\"w-6 h-6 text-orange-600\" />\r\n            </div>\r\n            <div className=\"flex-1\">\r\n              <h3 className=\"text-lg font-semibold text-orange-800\">Review Needed</h3>\r\n              <p className=\"text-orange-700\">\r\n                You have {stats.pending} applications waiting for review. \r\n                Average response time: {stats.avgProcessingTime} days.\r\n              </p>\r\n            </div>\r\n            <Button className=\"bg-orange-600 hover:bg-orange-700\">\r\n              Start Reviewing\r\n            </Button>\r\n          </div>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Bulk Action Modal */}\r\n      {bulkActionModal && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\r\n          <Card className=\"w-full max-w-md p-6\">\r\n            <h3 className=\"text-lg font-semibold mb-4\">\r\n              {bulkActionModal.type === 'approve' ? 'Approve Applications' : 'Reject Applications'}\r\n            </h3>\r\n            <div className=\"space-y-4\">\r\n              <p className=\"text-muted-foreground\">\r\n                {bulkActionModal.type === 'approve' \r\n                  ? `Are you sure you want to approve ${bulkActionModal.ids.length} application(s)?`\r\n                  : `Are you sure you want to reject ${bulkActionModal.ids.length} application(s)?`\r\n                }\r\n              </p>\r\n              \r\n              {bulkActionModal.type === 'reject' && (\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2\">\r\n                    Reason for rejection (required)\r\n                  </label>\r\n                  <Textarea\r\n                    value={rejectionReason}\r\n                    onChange={(e) => setRejectionReason(e.target.value)}\r\n                    placeholder=\"Please provide a reason for rejection...\"\r\n                    rows={3}\r\n                    required\r\n                  />\r\n                </div>\r\n              )}\r\n              \r\n              <div className=\"flex justify-end space-x-2 pt-4\">\r\n                <Button\r\n                  variant=\"outline\"\r\n                  onClick={() => {\r\n                    setBulkActionModal(null)\r\n                    setRejectionReason('')\r\n                  }}\r\n                  disabled={isProcessing}\r\n                >\r\n                  Cancel\r\n                </Button>\r\n                <Button\r\n                  onClick={bulkActionModal.type === 'approve' ? handleBulkApprove : handleBulkReject}\r\n                  disabled={isProcessing || (bulkActionModal.type === 'reject' && !rejectionReason.trim())}\r\n                  className={bulkActionModal.type === 'approve' \r\n                    ? 'bg-success hover:bg-success/90' \r\n                    : 'bg-destructive hover:bg-destructive/90'\r\n                  }\r\n                >\r\n                  {isProcessing ? 'Processing...' : \r\n                   bulkActionModal.type === 'approve' ? 'Approve All' : 'Reject All'}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\promoter\\PromoterCalendarPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\promoter\\PromoterCreateMarketPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\promoter\\PromoterDashboardPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\promoter\\PromoterMarketsPage.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":213,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":213,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7479,7482],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7479,7482],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":236,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":236,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8204,8207],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8204,8207],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":254,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":254,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8905,8908],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8905,8908],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":261,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":261,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9098,9101],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9098,9101],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":266,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":266,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9244,9247],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9244,9247],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":279,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":279,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9655,9658],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9655,9658],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":299,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":299,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10279,10282],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10279,10282],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useMemo } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { \r\n  Plus, \r\n  Search, \r\n  Filter, \r\n  Calendar,\r\n  MapPin,\r\n  Edit3,\r\n  Eye,\r\n  Trash2,\r\n  CheckCircle,\r\n  Clock,\r\n  TrendingUp\r\n} from 'lucide-react'\r\nimport { Card } from '@/components/ui/Card'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { Input } from '@/components/ui/Input'\r\nimport { Select, SelectOption } from '@/components/ui/Select'\r\nimport { Badge } from '@/components/ui/Badge'\r\nimport { Table } from '@/components/ui/Table'\r\nimport { Textarea } from '@/components/ui/Textarea'\r\nimport { useToast } from '@/components/ui/Toast'\r\nimport { useMarkets } from '@/features/markets/hooks/useMarkets'\r\nimport { useApplications } from '@/features/applications/hooks/useApplications'\r\nimport { useAuthStore } from '@/features/auth/authStore'\r\nimport { adminApi } from '@/features/admin/adminApi'\r\nimport { Market, MarketStatus, MarketCategory } from '@/types'\r\nimport { cn } from '@/utils/cn'\r\n\r\nexport function PromoterMarketsPage() {\r\n  const { user } = useAuthStore()\r\n  const { markets, isLoading: marketsLoading } = useMarkets()\r\n  const { applications } = useApplications()\r\n  const { addToast } = useToast()\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [statusFilter, setStatusFilter] = useState<string>('')\r\n  const [categoryFilter, setCategoryFilter] = useState<string>('')\r\n  const [showFilters, setShowFilters] = useState(false)\r\n  const [selectedMarkets, setSelectedMarkets] = useState<string[]>([])\r\n  const [actionModal, setActionModal] = useState<{\r\n    type: 'edit' | 'delete' | 'view'\r\n    market: Market | null\r\n  } | null>(null)\r\n  const [deleteReason, setDeleteReason] = useState('')\r\n  const [isLoading, setIsLoading] = useState(false)\r\n\r\n  // Filter markets created by current promoter\r\n  const myMarkets = useMemo(() => {\r\n    return markets.filter(market => market.promoterId === user?.id)\r\n  }, [markets, user?.id])\r\n\r\n  // Get IDs of markets created by this promoter\r\n  const myMarketIds = useMemo(() => {\r\n    return myMarkets.map(market => market.id)\r\n  }, [myMarkets])\r\n\r\n  // Apply filters\r\n  const filteredMarkets = useMemo(() => {\r\n    return myMarkets.filter(market => {\r\n      const matchesSearch = !searchTerm || \r\n        market.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        market.location.city.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        market.location.state.toLowerCase().includes(searchTerm.toLowerCase())\r\n      \r\n      const matchesStatus = !statusFilter || market.status === statusFilter\r\n      const matchesCategory = !categoryFilter || market.category === categoryFilter\r\n      \r\n      return matchesSearch && matchesStatus && matchesCategory\r\n    })\r\n  }, [myMarkets, searchTerm, statusFilter, categoryFilter])\r\n\r\n  const getStatusBadge = (status: MarketStatus) => {\r\n    switch (status) {\r\n      case 'active':\r\n        return <Badge className=\"bg-success/10 text-success border-success/20\">Active</Badge>\r\n      case 'draft':\r\n        return <Badge variant=\"outline\">Draft</Badge>\r\n      case 'cancelled':\r\n        return <Badge variant=\"destructive\">Cancelled</Badge>\r\n      case 'completed':\r\n        return <Badge className=\"bg-blue-100 text-blue-800 border-blue-200\">Completed</Badge>\r\n      default:\r\n        return <Badge variant=\"muted\">{status}</Badge>\r\n    }\r\n  }\r\n\r\n  const getCategoryLabel = (category: MarketCategory) => {\r\n    const labels = {\r\n      'farmers-market': 'Farmers Market',\r\n      'arts-crafts': 'Arts & Crafts',\r\n      'flea-market': 'Flea Market',\r\n      'food-festival': 'Food Festival',\r\n      'holiday-market': 'Holiday Market',\r\n      'craft-show': 'Craft Show',\r\n      'community-event': 'Community Event',\r\n      'night-market': 'Night Market',\r\n      'street-fair': 'Street Fair',\r\n      'vintage-antique': 'Vintage & Antique'\r\n    }\r\n    return labels[category] || category\r\n  }\r\n\r\n  const handleSelectAll = () => {\r\n    if (selectedMarkets.length === filteredMarkets.length) {\r\n      setSelectedMarkets([])\r\n    } else {\r\n      setSelectedMarkets(filteredMarkets.map(market => market.id))\r\n    }\r\n  }\r\n\r\n  const handleSelectMarket = (marketId: string) => {\r\n    setSelectedMarkets(prev => \r\n      prev.includes(marketId) \r\n        ? prev.filter(id => id !== marketId)\r\n        : [...prev, marketId]\r\n    )\r\n  }\r\n\r\n  const handleStatusChange = async (marketId: string, newStatus: MarketStatus) => {\r\n    setIsLoading(true)\r\n    try {\r\n      await adminApi.updateMarketStatus(marketId, newStatus)\r\n      addToast({\r\n        title: 'Status Updated',\r\n        description: `Market status changed to ${newStatus}`,\r\n        variant: 'success'\r\n      })\r\n    } catch (error) {\r\n      addToast({\r\n        title: 'Error',\r\n        description: 'Failed to update market status',\r\n        variant: 'destructive'\r\n      })\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleDeleteMarket = async () => {\r\n    if (!actionModal?.market || !deleteReason.trim()) return\r\n    \r\n    setIsLoading(true)\r\n    try {\r\n      await adminApi.deleteMarket(actionModal.market.id, deleteReason)\r\n      addToast({\r\n        title: 'Market Deleted',\r\n        description: `${actionModal.market.name} has been deleted`,\r\n        variant: 'success'\r\n      })\r\n      setActionModal(null)\r\n      setDeleteReason('')\r\n    } catch (error) {\r\n      addToast({\r\n        title: 'Error',\r\n        description: 'Failed to delete market',\r\n        variant: 'destructive'\r\n      })\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  // Calculate stats\r\n  const stats = useMemo(() => {\r\n    const total = myMarkets.length\r\n    const active = myMarkets.filter(m => m.status === 'active').length\r\n    const draft = myMarkets.filter(m => m.status === 'draft').length\r\n    \r\n    // Calculate actual application counts from applications data\r\n    const applicationCounts: Record<string, number> = {}\r\n    applications.forEach(app => {\r\n      if (myMarketIds.includes(app.marketId)) {\r\n        applicationCounts[app.marketId] = (applicationCounts[app.marketId] || 0) + 1\r\n      }\r\n    })\r\n    \r\n    const totalApplications = filteredMarkets.reduce((sum, market) => {\r\n      return sum + (applicationCounts[market.id] || 0)\r\n    }, 0)\r\n\r\n    return { total, active, draft, totalApplications, applicationCounts }\r\n  }, [myMarkets, myMarketIds, applications, filteredMarkets])\r\n\r\n  const statusFilterOptions: SelectOption[] = [\r\n    { value: '', label: 'All Status' },\r\n    { value: 'active', label: 'Active' },\r\n    { value: 'draft', label: 'Draft' },\r\n    { value: 'cancelled', label: 'Cancelled' },\r\n    { value: 'completed', label: 'Completed' }\r\n  ]\r\n\r\n  const categoryFilterOptions: SelectOption[] = [\r\n    { value: '', label: 'All Categories' },\r\n    { value: 'farmers-market', label: 'Farmers Market' },\r\n    { value: 'arts-crafts', label: 'Arts & Crafts' },\r\n    { value: 'flea-market', label: 'Flea Market' },\r\n    { value: 'food-festival', label: 'Food Festival' },\r\n    { value: 'holiday-market', label: 'Holiday Market' },\r\n    { value: 'craft-show', label: 'Craft Show' },\r\n    { value: 'community-event', label: 'Community Event' },\r\n    { value: 'night-market', label: 'Night Market' },\r\n    { value: 'street-fair', label: 'Street Fair' },\r\n    { value: 'vintage-antique', label: 'Vintage & Antique' }\r\n  ]\r\n\r\n  // Table columns\r\n  const columns = [\r\n    {\r\n      key: 'select',\r\n      title: '',\r\n      width: '48px',\r\n      render: (_: any, record: Market) => (\r\n        <Button\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          onClick={() => handleSelectMarket(record.id)}\r\n          className=\"h-8 w-8 p-0\"\r\n        >\r\n          <div className={cn(\r\n            'w-4 h-4 rounded border-2 flex items-center justify-center',\r\n            selectedMarkets.includes(record.id) \r\n              ? 'bg-primary border-primary' \r\n              : 'border-muted-foreground'\r\n          )}>\r\n            {selectedMarkets.includes(record.id) && (\r\n              <CheckCircle className=\"w-3 h-3 text-primary-foreground\" />\r\n            )}\r\n          </div>\r\n        </Button>\r\n      )\r\n    },\r\n    {\r\n      key: 'market',\r\n      title: 'Market',\r\n      render: (_: any, record: Market) => (\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center\">\r\n            <Calendar className=\"w-6 h-6 text-white\" />\r\n          </div>\r\n          <div>\r\n            <div className=\"font-medium\">{record.name}</div>\r\n            <div className=\"text-sm text-muted-foreground flex items-center gap-1\">\r\n              <MapPin className=\"w-3 h-3\" />\r\n              {record.location.city}, {record.location.state}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      key: 'category',\r\n      title: 'Category',\r\n      render: (_: any, record: Market) => (\r\n        <Badge variant=\"outline\">{getCategoryLabel(record.category)}</Badge>\r\n      )\r\n    },\r\n    {\r\n      key: 'status',\r\n      title: 'Status',\r\n      render: (_: any, record: Market) => getStatusBadge(record.status)\r\n    },\r\n    {\r\n      key: 'applications',\r\n      title: 'Applications',\r\n      render: (_: any, record: Market) => {\r\n        const appCount = stats.applicationCounts[record.id] || 0\r\n        return (\r\n          <div className=\"text-center\">\r\n            <div className=\"font-medium\">{appCount}</div>\r\n            <div className=\"text-xs text-muted-foreground\">applications</div>\r\n          </div>\r\n        )\r\n      }\r\n    },\r\n    {\r\n      key: 'schedule',\r\n      title: 'Schedule',\r\n      render: (_: any, record: Market) => (\r\n        <div className=\"text-sm\">\r\n          {record.schedule.length > 0 ? (\r\n            <div>\r\n              <div className=\"font-medium\">\r\n                {record.schedule[0].isRecurring ? 'Recurring' : 'One-time'}\r\n              </div>\r\n              <div className=\"text-muted-foreground\">\r\n                {record.schedule[0].startDate}\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <span className=\"text-muted-foreground\">Not scheduled</span>\r\n          )}\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      key: 'actions',\r\n      title: 'Actions',\r\n      render: (_: any, record: Market) => (\r\n        <div className=\"flex items-center gap-1\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={() => setActionModal({ type: 'view', market: record })}\r\n            title=\"View details\"\r\n          >\r\n            <Eye className=\"h-4 w-4\" />\r\n          </Button>\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={() => setActionModal({ type: 'edit', market: record })}\r\n            title=\"Edit market\"\r\n          >\r\n            <Edit3 className=\"h-4 w-4\" />\r\n          </Button>\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={() => setActionModal({ type: 'delete', market: record })}\r\n            title=\"Delete market\"\r\n          >\r\n            <Trash2 className=\"h-4 w-4 text-destructive\" />\r\n          </Button>\r\n        </div>\r\n      )\r\n    }\r\n  ]\r\n\r\n  if (marketsLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-[400px]\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-accent mx-auto mb-4\"></div>\r\n          <p className=\"text-muted-foreground\">Loading markets...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-foreground\">My Markets</h1>\r\n          <p className=\"text-muted-foreground mt-1\">\r\n            Manage your markets and track performance\r\n          </p>\r\n        </div>\r\n        <div className=\"flex items-center gap-3\">\r\n          <Link to=\"/promoter/markets/create\">\r\n            <Button className=\"flex items-center gap-2\">\r\n              <Plus className=\"w-4 h-4\" />\r\n              Create Market\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats Overview */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\">\r\n              <Calendar className=\"w-6 h-6 text-blue-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Total Markets</p>\r\n              <p className=\"text-2xl font-bold text-foreground\">{stats.total}</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center\">\r\n              <CheckCircle className=\"w-6 h-6 text-green-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Active Markets</p>\r\n              <p className=\"text-2xl font-bold text-foreground\">{stats.active}</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center\">\r\n              <Clock className=\"w-6 h-6 text-orange-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Draft Markets</p>\r\n              <p className=\"text-2xl font-bold text-foreground\">{stats.draft}</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center\">\r\n              <TrendingUp className=\"w-6 h-6 text-purple-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Total Applications</p>\r\n              <p className=\"text-2xl font-bold text-foreground\">{stats.totalApplications}</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Search and Filters */}\r\n      <Card className=\"p-6\">\r\n        <div className=\"space-y-4\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"relative flex-1 max-w-sm\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n              <Input\r\n                placeholder=\"Search markets...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                className=\"pl-10\"\r\n              />\r\n            </div>\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => setShowFilters(!showFilters)}\r\n            >\r\n              <Filter className=\"h-4 w-4 mr-2\" />\r\n              Filters\r\n            </Button>\r\n          </div>\r\n\r\n          {showFilters && (\r\n            <div className=\"flex items-center gap-4 p-4 border rounded-lg bg-muted/50\">\r\n              <Select\r\n                placeholder=\"Filter by status\"\r\n                value={statusFilter}\r\n                onValueChange={setStatusFilter}\r\n                options={statusFilterOptions}\r\n              />\r\n              <Select\r\n                placeholder=\"Filter by category\"\r\n                value={categoryFilter}\r\n                onValueChange={setCategoryFilter}\r\n                options={categoryFilterOptions}\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Bulk Actions */}\r\n      {selectedMarkets.length > 0 && (\r\n        <Card className=\"p-4 border-orange-200 bg-orange-50\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <span className=\"text-sm font-medium\">\r\n                {selectedMarkets.length} market{selectedMarkets.length !== 1 ? 's' : ''} selected\r\n              </span>\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={() => setSelectedMarkets([])}\r\n              >\r\n                Clear Selection\r\n              </Button>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <Button\r\n                size=\"sm\"\r\n                onClick={() => {\r\n                  selectedMarkets.forEach(id => handleStatusChange(id, 'active'))\r\n                  setSelectedMarkets([])\r\n                }}\r\n                className=\"bg-success hover:bg-success/90\"\r\n              >\r\n                Mark as Active\r\n              </Button>\r\n              <Button\r\n                size=\"sm\"\r\n                variant=\"outline\"\r\n                onClick={() => {\r\n                  selectedMarkets.forEach(id => handleStatusChange(id, 'cancelled'))\r\n                  setSelectedMarkets([])\r\n                }}\r\n                className=\"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground\"\r\n              >\r\n                Cancel Selected\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Markets Table */}\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <h2 className=\"text-lg font-semibold\">Markets ({filteredMarkets.length})</h2>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={handleSelectAll}\r\n              className=\"h-8 w-8 p-0\"\r\n            >\r\n              <div className={cn(\r\n                'w-4 h-4 rounded border-2 flex items-center justify-center',\r\n                selectedMarkets.length === filteredMarkets.length && filteredMarkets.length > 0\r\n                  ? 'bg-primary border-primary' \r\n                  : 'border-muted-foreground'\r\n              )}>\r\n                {selectedMarkets.length === filteredMarkets.length && filteredMarkets.length > 0 && (\r\n                  <CheckCircle className=\"w-3 h-3 text-primary-foreground\" />\r\n                )}\r\n              </div>\r\n            </Button>\r\n            <span className=\"text-sm text-muted-foreground\">Select all</span>\r\n          </div>\r\n        </div>\r\n\r\n        <Table\r\n          columns={columns}\r\n          data={filteredMarkets}\r\n          loading={marketsLoading}\r\n          emptyText=\"No markets found. Create your first market to get started.\"\r\n        />\r\n      </Card>\r\n\r\n      {/* Action Modal */}\r\n      {actionModal && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\r\n          <Card className=\"w-full max-w-2xl p-6 max-h-[80vh] overflow-y-auto\">\r\n            {actionModal.type === 'view' && actionModal.market && (\r\n              <>\r\n                <div className=\"flex items-center justify-between mb-6\">\r\n                  <h3 className=\"text-xl font-semibold\">{actionModal.market.name}</h3>\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    onClick={() => setActionModal(null)}\r\n                  >\r\n                    \r\n                  </Button>\r\n                </div>\r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <h4 className=\"font-medium mb-2\">Description</h4>\r\n                    <p className=\"text-muted-foreground\">{actionModal.market.description}</p>\r\n                  </div>\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <h4 className=\"font-medium mb-2\">Category</h4>\r\n                      <Badge variant=\"outline\">{getCategoryLabel(actionModal.market.category)}</Badge>\r\n                    </div>\r\n                    <div>\r\n                      <h4 className=\"font-medium mb-2\">Status</h4>\r\n                      {getStatusBadge(actionModal.market.status)}\r\n                    </div>\r\n                  </div>\r\n                  <div>\r\n                    <h4 className=\"font-medium mb-2\">Location</h4>\r\n                    <p className=\"text-muted-foreground\">\r\n                      {actionModal.market.location.address}<br />\r\n                      {actionModal.market.location.city}, {actionModal.market.location.state} {actionModal.market.location.zipCode}\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <h4 className=\"font-medium mb-2\">Schedule</h4>\r\n                    {actionModal.market.schedule.length > 0 ? (\r\n                      <div className=\"space-y-2\">\r\n                        {actionModal.market.schedule.map((sched, index) => (\r\n                          <div key={index} className=\"text-sm\">\r\n                            <span className=\"font-medium\">\r\n                              {sched.isRecurring ? 'Recurring' : 'One-time'}: \r\n                            </span>\r\n                            <span className=\"text-muted-foreground ml-2\">\r\n                              {sched.startDate} ({sched.startTime} - {sched.endTime})\r\n                            </span>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    ) : (\r\n                      <p className=\"text-muted-foreground\">No schedule set</p>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"flex justify-end space-x-2 pt-4\">\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      onClick={() => setActionModal(null)}\r\n                    >\r\n                      Close\r\n                    </Button>\r\n                    <Button\r\n                      onClick={() => {\r\n                        setActionModal({ type: 'edit', market: actionModal.market })\r\n                      }}\r\n                    >\r\n                      Edit Market\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n\r\n            {actionModal.type === 'edit' && actionModal.market && (\r\n              <>\r\n                <div className=\"flex items-center justify-between mb-6\">\r\n                  <h3 className=\"text-xl font-semibold\">Edit Market</h3>\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    onClick={() => setActionModal(null)}\r\n                  >\r\n                    \r\n                  </Button>\r\n                </div>\r\n                <div className=\"space-y-4\">\r\n                  <p className=\"text-muted-foreground\">\r\n                    Edit functionality would open a form with the market's current data.\r\n                    For now, this redirects to the market detail page.\r\n                  </p>\r\n                  <div className=\"flex justify-end space-x-2 pt-4\">\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      onClick={() => setActionModal(null)}\r\n                    >\r\n                      Cancel\r\n                    </Button>\r\n                    <Button\r\n                      onClick={() => {\r\n                        // In a real app, this would navigate to an edit form\r\n                        console.log('Navigate to edit form for:', actionModal.market)\r\n                      }}\r\n                    >\r\n                      Continue to Edit\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n\r\n            {actionModal.type === 'delete' && actionModal.market && (\r\n              <>\r\n                <div className=\"flex items-center justify-between mb-6\">\r\n                  <h3 className=\"text-xl font-semibold\">Delete Market</h3>\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    onClick={() => setActionModal(null)}\r\n                  >\r\n                    \r\n                  </Button>\r\n                </div>\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"bg-destructive/10 border border-destructive/20 rounded-lg p-4\">\r\n                    <p className=\"text-destructive\">\r\n                      Are you sure you want to delete \"{actionModal.market.name}\"? \r\n                      This action cannot be undone.\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-2\">\r\n                      Reason for deletion (optional)\r\n                    </label>\r\n                    <Textarea\r\n                      value={deleteReason}\r\n                      onChange={(e) => setDeleteReason(e.target.value)}\r\n                      placeholder=\"Please provide a reason for deletion...\"\r\n                      rows={3}\r\n                    />\r\n                  </div>\r\n                  <div className=\"flex justify-end space-x-2 pt-4\">\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      onClick={() => {\r\n                        setActionModal(null)\r\n                        setDeleteReason('')\r\n                      }}\r\n                    >\r\n                      Cancel\r\n                    </Button>\r\n                    <Button\r\n                      onClick={handleDeleteMarket}\r\n                      disabled={isLoading}\r\n                      className=\"bg-destructive hover:bg-destructive/90\"\r\n                    >\r\n                      {isLoading ? 'Deleting...' : 'Delete Market'}\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n          </Card>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\promoter\\PromoterVendorsPage.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":300,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":300,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10510,10513],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10510,10513],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":323,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":323,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11244,11247],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11244,11247],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":349,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":349,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12175,12178],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12175,12178],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":354,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":354,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12323,12326],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12323,12326],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":366,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":366,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12706,12709],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12706,12709],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":376,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":376,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13041,13044],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13041,13044],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":385,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":385,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13310,13313],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13310,13313],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":904,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":904,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[34520,34523],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[34520,34523],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":918,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":918,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[34793,34796],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[34793,34796],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useMemo } from 'react'\r\nimport { \r\n  Search, \r\n  Filter, \r\n  Users,\r\n  CheckCircle,\r\n  Clock,\r\n  Phone,\r\n  Mail,\r\n  Globe,\r\n  TrendingUp,\r\n  MessageSquare,\r\n  Eye,\r\n  UserCheck,\r\n  UserX,\r\n  Download,\r\n  RefreshCw,\r\n  Grid3X3,\r\n  List,\r\n  ExternalLink\r\n} from 'lucide-react'\r\nimport { Card } from '@/components/ui/Card'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { Input } from '@/components/ui/Input'\r\nimport { Select, SelectOption } from '@/components/ui/Select'\r\nimport { Badge } from '@/components/ui/Badge'\r\nimport { Table } from '@/components/ui/Table'\r\nimport { Avatar } from '@/components/ui/Avatar'\r\nimport { Textarea } from '@/components/ui/Textarea'\r\nimport { useToast } from '@/components/ui/Toast'\r\nimport { useApplications } from '@/features/applications/hooks/useApplications'\r\nimport { useAuthStore } from '@/features/auth/authStore'\r\nimport { useMarkets } from '@/features/markets/hooks/useMarkets'\r\nimport { adminApi } from '@/features/admin/adminApi'\r\nimport { User } from '@/types'\r\nimport { cn } from '@/utils/cn'\r\n\r\nexport function PromoterVendorsPage() {\r\n  const { user } = useAuthStore()\r\n  const { markets } = useMarkets()\r\n  const { applications } = useApplications()\r\n  const { addToast } = useToast()\r\n  \r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [marketFilter, setMarketFilter] = useState<string>('')\r\n  const [statusFilter, setStatusFilter] = useState<string>('')\r\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('list')\r\n  const [showFilters, setShowFilters] = useState(false)\r\n  const [selectedVendors, setSelectedVendors] = useState<string[]>([])\r\n  const [vendorModal, setVendorModal] = useState<{\r\n    type: 'view' | 'message' | 'blacklist'\r\n    vendor: VendorWithStats | null\r\n  } | null>(null)\r\n  const [messageText, setMessageText] = useState('')\r\n  const [blacklistReason, setBlacklistReason] = useState('')\r\n  const [isLoading, setIsLoading] = useState(false)\r\n\r\n  // Filter markets created by current promoter\r\n  const myMarkets = useMemo(() => {\r\n    return markets.filter(market => market.promoterId === user?.id)\r\n  }, [markets, user?.id])\r\n\r\n  const myMarketIds = useMemo(() => {\r\n    return myMarkets.map(market => market.id)\r\n  }, [myMarkets])\r\n\r\n  // Get vendors who have applied to promoter's markets\r\n  const vendorsWithStats = useMemo(() => {\r\n    const vendorMap = new Map<string, VendorWithStats>()\r\n    \r\n    // Get applications for promoter's markets\r\n    const relevantApplications = applications.filter(app => myMarketIds.includes(app.marketId))\r\n    \r\n    relevantApplications.forEach(application => {\r\n      const vendorId = application.vendorId\r\n      const vendor = application.vendor\r\n      \r\n      if (!vendorMap.has(vendorId)) {\r\n        vendorMap.set(vendorId, {\r\n          ...vendor,\r\n          totalApplications: 0,\r\n          approvedApplications: 0,\r\n          rejectedApplications: 0,\r\n          pendingApplications: 0,\r\n          averageRating: 0,\r\n          totalMarkets: 0,\r\n          lastActive: '',\r\n          businessName: application.submittedData.businessName || '',\r\n          businessDescription: application.submittedData.businessDescription || '',\r\n          experience: application.submittedData.experience || '',\r\n          specialties: application.submittedData.specialties || [],\r\n          contact: {\r\n            phone: application.submittedData.phone || '',\r\n            website: application.submittedData.website || '',\r\n            socialMedia: application.submittedData.socialMedia || {}\r\n          },\r\n          markets: [],\r\n          recentApplications: [],\r\n          isBlacklisted: false,\r\n          blacklistReason: '',\r\n          notes: []\r\n        })\r\n      }\r\n      \r\n      const vendorData = vendorMap.get(vendorId)!\r\n      \r\n      // Update application statistics\r\n      vendorData.totalApplications++\r\n      switch (application.status) {\r\n        case 'approved':\r\n          vendorData.approvedApplications++\r\n          break\r\n        case 'rejected':\r\n          vendorData.rejectedApplications++\r\n          break\r\n        case 'submitted':\r\n        case 'under-review':\r\n          vendorData.pendingApplications++\r\n          break\r\n      }\r\n      \r\n      // Add market info\r\n      if (!vendorData.markets.some(m => m.id === application.marketId)) {\r\n        vendorData.markets.push({\r\n          id: application.marketId,\r\n          name: application.market.name,\r\n          status: application.status,\r\n          appliedAt: application.createdAt\r\n        })\r\n      }\r\n      \r\n      // Add to recent applications\r\n      vendorData.recentApplications.push({\r\n        id: application.id,\r\n        marketId: application.marketId,\r\n        marketName: application.market.name,\r\n        status: application.status,\r\n        appliedAt: application.createdAt,\r\n        submittedData: application.submittedData\r\n      })\r\n      \r\n      // Update business info if available\r\n      if (application.submittedData.businessName && !vendorData.businessName) {\r\n        vendorData.businessName = application.submittedData.businessName\r\n      }\r\n      if (application.submittedData.businessDescription && !vendorData.businessDescription) {\r\n        vendorData.businessDescription = application.submittedData.businessDescription\r\n      }\r\n      \r\n      // Update last active\r\n      if (!vendorData.lastActive || new Date(application.createdAt) > new Date(vendorData.lastActive)) {\r\n        vendorData.lastActive = application.createdAt\r\n      }\r\n    })\r\n    \r\n    return Array.from(vendorMap.values()).sort((a, b) => {\r\n      // Sort by most recent activity\r\n      return new Date(b.lastActive || 0).getTime() - new Date(a.lastActive || 0).getTime()\r\n    })\r\n  }, [applications, myMarketIds])\r\n\r\n  // Apply filters\r\n  const filteredVendors = useMemo(() => {\r\n    return vendorsWithStats.filter(vendor => {\r\n      const matchesSearch = !searchTerm || \r\n        vendor.firstName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        vendor.lastName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        vendor.businessName?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        vendor.email.toLowerCase().includes(searchTerm.toLowerCase())\r\n      \r\n      const matchesMarket = !marketFilter || \r\n        vendor.markets.some(m => m.id === marketFilter)\r\n      \r\n      const matchesStatus = !statusFilter || \r\n        (statusFilter === 'approved' && vendor.approvedApplications > 0) ||\r\n        (statusFilter === 'pending' && vendor.pendingApplications > 0) ||\r\n        (statusFilter === 'active' && vendor.isActive) ||\r\n        (statusFilter === 'verified' && vendor.isEmailVerified)\r\n      \r\n      return matchesSearch && matchesMarket && matchesStatus\r\n    })\r\n  }, [vendorsWithStats, searchTerm, marketFilter, statusFilter])\r\n\r\n  const getStatusBadge = (vendor: VendorWithStats) => {\r\n    if (vendor.isBlacklisted) {\r\n      return <Badge variant=\"destructive\">Blacklisted</Badge>\r\n    }\r\n    if (vendor.approvedApplications > 0) {\r\n      return <Badge className=\"bg-success/10 text-success border-success/20\">Active Partner</Badge>\r\n    }\r\n    if (vendor.pendingApplications > 0) {\r\n      return <Badge className=\"bg-warning/10 text-warning border-warning/20\">Pending</Badge>\r\n    }\r\n    return <Badge variant=\"outline\">New</Badge>\r\n  }\r\n\r\n\r\n\r\n  const handleSelectAll = () => {\r\n    if (selectedVendors.length === filteredVendors.length) {\r\n      setSelectedVendors([])\r\n    } else {\r\n      setSelectedVendors(filteredVendors.map(vendor => vendor.id))\r\n    }\r\n  }\r\n\r\n  const handleSelectVendor = (vendorId: string) => {\r\n    setSelectedVendors(prev => \r\n      prev.includes(vendorId) \r\n        ? prev.filter(id => id !== vendorId)\r\n        : [...prev, vendorId]\r\n    )\r\n  }\r\n\r\n  const handleSendMessage = async () => {\r\n    if (!vendorModal?.vendor || !messageText.trim()) return\r\n    \r\n    setIsLoading(true)\r\n    try {\r\n      await adminApi.sendMessageToVendor(vendorModal.vendor.id, messageText)\r\n      addToast({\r\n        title: 'Message Sent',\r\n        description: `Message sent to ${vendorModal.vendor.firstName} ${vendorModal.vendor.lastName}`,\r\n        variant: 'success'\r\n      })\r\n      setVendorModal(null)\r\n      setMessageText('')\r\n    } catch (error) {\r\n      addToast({\r\n        title: 'Error',\r\n        description: 'Failed to send message. Please try again.',\r\n        variant: 'destructive'\r\n      })\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleBlacklistVendor = async () => {\r\n    if (!vendorModal?.vendor || !blacklistReason.trim()) return\r\n    \r\n    setIsLoading(true)\r\n    try {\r\n      await adminApi.blacklistVendor(vendorModal.vendor.id, blacklistReason)\r\n      addToast({\r\n        title: 'Vendor Blacklisted',\r\n        description: `${vendorModal.vendor.firstName} ${vendorModal.vendor.lastName} has been blacklisted`,\r\n        variant: 'success'\r\n      })\r\n      setVendorModal(null)\r\n      setBlacklistReason('')\r\n    } catch (error) {\r\n      addToast({\r\n        title: 'Error',\r\n        description: 'Failed to blacklist vendor. Please try again.',\r\n        variant: 'destructive'\r\n      })\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  // Calculate stats\r\n  const stats = useMemo(() => {\r\n    const total = vendorsWithStats.length\r\n    const active = vendorsWithStats.filter(v => v.approvedApplications > 0).length\r\n    const pending = vendorsWithStats.filter(v => v.pendingApplications > 0).length\r\n    const blacklisted = vendorsWithStats.filter(v => v.isBlacklisted).length\r\n    const newThisMonth = vendorsWithStats.filter(v => {\r\n      const vendorDate = new Date(v.createdAt)\r\n      const now = new Date()\r\n      return vendorDate.getMonth() === now.getMonth() && vendorDate.getFullYear() === now.getFullYear()\r\n    }).length\r\n\r\n    return { total, active, pending, blacklisted, newThisMonth }\r\n  }, [vendorsWithStats])\r\n\r\n  const marketFilterOptions: SelectOption[] = [\r\n    { value: '', label: 'All Markets' },\r\n    ...myMarkets.map(market => ({\r\n      value: market.id,\r\n      label: market.name\r\n    }))\r\n  ]\r\n\r\n  const statusFilterOptions: SelectOption[] = [\r\n    { value: '', label: 'All Vendors' },\r\n    { value: 'approved', label: 'Active Partners' },\r\n    { value: 'pending', label: 'Pending Applications' },\r\n    { value: 'active', label: 'Verified Users' },\r\n    { value: 'verified', label: 'Email Verified' }\r\n  ]\r\n\r\n  // Table columns\r\n  const columns = [\r\n    {\r\n      key: 'select',\r\n      title: '',\r\n      width: '48px',\r\n      render: (_: any, record: VendorWithStats) => (\r\n        <Button\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          onClick={() => handleSelectVendor(record.id)}\r\n          className=\"h-8 w-8 p-0\"\r\n        >\r\n          <div className={cn(\r\n            'w-4 h-4 rounded border-2 flex items-center justify-center',\r\n            selectedVendors.includes(record.id) \r\n              ? 'bg-primary border-primary' \r\n              : 'border-muted-foreground'\r\n          )}>\r\n            {selectedVendors.includes(record.id) && (\r\n              <CheckCircle className=\"w-3 h-3 text-primary-foreground\" />\r\n            )}\r\n          </div>\r\n        </Button>\r\n      )\r\n    },\r\n    {\r\n      key: 'vendor',\r\n      title: 'Vendor',\r\n      render: (_: any, record: VendorWithStats) => (\r\n        <div className=\"flex items-center gap-3\">\r\n          <Avatar \r\n            src={record.avatar} \r\n            alt={`${record.firstName} ${record.lastName}`}\r\n            size=\"md\"\r\n          />\r\n          <div>\r\n            <div className=\"font-medium flex items-center gap-2\">\r\n              {record.firstName} {record.lastName}\r\n              {record.isEmailVerified && <CheckCircle className=\"w-4 h-4 text-green-500\" />}\r\n            </div>\r\n            <div className=\"text-sm text-muted-foreground\">\r\n              {record.businessName || 'Independent Vendor'}\r\n            </div>\r\n            <div className=\"text-xs text-muted-foreground flex items-center gap-1\">\r\n              <Mail className=\"w-3 h-3\" />\r\n              {record.email}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      key: 'status',\r\n      title: 'Status',\r\n      render: (_: any, record: VendorWithStats) => getStatusBadge(record)\r\n    },\r\n    {\r\n      key: 'applications',\r\n      title: 'Applications',\r\n      render: (_: any, record: VendorWithStats) => (\r\n        <div className=\"text-center\">\r\n          <div className=\"font-medium\">{record.totalApplications}</div>\r\n          <div className=\"text-xs text-muted-foreground\">\r\n            {record.approvedApplications} approved\r\n          </div>\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      key: 'markets',\r\n      title: 'Markets',\r\n      render: (_: any, record: VendorWithStats) => (\r\n        <div className=\"text-center\">\r\n          <div className=\"font-medium\">{record.markets.length}</div>\r\n          <div className=\"text-xs text-muted-foreground\">participated</div>\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      key: 'lastActive',\r\n      title: 'Last Active',\r\n      render: (_: any, record: VendorWithStats) => (\r\n        <div className=\"text-sm\">\r\n          {record.lastActive ? new Date(record.lastActive).toLocaleDateString() : 'Never'}\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      key: 'actions',\r\n      title: 'Actions',\r\n      render: (_: any, record: VendorWithStats) => (\r\n        <div className=\"flex items-center gap-1\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={() => setVendorModal({ type: 'view', vendor: record })}\r\n            title=\"View details\"\r\n          >\r\n            <Eye className=\"h-4 w-4\" />\r\n          </Button>\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={() => setVendorModal({ type: 'message', vendor: record })}\r\n            title=\"Send message\"\r\n          >\r\n            <MessageSquare className=\"h-4 w-4\" />\r\n          </Button>\r\n          {!record.isBlacklisted && (\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={() => setVendorModal({ type: 'blacklist', vendor: record })}\r\n              title=\"Blacklist vendor\"\r\n            >\r\n              <UserX className=\"h-4 w-4 text-destructive\" />\r\n            </Button>\r\n          )}\r\n        </div>\r\n      )\r\n    }\r\n  ]\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-foreground\">Vendor Directory</h1>\r\n          <p className=\"text-muted-foreground mt-1\">\r\n            Manage vendors who have applied to your markets\r\n          </p>\r\n        </div>\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"flex items-center border rounded-lg\">\r\n            <Button\r\n              variant={viewMode === 'list' ? 'primary' : 'ghost'}\r\n              size=\"sm\"\r\n              onClick={() => setViewMode('list')}\r\n              className=\"rounded-r-none\"\r\n            >\r\n              <List className=\"w-4 h-4\" />\r\n            </Button>\r\n            <Button\r\n              variant={viewMode === 'grid' ? 'primary' : 'ghost'}\r\n              size=\"sm\"\r\n              onClick={() => setViewMode('grid')}\r\n              className=\"rounded-l-none\"\r\n            >\r\n              <Grid3X3 className=\"w-4 h-4\" />\r\n            </Button>\r\n          </div>\r\n          <Button variant=\"outline\" className=\"flex items-center gap-2\">\r\n            <Download className=\"w-4 h-4\" />\r\n            Export\r\n          </Button>\r\n          <Button variant=\"outline\" className=\"flex items-center gap-2\">\r\n            <RefreshCw className=\"w-4 h-4\" />\r\n            Refresh\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats Overview */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-5 gap-6\">\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\">\r\n              <Users className=\"w-6 h-6 text-blue-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Total Vendors</p>\r\n              <p className=\"text-2xl font-bold text-foreground\">{stats.total}</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center\">\r\n              <UserCheck className=\"w-6 h-6 text-green-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Active Partners</p>\r\n              <p className=\"text-2xl font-bold text-foreground\">{stats.active}</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center\">\r\n              <Clock className=\"w-6 h-6 text-orange-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Pending Review</p>\r\n              <p className=\"text-2xl font-bold text-foreground\">{stats.pending}</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center\">\r\n              <TrendingUp className=\"w-6 h-6 text-purple-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">New This Month</p>\r\n              <p className=\"text-2xl font-bold text-foreground\">{stats.newThisMonth}</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center\">\r\n              <UserX className=\"w-6 h-6 text-red-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Blacklisted</p>\r\n              <p className=\"text-2xl font-bold text-foreground\">{stats.blacklisted}</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Search and Filters */}\r\n      <Card className=\"p-6\">\r\n        <div className=\"space-y-4\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"relative flex-1 max-w-sm\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n              <Input\r\n                placeholder=\"Search vendors...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                className=\"pl-10\"\r\n              />\r\n            </div>\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => setShowFilters(!showFilters)}\r\n            >\r\n              <Filter className=\"h-4 w-4 mr-2\" />\r\n              Filters\r\n            </Button>\r\n          </div>\r\n\r\n          {showFilters && (\r\n            <div className=\"flex items-center gap-4 p-4 border rounded-lg bg-muted/50\">\r\n              <Select\r\n                placeholder=\"Filter by market\"\r\n                value={marketFilter}\r\n                onValueChange={setMarketFilter}\r\n                options={marketFilterOptions}\r\n              />\r\n              <Select\r\n                placeholder=\"Filter by status\"\r\n                value={statusFilter}\r\n                onValueChange={setStatusFilter}\r\n                options={statusFilterOptions}\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Bulk Actions */}\r\n      {selectedVendors.length > 0 && (\r\n        <Card className=\"p-4 border-orange-200 bg-orange-50\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <span className=\"text-sm font-medium\">\r\n                {selectedVendors.length} vendor{selectedVendors.length !== 1 ? 's' : ''} selected\r\n              </span>\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={() => setSelectedVendors([])}\r\n              >\r\n                Clear Selection\r\n              </Button>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <Button\r\n                size=\"sm\"\r\n                className=\"bg-success hover:bg-success/90\"\r\n              >\r\n                Message Selected\r\n              </Button>\r\n              <Button\r\n                size=\"sm\"\r\n                variant=\"outline\"\r\n                className=\"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground\"\r\n              >\r\n                Blacklist Selected\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Vendors Table/Grid */}\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <h2 className=\"text-lg font-semibold\">Vendors ({filteredVendors.length})</h2>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={handleSelectAll}\r\n              className=\"h-8 w-8 p-0\"\r\n            >\r\n              <div className={cn(\r\n                'w-4 h-4 rounded border-2 flex items-center justify-center',\r\n                selectedVendors.length === filteredVendors.length && filteredVendors.length > 0\r\n                  ? 'bg-primary border-primary' \r\n                  : 'border-muted-foreground'\r\n              )}>\r\n                {selectedVendors.length === filteredVendors.length && filteredVendors.length > 0 && (\r\n                  <CheckCircle className=\"w-3 h-3 text-primary-foreground\" />\r\n                )}\r\n              </div>\r\n            </Button>\r\n            <span className=\"text-sm text-muted-foreground\">Select all</span>\r\n          </div>\r\n        </div>\r\n\r\n        <Table\r\n          columns={columns}\r\n          data={filteredVendors}\r\n          loading={false}\r\n          emptyText=\"No vendors found who have applied to your markets.\"\r\n        />\r\n      </Card>\r\n\r\n      {/* Vendor Modal */}\r\n      {vendorModal && vendorModal.vendor && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\r\n          <Card className=\"w-full max-w-2xl p-6 max-h-[80vh] overflow-y-auto\">\r\n            {vendorModal.type === 'view' && (\r\n              <>\r\n                <div className=\"flex items-center justify-between mb-6\">\r\n                  <h3 className=\"text-xl font-semibold\">Vendor Details</h3>\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    onClick={() => setVendorModal(null)}\r\n                  >\r\n                    \r\n                  </Button>\r\n                </div>\r\n                <div className=\"space-y-6\">\r\n                  {/* Basic Info */}\r\n                  <div className=\"flex items-start gap-4\">\r\n                    <Avatar \r\n                      src={vendorModal.vendor.avatar}\r\n                      alt={`${vendorModal.vendor.firstName} ${vendorModal.vendor.lastName}`}\r\n                      size=\"lg\"\r\n                    />\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-center gap-2 mb-2\">\r\n                        <h4 className=\"text-lg font-semibold\">\r\n                          {vendorModal.vendor.firstName} {vendorModal.vendor.lastName}\r\n                        </h4>\r\n                        {vendorModal.vendor.isEmailVerified && (\r\n                          <CheckCircle className=\"w-5 h-5 text-green-500\" />\r\n                        )}\r\n                      </div>\r\n                      {getStatusBadge(vendorModal.vendor)}\r\n                      <p className=\"text-muted-foreground mt-2\">{vendorModal.vendor.email}</p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Business Info */}\r\n                  {vendorModal.vendor.businessName && (\r\n                    <div>\r\n                      <h5 className=\"font-medium mb-2\">Business Information</h5>\r\n                      <div className=\"bg-muted/50 rounded-lg p-4 space-y-2\">\r\n                        <p><strong>Business Name:</strong> {vendorModal.vendor.businessName}</p>\r\n                        {vendorModal.vendor.businessDescription && (\r\n                          <p><strong>Description:</strong> {vendorModal.vendor.businessDescription}</p>\r\n                        )}\r\n                        {vendorModal.vendor.experience && (\r\n                          <p><strong>Experience:</strong> {vendorModal.vendor.experience}</p>\r\n                        )}\r\n                        {vendorModal.vendor.specialties.length > 0 && (\r\n                          <div>\r\n                            <strong>Specialties:</strong>\r\n                            <div className=\"flex flex-wrap gap-1 mt-1\">\r\n                              {vendorModal.vendor.specialties.map((specialty, index) => (\r\n                                <Badge key={index} variant=\"outline\" className=\"text-xs\">\r\n                                  {specialty}\r\n                                </Badge>\r\n                              ))}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Contact Info */}\r\n                  <div>\r\n                    <h5 className=\"font-medium mb-2\">Contact Information</h5>\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                      {vendorModal.vendor.contact.phone && (\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Phone className=\"w-4 h-4 text-muted-foreground\" />\r\n                          <span>{vendorModal.vendor.contact.phone}</span>\r\n                        </div>\r\n                      )}\r\n                      {vendorModal.vendor.contact.website && (\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Globe className=\"w-4 h-4 text-muted-foreground\" />\r\n                          <a \r\n                            href={vendorModal.vendor.contact.website}\r\n                            target=\"_blank\"\r\n                            rel=\"noopener noreferrer\"\r\n                            className=\"text-accent hover:underline flex items-center gap-1\"\r\n                          >\r\n                            Website <ExternalLink className=\"w-3 h-3\" />\r\n                          </a>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Statistics */}\r\n                  <div>\r\n                    <h5 className=\"font-medium mb-2\">Application Statistics</h5>\r\n                    <div className=\"grid grid-cols-3 gap-4\">\r\n                      <div className=\"text-center p-3 border rounded-lg\">\r\n                        <div className=\"text-2xl font-bold\">{vendorModal.vendor.totalApplications}</div>\r\n                        <div className=\"text-sm text-muted-foreground\">Total Applications</div>\r\n                      </div>\r\n                      <div className=\"text-center p-3 border rounded-lg\">\r\n                        <div className=\"text-2xl font-bold text-green-600\">{vendorModal.vendor.approvedApplications}</div>\r\n                        <div className=\"text-sm text-muted-foreground\">Approved</div>\r\n                      </div>\r\n                      <div className=\"text-center p-3 border rounded-lg\">\r\n                        <div className=\"text-2xl font-bold text-orange-600\">{vendorModal.vendor.pendingApplications}</div>\r\n                        <div className=\"text-sm text-muted-foreground\">Pending</div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Recent Markets */}\r\n                  <div>\r\n                    <h5 className=\"font-medium mb-2\">Recent Market Participation</h5>\r\n                    <div className=\"space-y-2\">\r\n                      {vendorModal.vendor.markets.slice(0, 5).map((market, index) => (\r\n                        <div key={index} className=\"flex items-center justify-between p-2 border rounded\">\r\n                          <span>{market.name}</span>\r\n                          <Badge \r\n                            variant={\r\n                              market.status === 'approved' ? 'default' :\r\n                              market.status === 'rejected' ? 'destructive' : 'outline'\r\n                            }\r\n                          >\r\n                            {market.status}\r\n                          </Badge>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex justify-end space-x-2 pt-4\">\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      onClick={() => setVendorModal(null)}\r\n                    >\r\n                      Close\r\n                    </Button>\r\n                    <Button\r\n                      onClick={() => {\r\n                        setVendorModal({ type: 'message', vendor: vendorModal.vendor })\r\n                      }}\r\n                    >\r\n                      Send Message\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n\r\n            {vendorModal.type === 'message' && (\r\n              <>\r\n                <div className=\"flex items-center justify-between mb-6\">\r\n                  <h3 className=\"text-xl font-semibold\">Send Message</h3>\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    onClick={() => setVendorModal(null)}\r\n                  >\r\n                    \r\n                  </Button>\r\n                </div>\r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <p className=\"text-muted-foreground mb-4\">\r\n                      Send a message to {vendorModal.vendor.firstName} {vendorModal.vendor.lastName}\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-2\">\r\n                      Message\r\n                    </label>\r\n                    <Textarea\r\n                      value={messageText}\r\n                      onChange={(e) => setMessageText(e.target.value)}\r\n                      placeholder=\"Type your message here...\"\r\n                      rows={4}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div className=\"flex justify-end space-x-2 pt-4\">\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      onClick={() => {\r\n                        setVendorModal(null)\r\n                        setMessageText('')\r\n                      }}\r\n                    >\r\n                      Cancel\r\n                    </Button>\r\n                    <Button\r\n                      onClick={handleSendMessage}\r\n                      disabled={!messageText.trim() || isLoading}\r\n                    >\r\n                      {isLoading ? 'Sending...' : 'Send Message'}\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n\r\n            {vendorModal.type === 'blacklist' && (\r\n              <>\r\n                <div className=\"flex items-center justify-between mb-6\">\r\n                  <h3 className=\"text-xl font-semibold\">Blacklist Vendor</h3>\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    onClick={() => setVendorModal(null)}\r\n                  >\r\n                    \r\n                  </Button>\r\n                </div>\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"bg-destructive/10 border border-destructive/20 rounded-lg p-4\">\r\n                    <p className=\"text-destructive\">\r\n                      Are you sure you want to blacklist {vendorModal.vendor.firstName} {vendorModal.vendor.lastName}?\r\n                      This will prevent them from applying to your markets.\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-2\">\r\n                      Reason for blacklisting (required)\r\n                    </label>\r\n                    <Textarea\r\n                      value={blacklistReason}\r\n                      onChange={(e) => setBlacklistReason(e.target.value)}\r\n                      placeholder=\"Please provide a reason for blacklisting this vendor...\"\r\n                      rows={3}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div className=\"flex justify-end space-x-2 pt-4\">\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      onClick={() => {\r\n                        setVendorModal(null)\r\n                        setBlacklistReason('')\r\n                      }}\r\n                    >\r\n                      Cancel\r\n                    </Button>\r\n                    <Button\r\n                      onClick={handleBlacklistVendor}\r\n                      disabled={!blacklistReason.trim() || isLoading}\r\n                      className=\"bg-destructive hover:bg-destructive/90\"\r\n                    >\r\n                      {isLoading ? 'Blacklisting...' : 'Blacklist Vendor'}\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n          </Card>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\n// Types for vendor with stats\r\ninterface VendorWithStats extends User {\r\n  totalApplications: number\r\n  approvedApplications: number\r\n  rejectedApplications: number\r\n  pendingApplications: number\r\n  averageRating: number\r\n  totalMarkets: number\r\n  lastActive: string\r\n  businessName: string\r\n  businessDescription: string\r\n  experience: string\r\n  specialties: string[]\r\n  contact: {\r\n    phone: string\r\n    website: string\r\n    socialMedia: Record<string, any>\r\n  }\r\n  markets: {\r\n    id: string\r\n    name: string\r\n    status: string\r\n    appliedAt: string\r\n  }[]\r\n  recentApplications: {\r\n    id: string\r\n    marketId: string\r\n    marketName: string\r\n    status: string\r\n    appliedAt: string\r\n    submittedData: Record<string, any>\r\n  }[]\r\n  isBlacklisted: boolean\r\n  blacklistReason: string\r\n  notes: string[]\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\promoter\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\vendor\\AddMarketPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\vendor\\BusinessPlanningPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\vendor\\FinancialReportsPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\vendor\\MarketCalendarPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\vendor\\VendorAddMarketForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\vendor\\VendorDashboardPage.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":398,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":398,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[16872,16875],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[16872,16875],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Link } from 'react-router-dom'\r\nimport { \r\n  CheckSquare, \r\n  DollarSign, \r\n  Calendar, \r\n  FileText, \r\n  Bell,\r\n  AlertCircle,\r\n  Clock,\r\n  Plus,\r\n  Store\r\n} from 'lucide-react'\r\nimport { Card } from '@/components/ui/Card'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { Badge } from '@/components/ui/Badge'\r\nimport { VendorMarketRow } from '@/components/VendorMarketRow'\r\nimport { useAuthStore } from '@/features/auth/authStore'\r\nimport { useApplications } from '@/features/applications/hooks/useApplications'\r\nimport { useTodos } from '@/features/tracking/hooks/useTodos'\r\nimport { useExpenses } from '@/features/tracking/hooks/useExpenses'\r\nimport { useNotificationsStore } from '@/features/notifications/notificationsStore'\r\nimport { useTrackedMarkets } from '@/features/markets/hooks/useMarkets'\r\nimport { cn } from '@/utils/cn'\r\n\r\nexport function VendorDashboardPage() {\r\n  const { user } = useAuthStore()\r\n  const { applications, isLoading: applicationsLoading } = useApplications()\r\n  const { todos, isLoading: todosLoading } = useTodos()\r\n  const { expenses, isLoading: expensesLoading } = useExpenses()\r\n  const { notifications, unreadCount } = useNotificationsStore()\r\n  \r\n  // Real API data - replace mock data with real hooks\r\n  const { trackedMarkets, isLoading: marketsLoading } = useTrackedMarkets()\r\n  \r\n  // Calculate tracking data from real todos and expenses\r\n  const trackingData = Object.fromEntries(\r\n    trackedMarkets.map(market => [\r\n      market.id,\r\n      {\r\n        id: `track-${market.id}`,\r\n        userId: user?.id || '',\r\n        marketId: market.id,\r\n        status: 'applied' as const,\r\n        notes: 'Tracking via dashboard',\r\n        todoCount: todos.filter(t => t.marketId === market.id).length,\r\n        todoProgress: Math.round((todos.filter(t => t.marketId === market.id && t.completed).length / \r\n                                 Math.max(todos.filter(t => t.marketId === market.id).length, 1)) * 100),\r\n        totalExpenses: expenses.filter(e => e.marketId === market.id).reduce((sum, e) => sum + e.amount, 0),\r\n        createdAt: '2024-01-10T00:00:00Z',\r\n        updatedAt: new Date().toISOString()\r\n      }\r\n    ])\r\n  )\r\n\r\n  // Get recent activity\r\n  const recentApplications = applications.slice(0, 3)\r\n  const recentTodos = todos.filter(todo => !todo.completed).slice(0, 3)\r\n  const recentExpenses = expenses.slice(0, 3)\r\n  const recentNotifications = notifications.slice(0, 5)\r\n\r\n  // Calculate stats\r\n  const stats = {\r\n    totalApplications: applications.length,\r\n    pendingApplications: applications.filter(app => app.status === 'under-review').length,\r\n    approvedApplications: applications.filter(app => app.status === 'approved').length,\r\n    totalTodos: todos.length,\r\n    completedTodos: todos.filter(todo => todo.completed).length,\r\n    overdueTodos: todos.filter(todo => \r\n      !todo.completed && todo.dueDate && new Date(todo.dueDate) < new Date()\r\n    ).length,\r\n    totalExpenses: expenses.reduce((sum, expense) => sum + expense.amount, 0),\r\n    thisMonthExpenses: expenses.filter(expense => {\r\n      const expenseDate = new Date(expense.date)\r\n      const now = new Date()\r\n      return expenseDate.getMonth() === now.getMonth() && \r\n             expenseDate.getFullYear() === now.getFullYear()\r\n    }).reduce((sum, expense) => sum + expense.amount, 0)\r\n  }\r\n\r\n  const formatCurrency = (amount: number) => {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD'\r\n    }).format(amount)\r\n  }\r\n\r\n  if (applicationsLoading || todosLoading || expensesLoading || marketsLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-[400px]\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-accent mx-auto mb-4\"></div>\r\n          <p className=\"text-muted-foreground\">Loading dashboard...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\r\n        <div>\r\n          <h1 className=\"text-2xl sm:text-3xl font-bold text-foreground\">Welcome back, {user?.firstName}!</h1>\r\n          <p className=\"text-muted-foreground mt-1\">\r\n            Here's what's happening with your market business\r\n          </p>\r\n        </div>\r\n        <div className=\"flex items-center gap-2 flex-shrink-0\">\r\n          {unreadCount > 0 && (\r\n            <Badge variant=\"destructive\" className=\"flex items-center gap-1\">\r\n              <Bell className=\"w-3 h-3\" />\r\n              {unreadCount} new\r\n            </Badge>\r\n          )}\r\n          <Link to=\"/markets\">\r\n            <Button variant=\"outline\" className=\"flex items-center gap-2\">\r\n              <Store className=\"w-4 h-4\" />\r\n              Find a Market\r\n            </Button>\r\n          </Link>\r\n          <Link to=\"/vendor/add-market\">\r\n            <Button className=\"flex items-center gap-2\">\r\n              <Plus className=\"w-4 h-4\" />\r\n              Add Market\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats Overview */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\">\r\n              <FileText className=\"w-6 h-6 text-blue-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Applications</p>\r\n              <p className=\"text-2xl font-bold text-foreground\">{stats.totalApplications}</p>\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                {stats.pendingApplications} pending\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center\">\r\n              <CheckSquare className=\"w-6 h-6 text-green-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Todos</p>\r\n              <p className=\"text-2xl font-bold text-foreground\">{stats.totalTodos}</p>\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                {stats.completedTodos} completed\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center\">\r\n              <DollarSign className=\"w-6 h-6 text-purple-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Expenses</p>\r\n              <p className=\"text-2xl font-bold text-foreground\">{formatCurrency(stats.totalExpenses)}</p>\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                {formatCurrency(stats.thisMonthExpenses)} this month\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center\">\r\n              <Calendar className=\"w-6 h-6 text-orange-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Markets</p>\r\n              <p className=\"text-2xl font-bold text-foreground\">{stats.approvedApplications}</p>\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                approved\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* My Markets Section */}\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h2 className=\"text-lg font-semibold text-foreground flex items-center gap-2\">\r\n            <Store className=\"w-5 h-5\" />\r\n            My Markets\r\n          </h2>\r\n          <Link to=\"/markets\">\r\n            <Button variant=\"ghost\" size=\"sm\">Browse Markets</Button>\r\n          </Link>\r\n        </div>\r\n        \r\n        <div className=\"space-y-4\">\r\n          {trackedMarkets.map((market) => (\r\n            <VendorMarketRow\r\n              key={market.id}\r\n              market={market}\r\n              tracking={trackingData[market.id as keyof typeof trackingData]}\r\n            />\r\n          ))}\r\n        </div>\r\n        \r\n        {trackedMarkets.length === 0 && (\r\n          <div className=\"text-center py-8\">\r\n            <Store className=\"w-12 h-12 text-muted-foreground mx-auto mb-4\" />\r\n            <h3 className=\"text-lg font-medium text-foreground mb-2\">No markets tracked yet</h3>\r\n            <p className=\"text-muted-foreground mb-4\">\r\n              Start tracking markets to get organized and plan your participation\r\n            </p>\r\n            <Link to=\"/markets\">\r\n              <Button>\r\n                <Plus className=\"w-4 h-4 mr-2\" />\r\n                Browse Markets\r\n              </Button>\r\n            </Link>\r\n          </div>\r\n        )}\r\n      </Card>\r\n\r\n      {/* Quick Actions */}\r\n      <Card className=\"p-6\">\r\n        <h2 className=\"text-lg font-semibold text-foreground mb-4\">Quick Actions</h2>\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n          <Link to=\"/vendor/todos\" className=\"group\">\r\n            <Button variant=\"outline\" className=\"w-full h-20 flex-col gap-2 group-hover:bg-accent/10\">\r\n              <CheckSquare className=\"w-6 h-6\" />\r\n              <span className=\"text-sm\">Manage Todos</span>\r\n            </Button>\r\n          </Link>\r\n          <Link to=\"/vendor/expenses\" className=\"group\">\r\n            <Button variant=\"outline\" className=\"w-full h-20 flex-col gap-2 group-hover:bg-accent/10\">\r\n              <DollarSign className=\"w-6 h-6\" />\r\n              <span className=\"text-sm\">Track Expenses</span>\r\n            </Button>\r\n          </Link>\r\n          <Link to=\"/vendor/calendar\" className=\"group\">\r\n            <Button variant=\"outline\" className=\"w-full h-20 flex-col gap-2 group-hover:bg-accent/10\">\r\n              <Calendar className=\"w-6 h-6\" />\r\n              <span className=\"text-sm\">View Calendar</span>\r\n            </Button>\r\n          </Link>\r\n          <Link to=\"/notifications\" className=\"group\">\r\n            <Button variant=\"outline\" className=\"w-full h-20 flex-col gap-2 group-hover:bg-accent/10 relative\">\r\n              <Bell className=\"w-6 h-6\" />\r\n              <span className=\"text-sm\">Notifications</span>\r\n              {unreadCount > 0 && (\r\n                <Badge \r\n                  variant=\"destructive\" \r\n                  className=\"absolute -top-1 -right-1 w-5 h-5 flex items-center justify-center text-xs p-0\"\r\n                >\r\n                  {unreadCount}\r\n                </Badge>\r\n              )}\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Recent Activity */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        {/* Recent Applications */}\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h2 className=\"text-lg font-semibold text-foreground\">Recent Applications</h2>\r\n            <Link to=\"/vendor/applications\">\r\n              <Button variant=\"ghost\" size=\"sm\">View all</Button>\r\n            </Link>\r\n          </div>\r\n          <div className=\"space-y-3\">\r\n            {recentApplications.length === 0 ? (\r\n              <p className=\"text-muted-foreground text-center py-4\">No applications yet</p>\r\n            ) : (\r\n              recentApplications.map((application) => (\r\n                <div key={application.id} className=\"flex items-center justify-between p-3 border border-border rounded-lg\">\r\n                  <div>\r\n                    <p className=\"font-medium text-foreground\">{application.market.name}</p>\r\n                    <p className=\"text-sm text-muted-foreground\">{application.vendor.firstName} {application.vendor.lastName}</p>\r\n                  </div>\r\n                  <Badge \r\n                    variant={\r\n                      application.status === 'approved' ? 'success' :\r\n                      application.status === 'rejected' ? 'destructive' : 'outline'\r\n                    }\r\n                  >\r\n                    {application.status}\r\n                  </Badge>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Recent Todos */}\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h2 className=\"text-lg font-semibold text-foreground\">Upcoming Tasks</h2>\r\n            <Link to=\"/vendor/todos\">\r\n              <Button variant=\"ghost\" size=\"sm\">View all</Button>\r\n            </Link>\r\n          </div>\r\n          <div className=\"space-y-3\">\r\n            {recentTodos.length === 0 ? (\r\n              <p className=\"text-muted-foreground text-center py-4\">No pending tasks</p>\r\n            ) : (\r\n              recentTodos.map((todo) => (\r\n                <div key={todo.id} className=\"flex items-center justify-between p-3 border border-border rounded-lg\">\r\n                  <div>\r\n                    <p className=\"font-medium text-foreground\">{todo.title}</p>\r\n                    <p className=\"text-sm text-muted-foreground\">\r\n                      {todo.dueDate ? (\r\n                        new Date(todo.dueDate) < new Date() ? (\r\n                          <span className=\"text-red-600 flex items-center gap-1\">\r\n                            <AlertCircle className=\"w-3 h-3\" />\r\n                            Overdue\r\n                          </span>\r\n                        ) : (\r\n                          <span className=\"flex items-center gap-1\">\r\n                            <Clock className=\"w-3 h-3\" />\r\n                            Due {new Date(todo.dueDate).toLocaleDateString()}\r\n                          </span>\r\n                        )\r\n                      ) : (\r\n                        'No due date'\r\n                      )}\r\n                    </p>\r\n                  </div>\r\n                  <Badge variant={\r\n                    todo.priority === 'urgent' ? 'destructive' :\r\n                    todo.priority === 'high' ? 'default' : 'outline'\r\n                  }>\r\n                    {todo.priority}\r\n                  </Badge>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Recent Expenses & Notifications */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        {/* Recent Expenses */}\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h2 className=\"text-lg font-semibold text-foreground\">Recent Expenses</h2>\r\n            <Link to=\"/vendor/expenses\">\r\n              <Button variant=\"ghost\" size=\"sm\">View all</Button>\r\n            </Link>\r\n          </div>\r\n          <div className=\"space-y-3\">\r\n            {recentExpenses.length === 0 ? (\r\n              <p className=\"text-muted-foreground text-center py-4\">No expenses recorded</p>\r\n            ) : (\r\n              recentExpenses.map((expense) => (\r\n                <div key={expense.id} className=\"flex items-center justify-between p-3 border border-border rounded-lg\">\r\n                  <div>\r\n                    <p className=\"font-medium text-foreground\">{expense.title}</p>\r\n                    <p className=\"text-sm text-muted-foreground\">\r\n                      {new Date(expense.date).toLocaleDateString()}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <p className=\"font-medium text-foreground\">{formatCurrency(expense.amount)}</p>\r\n                    <p className=\"text-xs text-muted-foreground capitalize\">\r\n                      {expense.category.replace('-', ' ')}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Recent Notifications */}\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h2 className=\"text-lg font-semibold text-foreground\">Recent Notifications</h2>\r\n            <Link to=\"/notifications\">\r\n              <Button variant=\"ghost\" size=\"sm\">View all</Button>\r\n            </Link>\r\n          </div>\r\n          <div className=\"space-y-3\">\r\n            {recentNotifications.length === 0 ? (\r\n              <p className=\"text-muted-foreground text-center py-4\">No notifications</p>\r\n            ) : (\r\n              recentNotifications.map((notification: any) => (\r\n                <div key={notification.id} className={cn(\r\n                  \"p-3 border rounded-lg\",\r\n                  !notification.read && \"bg-blue-50 border-l-4 border-l-blue-500\"\r\n                )}>\r\n                  <div className=\"flex items-start justify-between gap-2\">\r\n                    <div className=\"flex-1\">\r\n                      <p className=\"font-medium text-foreground text-sm\">{notification.title}</p>\r\n                      <p className=\"text-xs text-muted-foreground mt-1\">{notification.message}</p>\r\n                    </div>\r\n                    {!notification.read && (\r\n                      <div className=\"w-2 h-2 bg-blue-500 rounded-full mt-2\" />\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  )\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\vendor\\VendorMarketDetailPage.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":139,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":139,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5399,5402],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5399,5402],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":144,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":144,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5624,5627],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5624,5627],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":152,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":152,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5896,5899],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5896,5899],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, Suspense } from 'react'\r\nimport { useParams, useNavigate, Link } from 'react-router-dom'\r\nimport {\r\n  ArrowLeft,\r\n  Calendar,\r\n  MapPin,\r\n  Clock,\r\n  DollarSign,\r\n  CheckCircle,\r\n  MessageCircle,\r\n  Share,\r\n  Heart,\r\n  Download,\r\n  Cloud,\r\n  Car,\r\n  Users,\r\n  TrendingUp,\r\n  AlertCircle,\r\n  Settings\r\n} from 'lucide-react'\r\nimport { useMarket } from '@/features/markets/hooks/useMarkets'\r\nimport { useVendorApplications } from '@/features/applications/hooks/useApplications'\r\nimport { Button } from '@/components/ui/Button'\r\nimport { Badge } from '@/components/ui/Badge'\r\nimport { Card } from '@/components/ui/Card'\r\nimport { Tabs } from '@/components/ui/Tabs'\r\nimport { Spinner } from '@/components/ui/Spinner'\r\nimport { ErrorBoundary } from '@/components/ui/ErrorBoundary'\r\n\r\nimport { cn } from '@/utils/cn'\r\nimport { format } from 'date-fns'\r\n\r\n// Lazy load heavy components for better performance\r\nconst VendorTodoList = React.lazy(() => import('@/components/VendorTodoList').then(module => ({ default: module.VendorTodoList })))\r\nconst VendorExpenseTracker = React.lazy(() => import('@/components/VendorExpenseTracker').then(module => ({ default: module.VendorExpenseTracker })))\r\nconst VendorAnalyticsDashboard = React.lazy(() => import('@/components/VendorAnalyticsDashboard').then(module => ({ default: module.VendorAnalyticsDashboard })))\r\n\r\n// Loading component for lazy-loaded content\r\nconst TabContentLoader: React.FC = () => (\r\n  <Card className=\"p-8\">\r\n    <div className=\"flex items-center justify-center\">\r\n      <Spinner className=\"w-6 h-6\" />\r\n      <span className=\"ml-2 text-muted-foreground\">Loading...</span>\r\n    </div>\r\n  </Card>\r\n)\r\n\r\n// Error component for failed tab loads\r\nconst TabErrorFallback: React.FC = () => (\r\n  <Card className=\"p-8\">\r\n    <div className=\"text-center\">\r\n      <AlertCircle className=\"w-8 h-8 mx-auto mb-2 text-destructive\" />\r\n      <h3 className=\"text-lg font-semibold mb-2\">Failed to load content</h3>\r\n      <p className=\"text-muted-foreground\">Please try refreshing the page.</p>\r\n    </div>\r\n  </Card>\r\n)\r\n\r\nconst categoryLabels = {\r\n  'farmers-market': 'Farmers Market',\r\n  'arts-crafts': 'Arts & Crafts',\r\n  'flea-market': 'Flea Market',\r\n  'food-festival': 'Food Festival',\r\n  'holiday-market': 'Holiday Market',\r\n  'craft-show': 'Craft Show',\r\n  'community-event': 'Community Event',\r\n  'night-market': 'Night Market',\r\n  'street-fair': 'Street Fair',\r\n  'vintage-antique': 'Vintage & Antique'\r\n}\r\n\r\nconst categoryColors: Record<string, string> = {\r\n  'farmers-market': 'bg-green-100 text-green-800 border-green-200',\r\n  'arts-crafts': 'bg-purple-100 text-purple-800 border-purple-200',\r\n  'flea-market': 'bg-blue-100 text-blue-800 border-blue-200',\r\n  'food-festival': 'bg-orange-100 text-orange-800 border-orange-200',\r\n  'holiday-market': 'bg-red-100 text-red-800 border-red-200',\r\n  'craft-show': 'bg-pink-100 text-pink-800 border-pink-200',\r\n  'community-event': 'bg-gray-100 text-gray-800 border-gray-200',\r\n  'night-market': 'bg-indigo-100 text-indigo-800 border-indigo-200',\r\n  'street-fair': 'bg-amber-100 text-amber-800 border-amber-200',\r\n  'vintage-antique': 'bg-slate-100 text-slate-800 border-slate-200'\r\n}\r\n\r\nconst statusColors: Record<string, string> = {\r\n  'active': 'bg-success/10 text-success border-success/20',\r\n  'draft': 'bg-warning/10 text-warning border-warning/20',\r\n  'cancelled': 'bg-destructive/10 text-destructive border-destructive/20',\r\n  'completed': 'bg-muted text-muted-foreground border-muted'\r\n}\r\n\r\nexport const VendorMarketDetailPage: React.FC = () => {\r\n  const { id } = useParams<{ id: string }>()\r\n  const navigate = useNavigate()\r\n  const [selectedImageIndex, setSelectedImageIndex] = useState(0)\r\n  const [activeTab, setActiveTab] = useState('overview')\r\n\r\n  const { market, isLoading, error, refetch } = useMarket(id!)\r\n  const { myApplications } = useVendorApplications()\r\n\r\n  // Check if user has already applied to this market\r\n  const existingApplication = myApplications.find(app => app.marketId === id)\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <Spinner className=\"h-8 w-8 mx-auto mb-4\" />\r\n          <p className=\"text-muted-foreground\">Loading market details...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (error || !market) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\r\n        <div className=\"text-center max-w-md mx-auto p-6\">\r\n          <div className=\"w-16 h-16 mx-auto mb-4 rounded-full bg-muted flex items-center justify-center\">\r\n            <AlertCircle className=\"w-8 h-8 text-muted-foreground\" />\r\n          </div>\r\n          <h1 className=\"text-2xl font-bold mb-2\">Market Not Found</h1>\r\n          <p className=\"text-muted-foreground mb-6\">\r\n            The market you're looking for doesn't exist or has been removed.\r\n          </p>\r\n          <div className=\"space-y-2\">\r\n            <Button onClick={() => navigate('/vendor/tracked-markets')} className=\"w-full\">\r\n              Back to Tracked Markets\r\n            </Button>\r\n            <Button onClick={refetch} variant=\"outline\" className=\"w-full\">\r\n              Try Again\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const formatSchedule = (schedule: any[]) => {\r\n    if (!schedule || schedule.length === 0) return 'Schedule TBD'\r\n\r\n    const dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\r\n    const days = schedule\r\n      .map((s: any) => dayNames[s.dayOfWeek])\r\n      .filter((day: string, index: number, arr: string[]) => arr.indexOf(day) === index)\r\n      .join(', ')\r\n\r\n    const time = schedule[0]\r\n    return `${days} ${time.startTime}-${time.endTime}`\r\n  }\r\n\r\n  const formatLocation = (location: any) => {\r\n    return `${location.address}, ${location.city}, ${location.state} ${location.zipCode}`\r\n  }\r\n\r\n  const getNextMarketDate = () => {\r\n    if (!market.schedule || market.schedule.length === 0) return null\r\n\r\n    const now = new Date()\r\n    const upcomingDates = market.schedule\r\n      .map(s => {\r\n        const startDate = new Date(s.startDate)\r\n        if (startDate >= now) return startDate\r\n        return null\r\n      })\r\n      .filter(date => date !== null)\r\n      .sort((a, b) => a!.getTime() - b!.getTime())\r\n\r\n    return upcomingDates[0] || null\r\n  }\r\n\r\n  const nextDate = getNextMarketDate()\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background\">\r\n      {/* Header */}\r\n      <div className=\"border-b bg-card\">\r\n        <div className=\"container mx-auto px-4 py-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <Link\r\n                to=\"/vendor/tracked-markets\"\r\n                className=\"inline-flex items-center text-sm text-muted-foreground hover:text-foreground transition-colors\"\r\n              >\r\n                <ArrowLeft className=\"h-4 w-4 mr-1\" />\r\n                Tracked Markets\r\n              </Link>\r\n              <div className=\"h-4 border-l border-border\" />\r\n              <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                <Badge variant=\"outline\" className={cn(categoryColors[market.category])}>{categoryLabels[market.category]}</Badge>\r\n                <Badge variant=\"outline\" className={cn(statusColors[market.status])}>{market.status}</Badge>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-3\">\r\n              <Button variant=\"outline\" size=\"sm\">\r\n                <Share className=\"w-4 h-4 mr-2\" />\r\n                Share\r\n              </Button>\r\n              <Button variant=\"outline\" size=\"sm\">\r\n                <Heart className=\"w-4 h-4 mr-2\" />\r\n                Favorite\r\n              </Button>\r\n              <Button variant=\"outline\" size=\"sm\">\r\n                <Download className=\"w-4 h-4 mr-2\" />\r\n                Export\r\n              </Button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mt-4\">\r\n            <h1 className=\"text-3xl font-bold mb-2\">{market.name}</h1>\r\n            <div className=\"flex items-center gap-6 text-muted-foreground mb-4\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <MapPin className=\"w-4 h-4\" />\r\n                <span>{formatLocation(market.location)}</span>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <Calendar className=\"w-4 h-4\" />\r\n                <span>{formatSchedule(market.schedule)}</span>\r\n              </div>\r\n              {nextDate && (\r\n                <div className=\"flex items-center gap-2 text-success\">\r\n                  <Clock className=\"w-4 h-4\" />\r\n                  <span>Next: {format(nextDate, 'MMM d, yyyy')}</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mobile-padding\">\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6 lg:gap-8\">\r\n          {/* Main Content */}\r\n          <div className=\"lg:col-span-3\">\r\n            <Tabs\r\n              activeKey={activeTab}\r\n              onChange={setActiveTab}\r\n              size=\"lg\" // Use larger size for better mobile touch targets\r\n              className=\"mb-6\"\r\n              items={[\r\n                {\r\n                  key: 'overview',\r\n                  label: 'Overview',\r\n                  icon: <MapPin className=\"w-4 h-4\" />,\r\n                  content: (\r\n                    <div className=\"space-y-6\">\r\n                      {/* Hero Image */}\r\n                      {market.images && market.images.length > 0 && (\r\n                        <Card className=\"overflow-hidden\">\r\n                          <div className=\"aspect-video relative\">\r\n                            <img\r\n                              src={market.images[selectedImageIndex]}\r\n                              alt={market.name}\r\n                              className=\"w-full h-full object-cover\"\r\n                            />\r\n                            <div className=\"absolute bottom-4 left-4\">\r\n                              <div className=\"flex gap-2\">\r\n                                {market.images.slice(0, 5).map((_, index) => (\r\n                                  <button\r\n                                    key={index}\r\n                                    onClick={() => setSelectedImageIndex(index)}\r\n                                    className={cn(\r\n                                      \"w-2 h-2 rounded-full transition-colors\",\r\n                                      selectedImageIndex === index ? \"bg-white\" : \"bg-white/50\"\r\n                                    )}\r\n                                  />\r\n                                ))}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </Card>\r\n                      )}\r\n\r\n                      {/* Market Info Cards */}\r\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                        {/* Application Status */}\r\n                        <Card className=\"p-6\">\r\n                          <div className=\"flex items-center gap-3 mb-4\">\r\n                            <div className=\"w-10 h-10 bg-accent/10 rounded-lg flex items-center justify-center\">\r\n                              <CheckCircle className=\"w-5 h-5 text-accent\" />\r\n                            </div>\r\n                            <h3 className=\"text-lg font-semibold\">Application Status</h3>\r\n                          </div>\r\n\r\n                          {existingApplication ? (\r\n                            <div className=\"space-y-3\">\r\n                              <Badge\r\n                                variant=\"outline\"\r\n                                className={cn(\r\n                                  \"text-sm\",\r\n                                  existingApplication.status === 'approved' && \"bg-success/10 text-success border-success/20\",\r\n                                  existingApplication.status === 'submitted' && \"bg-warning/10 text-warning border-warning/20\",\r\n                                  existingApplication.status === 'rejected' && \"bg-destructive/10 text-destructive border-destructive/20\"\r\n                                )}\r\n                              >\r\n                                {existingApplication.status.replace('-', ' ')}\r\n                              </Badge>\r\n                              <p className=\"text-sm text-muted-foreground\">\r\n                                Submitted {format(new Date(existingApplication.createdAt), 'MMM d, yyyy')}\r\n                              </p>\r\n                              <Button\r\n                                size=\"sm\"\r\n                                onClick={() => navigate(`/applications/${existingApplication.id}`)}\r\n                              >\r\n                                View Application\r\n                              </Button>\r\n                            </div>\r\n                          ) : (\r\n                            <div className=\"space-y-3\">\r\n                              <p className=\"text-sm text-muted-foreground\">Not applied yet</p>\r\n                              <Button\r\n                                size=\"sm\"\r\n                                onClick={() => navigate(`/markets/${id}/apply`)}\r\n                              >\r\n                                Apply to Market\r\n                              </Button>\r\n                            </div>\r\n                          )}\r\n                        </Card>\r\n\r\n                        {/* Quick Stats */}\r\n                        <Card className=\"p-6\">\r\n                          <div className=\"flex items-center gap-3 mb-4\">\r\n                            <div className=\"w-10 h-10 bg-accent/10 rounded-lg flex items-center justify-center\">\r\n                              <TrendingUp className=\"w-5 h-5 text-accent\" />\r\n                            </div>\r\n                            <h3 className=\"text-lg font-semibold\">Quick Stats</h3>\r\n                          </div>\r\n\r\n                          <div className=\"space-y-2\">\r\n                            <div className=\"flex justify-between text-sm\">\r\n                              <span className=\"text-muted-foreground\">Status:</span>\r\n                              <Badge className={cn(statusColors[market.status])}>{market.status}</Badge>\r\n                            </div>\r\n                            <div className=\"flex justify-between text-sm\">\r\n                              <span className=\"text-muted-foreground\">Category:</span>\r\n                              <span>{categoryLabels[market.category]}</span>\r\n                            </div>\r\n                            {market.schedule && market.schedule.length > 0 && (\r\n                              <div className=\"flex justify-between text-sm\">\r\n                                <span className=\"text-muted-foreground\">Next Date:</span>\r\n                                <span>{nextDate ? format(nextDate, 'MMM d') : 'N/A'}</span>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        </Card>\r\n                      </div>\r\n\r\n                      {/* Description */}\r\n                      <Card className=\"p-6\">\r\n                        <h3 className=\"text-xl font-semibold mb-4\">About This Market</h3>\r\n                        <p className=\"text-muted-foreground leading-relaxed\">\r\n                          {market.description}\r\n                        </p>\r\n                      </Card>\r\n\r\n                      {/* Contact Information */}\r\n                      <Card className=\"p-6\">\r\n                        <h3 className=\"text-xl font-semibold mb-4\">Contact Information</h3>\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                          {market.contact.phone && (\r\n                            <div className=\"flex items-center gap-3\">\r\n                              <div className=\"w-8 h-8 bg-muted rounded-lg flex items-center justify-center\">\r\n                                \r\n                              </div>\r\n                              <div>\r\n                                <p className=\"text-sm font-medium\">Phone</p>\r\n                                <p className=\"text-sm text-muted-foreground\">{market.contact.phone}</p>\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n\r\n                          {market.contact.email && (\r\n                            <div className=\"flex items-center gap-3\">\r\n                              <div className=\"w-8 h-8 bg-muted rounded-lg flex items-center justify-center\">\r\n                                \r\n                              </div>\r\n                              <div>\r\n                                <p className=\"text-sm font-medium\">Email</p>\r\n                                <a href={`mailto:${market.contact.email}`} className=\"text-sm text-accent hover:underline\">\r\n                                  {market.contact.email}\r\n                                </a>\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n\r\n                          {market.contact.website && (\r\n                            <div className=\"flex items-center gap-3\">\r\n                              <div className=\"w-8 h-8 bg-muted rounded-lg flex items-center justify-center\">\r\n                                \r\n                              </div>\r\n                              <div>\r\n                                <p className=\"text-sm font-medium\">Website</p>\r\n                                <a href={market.contact.website} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-sm text-accent hover:underline\">\r\n                                  Visit Website\r\n                                </a>\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </Card>\r\n                    </div>\r\n                  )\r\n                },\r\n                {\r\n                  key: 'preparation',\r\n                  label: 'Preparation',\r\n                  icon: <CheckCircle className=\"w-4 h-4\" />,\r\n                  content: (\r\n                    <ErrorBoundary fallback={<TabErrorFallback />}>\r\n                      <Suspense fallback={<TabContentLoader />}>\r\n                        <VendorTodoList marketId={market.id} />\r\n                      </Suspense>\r\n                    </ErrorBoundary>\r\n                  )\r\n                },\r\n                {\r\n                  key: 'expenses',\r\n                  label: 'Expenses',\r\n                  icon: <DollarSign className=\"w-4 h-4\" />,\r\n                  content: (\r\n                    <ErrorBoundary fallback={<TabErrorFallback />}>\r\n                      <Suspense fallback={<TabContentLoader />}>\r\n                        <VendorExpenseTracker marketId={market.id} />\r\n                      </Suspense>\r\n                    </ErrorBoundary>\r\n                  )\r\n                },\r\n                {\r\n                  key: 'analytics',\r\n                  label: 'Analytics',\r\n                  icon: <TrendingUp className=\"w-4 h-4\" />,\r\n                  content: (\r\n                    <ErrorBoundary fallback={<TabErrorFallback />}>\r\n                      <Suspense fallback={<TabContentLoader />}>\r\n                        <VendorAnalyticsDashboard\r\n                          marketId={market.id}\r\n                          marketData={market}\r\n                          applicationData={existingApplication}\r\n                        />\r\n                      </Suspense>\r\n                    </ErrorBoundary>\r\n                  )\r\n                },\r\n                {\r\n                  key: 'logistics',\r\n                  label: 'Logistics',\r\n                  icon: <Car className=\"w-4 h-4\" />,\r\n                  content: (\r\n                    <Card className=\"p-8\">\r\n                      <div className=\"text-center\">\r\n                        <Car className=\"w-12 h-12 mx-auto mb-4 text-muted-foreground\" />\r\n                        <h3 className=\"text-lg font-semibold mb-2\">Logistics Tools</h3>\r\n                        <p className=\"text-muted-foreground\">\r\n                          Parking, loading zones, and transportation planning tools will be available here.\r\n                        </p>\r\n                      </div>\r\n                    </Card>\r\n                  )\r\n                },\r\n                {\r\n                  key: 'communication',\r\n                  label: 'Communication',\r\n                  icon: <MessageCircle className=\"w-4 h-4\" />,\r\n                  content: (\r\n                    <Card className=\"p-8\">\r\n                      <div className=\"text-center\">\r\n                        <MessageCircle className=\"w-12 h-12 mx-auto mb-4 text-muted-foreground\" />\r\n                        <h3 className=\"text-lg font-semibold mb-2\">Direct Messaging</h3>\r\n                        <p className=\"text-muted-foreground\">\r\n                          Direct messaging with market promoter will be available here.\r\n                        </p>\r\n                      </div>\r\n                    </Card>\r\n                  )\r\n                }\r\n              ]}\r\n            />\r\n          </div>\r\n\r\n          {/* Sidebar */}\r\n          <div className=\"lg:col-span-1 order-first lg:order-last\">\r\n            <div className=\"sticky top-6 space-y-4 lg:space-y-6\">\r\n              {/* Market Promoter */}\r\n              {market.promoter && (\r\n                <Card className=\"p-6\">\r\n                  <h3 className=\"text-lg font-semibold mb-4\">Market Organizer</h3>\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <div className=\"w-10 h-10 bg-muted rounded-full flex items-center justify-center\">\r\n                      <span className=\"text-sm font-medium\">\r\n                        {market.promoter.firstName[0]}{market.promoter.lastName[0]}\r\n                      </span>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"font-medium\">{market.promoter.firstName} {market.promoter.lastName}</p>\r\n                      <p className=\"text-sm text-muted-foreground\">{market.promoter.email}</p>\r\n                    </div>\r\n                  </div>\r\n                  <Button className=\"w-full mt-4\" size=\"sm\">\r\n                    <MessageCircle className=\"w-4 h-4 mr-2\" />\r\n                    Contact Organizer\r\n                  </Button>\r\n                </Card>\r\n              )}\r\n\r\n              {/* Weather Forecast */}\r\n              <Card className=\"p-6\">\r\n                <h3 className=\"text-lg font-semibold mb-4 flex items-center gap-2\">\r\n                  <Cloud className=\"w-5 h-5\" />\r\n                  Weather Forecast\r\n                </h3>\r\n                {nextDate ? (\r\n                  <div className=\"text-center\">\r\n                    <p className=\"text-sm text-muted-foreground mb-2\">\r\n                      {format(nextDate, 'EEEE, MMM d')}\r\n                    </p>\r\n                    <div className=\"text-2xl mb-1\"></div>\r\n                    <p className=\"text-sm font-medium\">72F</p>\r\n                    <p className=\"text-xs text-muted-foreground\">Partly Cloudy</p>\r\n                  </div>\r\n                ) : (\r\n                  <p className=\"text-sm text-muted-foreground text-center\">No upcoming dates</p>\r\n                )}\r\n              </Card>\r\n\r\n              {/* Quick Actions */}\r\n              <Card className=\"p-6\">\r\n                <h3 className=\"text-lg font-semibold mb-4\">Quick Actions</h3>\r\n                <div className=\"space-y-3\">\r\n                  <Button variant=\"outline\" size=\"sm\" className=\"w-full justify-start\">\r\n                    <Settings className=\"w-4 h-4 mr-2\" />\r\n                    Market Settings\r\n                  </Button>\r\n                  <Button variant=\"outline\" size=\"sm\" className=\"w-full justify-start\">\r\n                    <Share className=\"w-4 h-4 mr-2\" />\r\n                    Share Market\r\n                  </Button>\r\n                  <Button variant=\"outline\" size=\"sm\" className=\"w-full justify-start\">\r\n                    <Download className=\"w-4 h-4 mr-2\" />\r\n                    Export Details\r\n                  </Button>\r\n                  <Button variant=\"outline\" size=\"sm\" className=\"w-full justify-start\">\r\n                    <Users className=\"w-4 h-4 mr-2\" />\r\n                    View Community\r\n                  </Button>\r\n                </div>\r\n              </Card>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\vendor\\VendorTodosPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\vendor\\VendorTrackedMarketsPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\vendor\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\pages\\vendors\\VendorCreateMarketPage.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":54,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":54,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1845,1848],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1845,1848],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Button, Card, CardHeader, CardTitle, CardContent, Input, Textarea, Select } from '@/components/ui'\r\nimport { ArrowLeft, MapPin, Calendar, Loader2 } from 'lucide-react'\r\nimport { getGenericMarketImage } from '@/config/constants'\r\n\r\nconst marketCategories = [\r\n  { value: 'farmers-market', label: 'Farmers Market' },\r\n  { value: 'arts-crafts', label: 'Arts & Crafts' },\r\n  { value: 'flea-market', label: 'Flea Market' },\r\n  { value: 'food-festival', label: 'Food Festival' },\r\n  { value: 'craft-show', label: 'Craft Show' },\r\n  { value: 'community-event', label: 'Community Event' },\r\n  { value: 'holiday-market', label: 'Holiday Market' },\r\n  { value: 'night-market', label: 'Night Market' },\r\n  { value: 'street-fair', label: 'Street Fair' },\r\n  { value: 'vintage-antique', label: 'Vintage & Antique' },\r\n]\r\n\r\nconst vendorAttendanceOptions = [\r\n  { value: 'attending', label: 'I\\'m attending this market' },\r\n  { value: 'interested', label: 'I\\'m interested in attending' },\r\n  { value: 'not-attending', label: 'Not attending (or no longer attending)' },\r\n]\r\n\r\nexport function VendorCreateMarketPage() {\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    category: '',\r\n    description: '',\r\n    comments: '', // Additional details and notes\r\n    address: '',\r\n    city: '',\r\n    state: '',\r\n    zipCode: '',\r\n    latitude: '',\r\n    longitude: '',\r\n    startDate: '',\r\n    endDate: '',\r\n    startTime: '',\r\n    endTime: '',\r\n    vendorAttendance: '',\r\n    contactEmail: '',\r\n    contactPhone: '',\r\n    website: '',\r\n    facebook: '',\r\n    instagram: '',\r\n    otherLink: '',\r\n    isRecurring: false,\r\n    daysOfWeek: [] as string[],\r\n  })\r\n\r\n  const handleChange = (field: string, value: any) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }))\r\n  }\r\n\r\n  const handleDayToggle = (day: string) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      daysOfWeek: prev.daysOfWeek.includes(day)\r\n        ? prev.daysOfWeek.filter(d => d !== day)\r\n        : [...prev.daysOfWeek, day]\r\n    }))\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n\r\n    // Validation: Check required fields\r\n    if (!formData.name.trim()) {\r\n      alert('Market name is required.')\r\n      return\r\n    }\r\n    if (!formData.category) {\r\n      alert('Market category is required.')\r\n      return\r\n    }\r\n    if (!formData.address.trim()) {\r\n      alert('Street address is required.')\r\n      return\r\n    }\r\n    if (!formData.city.trim()) {\r\n      alert('City is required.')\r\n      return\r\n    }\r\n    if (!formData.state.trim()) {\r\n      alert('State is required.')\r\n      return\r\n    }\r\n    if (!formData.startDate) {\r\n      alert('Start date is required.')\r\n      return\r\n    }\r\n    if (!formData.startTime) {\r\n      alert('Start time is required.')\r\n      return\r\n    }\r\n    if (!formData.endTime) {\r\n      alert('End time is required.')\r\n      return\r\n    }\r\n    if (!formData.vendorAttendance) {\r\n      alert('Please specify your attendance status.')\r\n      return\r\n    }\r\n\r\n    // Validation: Check if at least one link is provided\r\n    const hasLink = formData.website.trim() || formData.facebook.trim() || formData.instagram.trim() || formData.otherLink.trim()\r\n    if (!hasLink) {\r\n      alert('Please provide at least one link to the market\\'s official page or social media.')\r\n      return\r\n    }\r\n\r\n    setIsSubmitting(true)\r\n\r\n    // Simulate API call - will be implemented with marketsApi.createMarket()\r\n    await new Promise(resolve => setTimeout(resolve, 1500))\r\n\r\n    // Generate a temporary market ID for generic image selection\r\n    const tempMarketId = `temp-${Date.now()}`\r\n    const genericImage = getGenericMarketImage(tempMarketId)\r\n\r\n    console.log('Creating vendor market:', {\r\n      ...formData,\r\n      marketType: 'vendor-created', // Mark as vendor-created\r\n      images: [genericImage], // Add generic cycling image\r\n    })\r\n\r\n    setIsSubmitting(false)\r\n    // Navigate to my markets page on success\r\n    window.location.href = '/my-markets'\r\n  }\r\n\r\n  const weekDays = [\r\n    { value: 'monday', label: 'M' },\r\n    { value: 'tuesday', label: 'T' },\r\n    { value: 'wednesday', label: 'W' },\r\n    { value: 'thursday', label: 'T' },\r\n    { value: 'friday', label: 'F' },\r\n    { value: 'saturday', label: 'S' },\r\n    { value: 'sunday', label: 'S' },\r\n  ]\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-6 max-w-4xl\">\r\n      {/* Header */}\r\n      <div className=\"mb-6\">\r\n        <Link\r\n          to=\"/markets\"\r\n          className=\"inline-flex items-center text-sm text-muted-foreground hover:text-foreground transition-colors mb-4\"\r\n        >\r\n          <ArrowLeft className=\"h-4 w-4 mr-1\" />\r\n          Back to Markets\r\n        </Link>\r\n        <h1 className=\"text-2xl font-bold text-foreground\">Create Community Market</h1>\r\n        <p className=\"text-muted-foreground\">\r\n          Share a market with the community. This is an honor-based system where vendors indicate their attendance.\r\n        </p>\r\n      </div>\r\n\r\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n        {/* Basic Information */}\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <MapPin className=\"h-5 w-5 text-accent\" />\r\n              Basic Information\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-foreground mb-1\">\r\n                Market Name *\r\n              </label>\r\n              <Input\r\n                value={formData.name}\r\n                onChange={(e) => handleChange('name', e.target.value)}\r\n                placeholder=\"e.g., Downtown Farmers Market\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-foreground mb-1\">\r\n                Category *\r\n              </label>\r\n              <Select\r\n                value={formData.category}\r\n                onValueChange={(value) => handleChange('category', value)}\r\n                options={marketCategories}\r\n                placeholder=\"Select market category\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-foreground mb-1\">\r\n                Description\r\n              </label>\r\n              <Textarea\r\n                value={formData.description}\r\n                onChange={(e) => handleChange('description', e.target.value)}\r\n                placeholder=\"Describe this market and what makes it special...\"\r\n                rows={4}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-foreground mb-1\">\r\n                Additional Comments\r\n              </label>\r\n              <Textarea\r\n                value={formData.comments}\r\n                onChange={(e) => handleChange('comments', e.target.value)}\r\n                placeholder=\"Any additional details, booth fees, special notes, or other information...\"\r\n                rows={3}\r\n              />\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Location */}\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <MapPin className=\"h-5 w-5 text-accent\" />\r\n              Location\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-foreground mb-1\">\r\n                Street Address *\r\n              </label>\r\n              <Input\r\n                value={formData.address}\r\n                onChange={(e) => handleChange('address', e.target.value)}\r\n                placeholder=\"123 Main Street\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-foreground mb-1\">\r\n                  City *\r\n                </label>\r\n                <Input\r\n                  value={formData.city}\r\n                  onChange={(e) => handleChange('city', e.target.value)}\r\n                  placeholder=\"City\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-foreground mb-1\">\r\n                  State *\r\n                </label>\r\n                <Input\r\n                  value={formData.state}\r\n                  onChange={(e) => handleChange('state', e.target.value)}\r\n                  placeholder=\"State\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-foreground mb-1\">\r\n                Zip Code\r\n              </label>\r\n              <Input\r\n                value={formData.zipCode}\r\n                onChange={(e) => handleChange('zipCode', e.target.value)}\r\n                placeholder=\"12345\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"text-sm text-muted-foreground\">\r\n              Tip: Click on the map or provide coordinates for better location accuracy\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Schedule */}\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <Calendar className=\"h-5 w-5 text-accent\" />\r\n              Schedule\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"recurring\"\r\n                checked={formData.isRecurring}\r\n                onChange={(e) => handleChange('isRecurring', e.target.checked)}\r\n                className=\"rounded\"\r\n              />\r\n              <label htmlFor=\"recurring\" className=\"text-sm font-medium\">\r\n                This is a recurring market (happens regularly)\r\n              </label>\r\n            </div>\r\n\r\n            {formData.isRecurring ? (\r\n              // Recurring Schedule\r\n              <>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-foreground mb-2\">\r\n                    Days of the Week\r\n                  </label>\r\n                  <div className=\"flex gap-1\">\r\n                    {weekDays.map((day) => (\r\n                      <button\r\n                        key={day.value}\r\n                        type=\"button\"\r\n                        onClick={() => handleDayToggle(day.value)}\r\n                        className={`w-8 h-8 rounded-full text-xs font-medium transition-colors ${\r\n                          formData.daysOfWeek.includes(day.value)\r\n                            ? 'bg-accent text-accent-foreground'\r\n                            : 'bg-surface hover:bg-surface-2'\r\n                        }`}\r\n                      >\r\n                        {day.label}\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-foreground mb-1\">\r\n                      Start Time *\r\n                    </label>\r\n                    <Input\r\n                      type=\"time\"\r\n                      value={formData.startTime}\r\n                      onChange={(e) => handleChange('startTime', e.target.value)}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-foreground mb-1\">\r\n                      End Time *\r\n                    </label>\r\n                    <Input\r\n                      type=\"time\"\r\n                      value={formData.endTime}\r\n                      onChange={(e) => handleChange('endTime', e.target.value)}\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"text-sm text-muted-foreground\">\r\n                  This market repeats on the selected days each week.\r\n                </div>\r\n              </>\r\n            ) : (\r\n              // One-time Schedule\r\n              <>\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-foreground mb-1\">\r\n                      Event Date *\r\n                    </label>\r\n                    <Input\r\n                      type=\"date\"\r\n                      value={formData.startDate}\r\n                      onChange={(e) => handleChange('startDate', e.target.value)}\r\n                      required\r\n                      min={new Date().toISOString().split('T')[0]}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-foreground mb-1\">\r\n                      End Date (if multi-day event)\r\n                    </label>\r\n                    <Input\r\n                      type=\"date\"\r\n                      value={formData.endDate}\r\n                      onChange={(e) => handleChange('endDate', e.target.value)}\r\n                      min={formData.startDate || new Date().toISOString().split('T')[0]}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-foreground mb-1\">\r\n                      Start Time *\r\n                    </label>\r\n                    <Input\r\n                      type=\"time\"\r\n                      value={formData.startTime}\r\n                      onChange={(e) => handleChange('startTime', e.target.value)}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-foreground mb-1\">\r\n                      End Time *\r\n                    </label>\r\n                    <Input\r\n                      type=\"time\"\r\n                      value={formData.endTime}\r\n                      onChange={(e) => handleChange('endTime', e.target.value)}\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Contact & Details */}\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle>Contact Information</CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-foreground mb-1\">\r\n                  Contact Email\r\n                </label>\r\n                <Input\r\n                  type=\"email\"\r\n                  value={formData.contactEmail}\r\n                  onChange={(e) => handleChange('contactEmail', e.target.value)}\r\n                  placeholder=\"your.email@example.com\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-foreground mb-1\">\r\n                  Contact Phone\r\n                </label>\r\n                <Input\r\n                  type=\"tel\"\r\n                  value={formData.contactPhone}\r\n                  onChange={(e) => handleChange('contactPhone', e.target.value)}\r\n                  placeholder=\"(555) 123-4567\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-foreground mb-1\">\r\n                Website or Official Link *\r\n              </label>\r\n              <Input\r\n                value={formData.website}\r\n                onChange={(e) => handleChange('website', e.target.value)}\r\n                placeholder=\"https://example.com or link to official market page\"\r\n                required\r\n              />\r\n              <div className=\"text-xs text-muted-foreground mt-1\">\r\n                At least one official link is required\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-foreground mb-1\">\r\n                Facebook (optional)\r\n              </label>\r\n              <Input\r\n                value={formData.facebook}\r\n                onChange={(e) => handleChange('facebook', e.target.value)}\r\n                placeholder=\"https://facebook.com/marketpage\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-foreground mb-1\">\r\n                Instagram (optional)\r\n              </label>\r\n              <Input\r\n                value={formData.instagram}\r\n                onChange={(e) => handleChange('instagram', e.target.value)}\r\n                placeholder=\"https://instagram.com/marketpage\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-foreground mb-1\">\r\n                Other Link (optional)\r\n              </label>\r\n              <Input\r\n                value={formData.otherLink}\r\n                onChange={(e) => handleChange('otherLink', e.target.value)}\r\n                placeholder=\"Any other relevant link\"\r\n              />\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Vendor Attendance */}\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle>Your Attendance</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-foreground mb-1\">\r\n                Will you be attending this market?\r\n              </label>\r\n              <div className=\"space-y-2\">\r\n                {vendorAttendanceOptions.map((option) => (\r\n                  <label key={option.value} className=\"flex items-center gap-3 cursor-pointer\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"vendorAttendance\"\r\n                      value={option.value}\r\n                      checked={formData.vendorAttendance === option.value}\r\n                      onChange={(e) => handleChange('vendorAttendance', e.target.value)}\r\n                      required\r\n                    />\r\n                    <span className=\"text-sm\">{option.label}</span>\r\n                  </label>\r\n                ))}\r\n              </div>\r\n              <div className=\"mt-2 text-sm text-muted-foreground\">\r\n                You can always change your attendance status later.\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Submit */}\r\n        <div className=\"flex justify-end gap-4\">\r\n          <Link to=\"/markets\">\r\n            <Button type=\"button\" variant=\"outline\">\r\n              Cancel\r\n            </Button>\r\n          </Link>\r\n          <Button type=\"submit\" disabled={isSubmitting}>\r\n            {isSubmitting ? (\r\n              <>\r\n                <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                Creating Market...\r\n              </>\r\n            ) : (\r\n              'Create Market'\r\n            )}\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\router\\ProtectedRoute.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\router\\RoleRoute.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\router\\routes.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\types\\index.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":192,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":192,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4273,4276],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4273,4276],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":193,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":193,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4310,4313],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4310,4313],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":315,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":315,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6653,6656],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6653,6656],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":330,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":330,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6943,6946],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6943,6946],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":337,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":337,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7065,7068],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7065,7068],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":365,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":365,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7640,7643],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7640,7643],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":372,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":372,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7757,7760],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7757,7760],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":554,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":554,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11794,11797],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11794,11797],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":564,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":564,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12073,12076],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12073,12076],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// User and Authentication Types\r\nexport interface User {\r\n  id: string\r\n  email: string\r\n  firstName: string\r\n  lastName: string\r\n  role: UserRole\r\n  avatar?: string\r\n  createdAt: string\r\n  updatedAt: string\r\n  isEmailVerified: boolean\r\n  isActive: boolean\r\n}\r\n\r\nexport type UserRole = 'visitor' | 'vendor' | 'promoter' | 'admin'\r\n\r\nexport interface AuthState {\r\n  user: User | null\r\n  token: string | null\r\n  refreshToken: string | null\r\n  isAuthenticated: boolean\r\n  isLoading: boolean\r\n  error: string | null\r\n  // Password reset\r\n  isPasswordResetLoading: boolean\r\n  passwordResetSuccess: boolean\r\n  passwordResetError: string | null\r\n  // Email verification\r\n  isEmailVerificationLoading: boolean\r\n  emailVerificationSuccess: boolean\r\n  emailVerificationError: string | null\r\n  isEmailVerified: boolean\r\n  // Token refresh\r\n  isTokenRefreshing: boolean\r\n  tokenRefreshError: string | null\r\n}\r\n\r\nexport interface LoginCredentials {\r\n  email: string\r\n  password: string\r\n  rememberMe?: boolean\r\n}\r\n\r\nexport interface RegisterData {\r\n  email: string\r\n  password: string\r\n  firstName: string\r\n  lastName: string\r\n  role: UserRole\r\n}\r\n\r\nexport interface PasswordResetRequest {\r\n  email: string\r\n}\r\n\r\nexport interface PasswordResetConfirm {\r\n  token: string\r\n  newPassword: string\r\n  confirmPassword: string\r\n}\r\n\r\nexport interface EmailVerificationRequest {\r\n  token: string\r\n}\r\n\r\nexport interface ResendVerificationRequest {\r\n  email: string\r\n}\r\n\r\nexport interface TokenRefreshRequest {\r\n  refreshToken: string\r\n}\r\n\r\nexport interface AuthTokens {\r\n  accessToken: string\r\n  refreshToken: string\r\n  expiresIn: string\r\n}\r\n\r\n// Market Types\r\nexport interface Market {\r\n  id: string\r\n  name: string\r\n  description: string\r\n  category: MarketCategory\r\n  promoterId?: string // Optional - only for promoter-managed markets\r\n  promoter?: User // Only exists for promoter-managed markets\r\n  location: Location\r\n  schedule: MarketSchedule[]\r\n  status: MarketStatus\r\n  marketType: MarketType // NEW: user-created or promoter-managed\r\n  applicationStatus?: ApplicationStatus // Only for promoter-managed markets\r\n  images: string[]\r\n  tags: string[]\r\n  accessibility: AccessibilityFeatures\r\n  contact: ContactInfo\r\n  applicationFields: CustomField[]\r\n  createdAt: string\r\n  updatedAt: string\r\n}\r\n\r\nexport type MarketCategory = \r\n  | 'farmers-market'\r\n  | 'arts-crafts'\r\n  | 'flea-market'\r\n  | 'food-festival'\r\n  | 'holiday-market'\r\n  | 'craft-show'\r\n  | 'community-event'\r\n  | 'night-market'\r\n  | 'street-fair'\r\n  | 'vintage-antique'\r\n\r\nexport type MarketStatus = 'draft' | 'active' | 'cancelled' | 'completed'\r\n\r\nexport type MarketType = 'vendor-created' | 'promoter-managed'\r\n\r\n// User Market Tracking relationship\r\nexport interface UserMarketTracking {\r\n  id: string\r\n  userId: string\r\n  marketId: string\r\n  status: 'interested' | 'applied' | 'booked' | 'completed' | 'cancelled'\r\n  notes?: string\r\n  todoCount: number\r\n  todoProgress: number\r\n  totalExpenses: number\r\n  createdAt: string\r\n  updatedAt: string\r\n}\r\n\r\nexport interface Location {\r\n  address: string\r\n  city: string\r\n  state: string\r\n  zipCode: string\r\n  country: string\r\n  latitude?: number\r\n  longitude?: number\r\n}\r\n\r\nexport interface MarketSchedule {\r\n  id: string\r\n  dayOfWeek: number // 0 = Sunday, 1 = Monday, etc.\r\n  startTime: string // HH:mm format\r\n  endTime: string // HH:mm format\r\n  startDate: string\r\n  endDate: string\r\n  isRecurring: boolean\r\n}\r\n\r\nexport interface AccessibilityFeatures {\r\n  wheelchairAccessible: boolean\r\n  parkingAvailable: boolean\r\n  restroomsAvailable: boolean\r\n  familyFriendly: boolean\r\n  petFriendly: boolean\r\n}\r\n\r\nexport interface ContactInfo {\r\n  phone?: string\r\n  email?: string\r\n  website?: string\r\n  socialMedia?: {\r\n    facebook?: string\r\n    instagram?: string\r\n    twitter?: string\r\n  }\r\n}\r\n\r\nexport interface CustomField {\r\n  id: string\r\n  name: string\r\n  type: 'text' | 'textarea' | 'select' | 'checkbox' | 'radio' | 'file'\r\n  required: boolean\r\n  options?: string[]\r\n  validation?: {\r\n    minLength?: number\r\n    maxLength?: number\r\n    pattern?: string\r\n  }\r\n}\r\n\r\n// Application Types\r\nexport interface Application {\r\n  id: string\r\n  marketId: string\r\n  vendorId: string\r\n  vendor: User\r\n  market: Market\r\n  status: ApplicationStatus\r\n  submittedData: Record<string, any>\r\n  customFields: Record<string, any>\r\n  documents: Document[]\r\n  notes?: string\r\n  reviewedBy?: string\r\n  reviewedAt?: string\r\n  createdAt: string\r\n  updatedAt: string\r\n}\r\n\r\nexport type ApplicationStatus = 'draft' | 'submitted' | 'under-review' | 'approved' | 'rejected' | 'withdrawn' | 'open' | 'accepting-applications' | 'closed'\r\n\r\nexport interface Document {\r\n  id: string\r\n  name: string\r\n  type: string\r\n  url: string\r\n  size: number\r\n  uploadedAt: string\r\n}\r\n\r\n// Community Types\r\nexport interface Comment {\r\n  id: string\r\n  marketId: string\r\n  userId: string\r\n  user: User\r\n  content: string\r\n  parentId?: string\r\n  replies: Comment[]\r\n  reactions: CommentReaction[]\r\n  createdAt: string\r\n  updatedAt: string\r\n}\r\n\r\nexport interface CommentReaction {\r\n  id: string\r\n  userId: string\r\n  type: 'like' | 'dislike' | 'love' | 'laugh'\r\n  createdAt: string\r\n}\r\n\r\nexport interface Photo {\r\n  id: string\r\n  marketId: string\r\n  userId: string\r\n  user: User\r\n  url: string\r\n  thumbnailUrl: string\r\n  caption?: string\r\n  tags: string[]\r\n  isApproved: boolean\r\n  takenAt?: string\r\n  createdAt: string\r\n}\r\n\r\nexport interface Hashtag {\r\n  id: string\r\n  name: string\r\n  marketId: string\r\n  userId: string\r\n  user: User\r\n  votes: HashtagVote[]\r\n  createdAt: string\r\n}\r\n\r\nexport interface HashtagVote {\r\n  id: string\r\n  userId: string\r\n  value: number // 1 for upvote, -1 for downvote\r\n  createdAt: string\r\n}\r\n\r\n// Vendor Tracking Types\r\nexport interface Todo {\r\n  id: string\r\n  vendorId: string\r\n  marketId: string\r\n  title: string\r\n  description?: string\r\n  completed: boolean\r\n  priority: TodoPriority\r\n  dueDate?: string\r\n  category: string\r\n  createdAt: string\r\n  updatedAt: string\r\n}\r\n\r\nexport type TodoPriority = 'low' | 'medium' | 'high' | 'urgent'\r\n\r\nexport interface Expense {\r\n  id: string\r\n  vendorId: string\r\n  marketId: string\r\n  title: string\r\n  description?: string\r\n  amount: number\r\n  category: ExpenseCategory\r\n  date: string\r\n  receipt?: string\r\n  createdAt: string\r\n  updatedAt: string\r\n}\r\n\r\nexport type ExpenseCategory = \r\n  | 'booth-fee'\r\n  | 'transportation'\r\n  | 'accommodation'\r\n  | 'supplies'\r\n  | 'equipment'\r\n  | 'marketing'\r\n  | 'food'\r\n  | 'fuel'\r\n  | 'insurance'\r\n  | 'other'\r\n\r\n// Notification Types\r\nexport interface Notification {\r\n  id: string\r\n  userId: string\r\n  type: NotificationType\r\n  title: string\r\n  message: string\r\n  data?: Record<string, any>\r\n  read: boolean\r\n  createdAt: string\r\n}\r\n\r\nexport type NotificationType = \r\n  | 'application-approved'\r\n  | 'application-rejected'\r\n  | 'market-updated'\r\n  | 'new-comment'\r\n  | 'new-photo'\r\n  | 'reminder'\r\n  | 'announcement'\r\n\r\n// API Response Types\r\nexport interface ApiResponse<T = any> {\r\n  success: boolean\r\n  data?: T\r\n  error?: string\r\n  message?: string\r\n}\r\n\r\nexport interface PaginatedResponse<T = any> {\r\n  data: T[]\r\n  pagination: {\r\n    page: number\r\n    limit: number\r\n    total: number\r\n    totalPages: number\r\n  }\r\n}\r\n\r\n// Form Types\r\nexport interface FormField {\r\n  name: string\r\n  label: string\r\n  type: 'text' | 'email' | 'password' | 'textarea' | 'select' | 'checkbox' | 'radio' | 'date'\r\n  required?: boolean\r\n  placeholder?: string\r\n  options?: { value: string; label: string }[]\r\n  validation?: {\r\n    minLength?: number\r\n    maxLength?: number\r\n    pattern?: string\r\n    min?: number\r\n    max?: number\r\n  }\r\n}\r\n\r\nexport interface FormData {\r\n  [key: string]: any\r\n}\r\n\r\n// Error Types\r\nexport interface ApiError {\r\n  code: string\r\n  message: string\r\n  details?: Record<string, any>\r\n}\r\n\r\n// Filter and Search Types\r\nexport interface MarketFilters {\r\n  category?: MarketCategory[]\r\n  location?: {\r\n    city?: string\r\n    state?: string\r\n    radius?: number // in miles\r\n    latitude?: number\r\n    longitude?: number\r\n  }\r\n  dateRange?: {\r\n    start: string\r\n    end: string\r\n  }\r\n  status?: MarketStatus[]\r\n  search?: string\r\n  tags?: string[]\r\n  accessibility?: {\r\n    wheelchairAccessible?: boolean\r\n    parkingAvailable?: boolean\r\n    restroomsAvailable?: boolean\r\n  }\r\n}\r\n\r\nexport interface ApplicationFilters {\r\n  status?: ApplicationStatus[]\r\n  marketId?: string\r\n  vendorId?: string\r\n  dateRange?: {\r\n    start: string\r\n    end: string\r\n  }\r\n  search?: string\r\n}\r\n\r\nexport interface SortOption {\r\n  field: string\r\n  direction: 'asc' | 'desc'\r\n  label: string\r\n}\r\n\r\n// Admin Types\r\nexport interface AdminStats {\r\n  totalUsers: number\r\n  totalMarkets: number\r\n  totalApplications: number\r\n  totalRevenue: number\r\n  activeUsers: number\r\n  pendingApplications: number\r\n  reportedContent: number\r\n  systemHealth: number\r\n  userGrowthRate: number\r\n  applicationSuccessRate: number\r\n  marketplaceActivity: number\r\n  contentModerationQueue: number\r\n}\r\n\r\nexport interface UserWithStats extends User {\r\n  totalApplications: number\r\n  approvedApplications: number\r\n  rejectedApplications: number\r\n  lastActiveAt: string\r\n  isVerified: boolean\r\n  reportedContent: number\r\n}\r\n\r\nexport interface ModerationItem {\r\n  id: string\r\n  type: 'comment' | 'photo' | 'market' | 'user-report' | 'application'\r\n  contentId: string\r\n  reportedBy: string\r\n  reporter: User\r\n  target: {\r\n    id: string\r\n    type: 'comment' | 'photo' | 'market' | 'user' | 'application'\r\n    content: string\r\n    author?: User\r\n  }\r\n  reason: string\r\n  description: string\r\n  status: 'pending' | 'approved' | 'rejected' | 'resolved'\r\n  priority: 'low' | 'medium' | 'high' | 'urgent'\r\n  assignedTo?: string\r\n  createdAt: string\r\n  updatedAt: string\r\n  resolvedAt?: string\r\n  resolvedBy?: string\r\n  resolution?: string\r\n}\r\n\r\nexport interface PromoterVerification {\r\n  id: string\r\n  userId: string\r\n  user: User\r\n  businessName: string\r\n  businessDescription: string\r\n  businessLicense: string\r\n  businessAddress: Location\r\n  taxId: string\r\n  website?: string\r\n  socialMedia?: {\r\n    facebook?: string\r\n    instagram?: string\r\n    twitter?: string\r\n  }\r\n  references: BusinessReference[]\r\n  status: 'pending' | 'under-review' | 'verified' | 'rejected'\r\n  submittedAt: string\r\n  reviewedAt?: string\r\n  reviewedBy?: string\r\n  notes?: string\r\n  documents: Document[]\r\n}\r\n\r\nexport interface BusinessReference {\r\n  name: string\r\n  company: string\r\n  email: string\r\n  phone: string\r\n  relationship: string\r\n  yearsKnown: number\r\n}\r\n\r\nexport interface AdminFilters {\r\n  userFilters?: {\r\n    role?: UserRole[]\r\n    isActive?: boolean\r\n    dateRange?: { start: string; end: string }\r\n    search?: string\r\n    sortBy?: string\r\n    sortDirection?: 'asc' | 'desc'\r\n  }\r\n  moderationFilters?: {\r\n    type?: string[]\r\n    status?: string[]\r\n    priority?: string[]\r\n    assignedTo?: string\r\n    dateRange?: { start: string; end: string }\r\n    search?: string\r\n  }\r\n  applicationFilters?: {\r\n    status?: ApplicationStatus[]\r\n    marketId?: string\r\n    dateRange?: { start: string; end: string }\r\n    search?: string\r\n  }\r\n}\r\n\r\nexport interface SystemSettings {\r\n  id: string\r\n  key: string\r\n  value: string\r\n  type: 'string' | 'number' | 'boolean' | 'json'\r\n  description: string\r\n  category: 'general' | 'moderation' | 'notifications' | 'payments' | 'features'\r\n  isPublic: boolean\r\n  updatedAt: string\r\n  updatedBy: string\r\n}\r\n\r\nexport interface EmailTemplate {\r\n  id: string\r\n  name: string\r\n  subject: string\r\n  content: string\r\n  variables: string[]\r\n  category: 'welcome' | 'application' | 'moderation' | 'notification' | 'marketing'\r\n  isActive: boolean\r\n  createdAt: string\r\n  updatedAt: string\r\n}\r\n\r\nexport interface AuditLog {\r\n  id: string\r\n  userId: string\r\n  user: User\r\n  action: string\r\n  resource: string\r\n  resourceId: string\r\n  details: Record<string, any>\r\n  ipAddress: string\r\n  userAgent: string\r\n  createdAt: string\r\n}\r\n\r\nexport interface BulkOperation {\r\n  id: string\r\n  type: 'user-role' | 'user-suspend' | 'content-approve' | 'content-reject' | 'application-bulk-review'\r\n  targetIds: string[]\r\n  parameters: Record<string, any>\r\n  status: 'pending' | 'processing' | 'completed' | 'failed'\r\n  progress: number\r\n  total: number\r\n  results?: {\r\n    success: string[]\r\n    failed: { id: string; error: string }[]\r\n  }\r\n  createdBy: string\r\n  createdAt: string\r\n  completedAt?: string\r\n}\r\n\r\n// Market Conversion Types\r\nexport interface MarketConversionRequest {\r\n  id: string\r\n  marketId: string\r\n  market: Market\r\n  requesterId: string\r\n  requester: User\r\n  reason: string\r\n  status: 'pending' | 'approved' | 'rejected'\r\n  reviewedBy?: string\r\n  reviewedAt?: string\r\n  notes?: string\r\n  createdAt: string\r\n  updatedAt: string\r\n}\r\n\r\n// Honor System Tracking Types\r\nexport interface VendorAttendance {\r\n  id: string\r\n  userId: string\r\n  marketId: string\r\n  status: 'attending' | 'interested' | 'not-attending' | 'maybe'\r\n  notes?: string\r\n  lastUpdated: string\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\utils\\applicationStatus.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\utils\\cn.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":31,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[774,777],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[774,777],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":31,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[784,787],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[784,787],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":42,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1064,1067],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1064,1067],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":42,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1074,1077],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1074,1077],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { type ClassValue, clsx } from 'clsx'\r\nimport { twMerge } from 'tailwind-merge'\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n\r\nexport function formatDate(date: Date | string): string {\r\n  const d = typeof date === 'string' ? new Date(date) : date\r\n  return d.toLocaleDateString('en-US', {\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric',\r\n  })\r\n}\r\n\r\nexport function formatCurrency(amount: number): string {\r\n  return new Intl.NumberFormat('en-US', {\r\n    style: 'currency',\r\n    currency: 'USD',\r\n  }).format(amount)\r\n}\r\n\r\nexport function slugify(text: string): string {\r\n  return text\r\n    .toLowerCase()\r\n    .replace(/[^\\w ]+/g, '')\r\n    .replace(/ +/g, '-')\r\n}\r\n\r\nexport function debounce<T extends (...args: any[]) => any>(\r\n  func: T,\r\n  wait: number\r\n): (...args: Parameters<T>) => void {\r\n  let timeout: NodeJS.Timeout\r\n  return (...args: Parameters<T>) => {\r\n    clearTimeout(timeout)\r\n    timeout = setTimeout(() => func(...args), wait)\r\n  }\r\n}\r\n\r\nexport function throttle<T extends (...args: any[]) => any>(\r\n  func: T,\r\n  limit: number\r\n): (...args: Parameters<T>) => void {\r\n  let inThrottle: boolean\r\n  return (...args: Parameters<T>) => {\r\n    if (!inThrottle) {\r\n      func(...args)\r\n      inThrottle = true\r\n      setTimeout(() => (inThrottle = false), limit)\r\n    }\r\n  }\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\utils\\cssPerformance.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":58,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":58,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1744,1747],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1744,1747],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":60,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":60,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1838,1841],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1838,1841],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":117,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":117,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3743,3746],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3743,3746],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":118,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":118,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3775,3778],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3775,3778],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * CSS Performance Monitoring Utilities\r\n * Provides tools for monitoring CSS performance and Core Web Vitals\r\n */\r\n\r\ninterface PerformanceMetrics {\r\n  cssBundleSize?: number\r\n  styleRecalculations?: number\r\n  layoutShifts?: LayoutShift[]\r\n  paintTime?: number\r\n  loadTime?: number\r\n  unusedCSS?: number\r\n}\r\n\r\ninterface LayoutShift {\r\n  value: number\r\n  timestamp: number\r\n  element?: string\r\n}\r\n\r\nclass CSSPerformanceMonitor {\r\n  private metrics: PerformanceMetrics = {}\r\n  private layoutShifts: LayoutShift[] = []\r\n  private observer: PerformanceObserver | null = null\r\n  private clsObserver: PerformanceObserver | null = null\r\n\r\n  constructor() {\r\n    this.initializeObservers()\r\n    this.collectBundleMetrics()\r\n  }\r\n\r\n  /**\r\n   * Initialize Performance Observers for CSS metrics\r\n   */\r\n  private initializeObservers() {\r\n    // Monitor Style Recalculations\r\n    try {\r\n      if ('PerformanceObserver' in window) {\r\n        this.observer = new PerformanceObserver((list) => {\r\n          for (const entry of list.getEntries()) {\r\n            if (entry.entryType === 'measure') {\r\n              console.log(`Style recalculation: ${entry.duration}ms`)\r\n              this.metrics.styleRecalculations = (this.metrics.styleRecalculations || 0) + 1\r\n            }\r\n          }\r\n        })\r\n        this.observer.observe({ entryTypes: ['measure'] })\r\n      }\r\n    } catch (error) {\r\n      console.warn('PerformanceObserver not supported:', error)\r\n    }\r\n\r\n    // Monitor Cumulative Layout Shift (CLS)\r\n    try {\r\n      if ('PerformanceObserver' in window) {\r\n        this.clsObserver = new PerformanceObserver((list) => {\r\n          for (const entry of list.getEntries()) {\r\n            if (entry.entryType === 'layout-shift' && !(entry as any).hadRecentInput) {\r\n              const layoutShift = {\r\n                value: (entry as any).value,\r\n                timestamp: entry.startTime,\r\n                element: this.getSelectorFromEntry(entry)\r\n              }\r\n              this.layoutShifts.push(layoutShift)\r\n              console.log(`Layout shift detected: ${layoutShift.value}`, layoutShift)\r\n            }\r\n          }\r\n        })\r\n        this.clsObserver.observe({ entryTypes: ['layout-shift'] })\r\n      }\r\n    } catch (error) {\r\n      console.warn('CLS observer not supported:', error)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Collect CSS bundle size and loading metrics\r\n   */\r\n  private collectBundleMetrics() {\r\n    // Wait for page load to collect metrics\r\n    if (document.readyState === 'loading') {\r\n      window.addEventListener('load', () => this.collectBundleMetrics())\r\n      return\r\n    }\r\n\r\n    // Find CSS resources\r\n    const resources = performance.getEntriesByType('resource') as PerformanceResourceTiming[]\r\n    const cssResources = resources.filter(entry =>\r\n      entry.name.includes('.css') || entry.initiatorType === 'link'\r\n    )\r\n\r\n    for (const resource of cssResources) {\r\n      if (resource.transferSize) {\r\n        this.metrics.cssBundleSize = (this.metrics.cssBundleSize || 0) + resource.transferSize\r\n      }\r\n      if (resource.responseEnd) {\r\n        this.metrics.loadTime = Math.max(this.metrics.loadTime || 0, resource.responseEnd)\r\n      }\r\n    }\r\n\r\n    // Measure paint time (First Contentful Paint)\r\n    const paintEntries = performance.getEntriesByType('paint')\r\n    for (const entry of paintEntries) {\r\n      if (entry.name === 'first-contentful-paint') {\r\n        this.metrics.paintTime = entry.startTime\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get CSS selector from performance entry\r\n   */\r\n  private getSelectorFromEntry(entry: PerformanceEntry): string | undefined {\r\n    try {\r\n      // Try to get the element that shifted\r\n      const elements = document.elementsFromPoint(\r\n        (entry as any).x || 0,\r\n        (entry as any).y || 0\r\n      )\r\n      if (elements.length > 0) {\r\n        const element = elements[0] as HTMLElement\r\n        return element.tagName.toLowerCase() +\r\n               (element.id ? `#${element.id}` : '') +\r\n               (element.className ? `.${element.className.split(' ')[0]}` : '')\r\n      }\r\n    } catch (error) {\r\n      console.warn('Could not get selector from entry:', error)\r\n    }\r\n    return undefined\r\n  }\r\n\r\n  /**\r\n   * Measure style recalculation performance\r\n   */\r\n  measureStyleRecalculation(callback: () => void): number {\r\n    const startTime = performance.now()\r\n    callback()\r\n    const endTime = performance.now()\r\n    const duration = endTime - startTime\r\n\r\n    console.log(`Style recalculation took ${duration}ms`)\r\n    return duration\r\n  }\r\n\r\n  /**\r\n   * Detect unused CSS rules (simplified detection)\r\n   */\r\n  detectUnusedCSS(): Promise<string[]> {\r\n    return new Promise((resolve) => {\r\n      const unusedSelectors: string[] = []\r\n\r\n      // Get all stylesheet rules\r\n      const styleSheets = Array.from(document.styleSheets)\r\n\r\n      for (const sheet of styleSheets) {\r\n        try {\r\n          const rules = Array.from(sheet.cssRules || sheet.rules || [])\r\n\r\n          for (const rule of rules) {\r\n            if (rule instanceof CSSStyleRule) {\r\n              const selector = rule.selectorText\r\n              if (selector && selector !== '*' && !document.querySelector(selector)) {\r\n                unusedSelectors.push(selector)\r\n              }\r\n            }\r\n          }\r\n        } catch (error) {\r\n          // Ignore cross-origin stylesheet errors\r\n          continue\r\n        }\r\n      }\r\n\r\n      resolve(unusedSelectors.slice(0, 100)) // Limit results\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Get current performance metrics\r\n   */\r\n  getMetrics(): PerformanceMetrics {\r\n    return {\r\n      ...this.metrics,\r\n      layoutShifts: this.layoutShifts\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Calculate Cumulative Layout Shift score\r\n   */\r\n  getCLS(): number {\r\n    return this.layoutShifts.reduce((total, shift) => total + shift.value, 0)\r\n  }\r\n\r\n  /**\r\n   * Export metrics for external monitoring\r\n   */\r\n  exportMetrics(): string {\r\n    const metrics = this.getMetrics()\r\n    return JSON.stringify({\r\n      timestamp: new Date().toISOString(),\r\n      url: window.location.href,\r\n      cssBundleSizeKB: metrics.cssBundleSize ? Math.round(metrics.cssBundleSize / 1024) : undefined,\r\n      styleRecalculations: metrics.styleRecalculations,\r\n      layoutShifts: metrics.layoutShifts?.length || 0,\r\n      cls: this.getCLS(),\r\n      paintTime: metrics.paintTime,\r\n      loadTime: metrics.loadTime\r\n    }, null, 2)\r\n  }\r\n\r\n  /**\r\n   * Send metrics to monitoring service (placeholder)\r\n   */\r\n  sendMetrics(endpoint: string): void {\r\n    const metrics = this.exportMetrics()\r\n    if (navigator.sendBeacon) {\r\n      navigator.sendBeacon(endpoint, metrics)\r\n    } else {\r\n      fetch(endpoint, {\r\n        method: 'POST',\r\n        body: metrics,\r\n        headers: { 'Content-Type': 'application/json' }\r\n      }).catch(error => console.warn('Failed to send metrics:', error))\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Cleanup observers\r\n   */\r\n  destroy(): void {\r\n    if (this.observer) {\r\n      this.observer.disconnect()\r\n      this.observer = null\r\n    }\r\n    if (this.clsObserver) {\r\n      this.clsObserver.disconnect()\r\n      this.clsObserver = null\r\n    }\r\n  }\r\n}\r\n\r\n// Singleton instance\r\nlet monitor: CSSPerformanceMonitor | null = null\r\n\r\n/**\r\n * Initialize CSS performance monitoring\r\n */\r\nexport function initCSSPerformanceMonitoring(): CSSPerformanceMonitor {\r\n  if (!monitor) {\r\n    monitor = new CSSPerformanceMonitor()\r\n  }\r\n  return monitor\r\n}\r\n\r\n/**\r\n * Get current performance monitor instance\r\n */\r\nexport function getCSSPerformanceMonitor(): CSSPerformanceMonitor | null {\r\n  return monitor\r\n}\r\n\r\n/**\r\n * Utility function to measure CSS impact of DOM changes\r\n */\r\nexport function measureCSSImpact(callback: () => void): void {\r\n  if (!monitor) return\r\n\r\n  const initialMetrics = monitor.getMetrics()\r\n\r\n  const startTime = performance.now()\r\n  callback()\r\n  const endTime = performance.now()\r\n\r\n  // Force style recalculation measurement\r\n  setTimeout(() => {\r\n    const finalMetrics = monitor!.getMetrics()\r\n    console.log('CSS Impact Measurement:', {\r\n      duration: endTime - startTime,\r\n      newRecalculations: (finalMetrics.styleRecalculations || 0) - (initialMetrics.styleRecalculations || 0),\r\n      newLayoutShifts: (finalMetrics.layoutShifts?.length || 0) - (initialMetrics.layoutShifts?.length || 0)\r\n    })\r\n  }, 0)\r\n}\r\n\r\n/**\r\n * Hook for React components to monitor CSS performance\r\n */\r\nexport function useCSSPerformance() {\r\n  const monitor = initCSSPerformanceMonitoring()\r\n\r\n  return {\r\n    measureImpact: measureCSSImpact,\r\n    getMetrics: () => monitor.getMetrics(),\r\n    getCLS: () => monitor.getCLS(),\r\n    exportMetrics: () => monitor.exportMetrics()\r\n  }\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\utils\\formatCurrency.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\utils\\formatDate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\utils\\validation.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[547,550],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[547,550],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Validation utilities for forms and input data\r\n */\r\n\r\n/**\r\n * Validates an email address\r\n * @param email - The email string to validate\r\n * @returns boolean indicating if email is valid\r\n */\r\nexport const validateEmail = (email: string): boolean => {\r\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  return emailRegex.test(email);\r\n};\r\n\r\n/**\r\n * Validates that a value is not empty or whitespace\r\n * @param value - The value to check\r\n * @returns boolean indicating if value is present\r\n */\r\nexport const validateRequired = (value: any): boolean => {\r\n  if (value === null || value === undefined) {\r\n    return false;\r\n  }\r\n  if (typeof value === 'string') {\r\n    return value.trim().length > 0;\r\n  }\r\n  return true;\r\n};\r\n\r\n/**\r\n * Validates a phone number (basic US phone format)\r\n * @param phone - The phone string to validate\r\n * @returns boolean indicating if phone is valid\r\n */\r\nexport const validatePhone = (phone: string): boolean => {\r\n  const phoneRegex = /^\\+?[\\d\\s\\-()]+$/;\r\n  return phoneRegex.test(phone) && phone.replace(/\\D/g, '').length >= 7;\r\n};\r\n\r\n/**\r\n * Validates that a string is within length bounds\r\n * @param value - The string to validate\r\n * @param minLength - Minimum length (default: 0)\r\n * @param maxLength - Maximum length (default: Infinity)\r\n * @returns boolean indicating if string meets length requirements\r\n */\r\nexport const validateLength = (\r\n  value: string,\r\n  minLength: number = 0,\r\n  maxLength: number = Infinity\r\n): boolean => {\r\n  return value.length >= minLength && value.length <= maxLength;\r\n};\r\n\r\n/**\r\n * Validates a URL\r\n * @param url - The URL string to validate\r\n * @returns boolean indicating if URL is valid\r\n */\r\nexport const validateUrl = (url: string): boolean => {\r\n  try {\r\n    new URL(url);\r\n    return true;\r\n  } catch {\r\n    return false;\r\n  }\r\n};","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\src\\vite-env.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\uno.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"c:\\Users\\James\\Documents\\rumfor versions\\rumfor-vpopcan\\rumfor-market-tracker\\vite.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]}]