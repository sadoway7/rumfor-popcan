@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Brand Colors - Light Grey System for Better Contrast */
    --background: 220 8% 96%;           /* Very light grey background */
    --foreground: 220 15% 15%;          /* Dark text for high contrast */
    --surface: 0 0% 100%;               /* Pure white surfaces */
    --surface-2: 220 8% 94%;            /* Light grey for cards */
    --surface-3: 220 8% 90%;            /* Slightly darker light grey */
    
    /* Unique & Sophisticated Color Palette */
    --accent: 160 35% 28%;              /* Deep sage green - organic & unique */
    --accent-foreground: 0 0% 100%;
    --accent-light: 160 35% 38%;        /* Lighter sage for hovers */
    --accent-glow: 160 35% 28% / 0.12;  /* Subtle glow effect */
    
    /* Secondary & Tertiary Accents - Warm & Natural */
    --accent-secondary: 35 75% 52%;     /* Warm amber - earthy & distinctive */
    --accent-tertiary: 18 45% 38%;      /* Soft terracotta - organic warmth */
    
    /* Text Hierarchy - High contrast for light theme */
    --muted: 220 8% 45%;               /* Darker muted text for better readability */
    --muted-foreground: 220 8% 35%;    /* Even darker for better hierarchy */
    
    /* Status Colors - Muted, not fluorescent */
    --success: 142 76% 36%;            /* Muted green */
    --success-foreground: 0 0% 100%;
    --warning: 38 92% 50%;             /* Muted amber */
    --warning-foreground: 0 0% 100%;
    --destructive: 0 84% 60%;          /* Muted red */
    --destructive-foreground: 0 0% 100%;
    
    /* No Borders - Pure Color Design */
    --ring: 268 85% 58%;               /* Purple focus ring */
    
    /* Glow and Shadow Effects */
    --shadow-glow: 268 85% 58% / 0.1;
    --shadow-soft: 0 4px 20px -2px rgba(0, 0, 0, 0.3);
    
    /* Border Radius */
    --radius: 0.25rem;                 /* Gently rounded corners */
  }
  
  /* Dark mode variables */
  .dark {
    --background: 220 10% 8%;           /* Rich dark gray - not pure black */
    --foreground: 220 15% 95%;          /* Warm off-white */
    --surface: 220 10% 12%;             /* Layered surfaces for depth */
    --surface-2: 220 10% 16%;           /* Subtle secondary surfaces */
    --surface-3: 220 10% 20%;           /* Tertiary surfaces */
    
    --muted: 220 8% 65%;               /* Improved contrast */
    --muted-foreground: 220 8% 80%;    /* Better hierarchy */
  }
  
  /* Removed global border rule - using organic design */
  
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    /* Rich background texture with depth */
    background-image: 
      radial-gradient(circle at 20% 80%, hsl(var(--accent) / 0.03) 0%, transparent 50%),
      radial-gradient(circle at 80% 20%, hsl(var(--accent-secondary) / 0.02) 0%, transparent 50%),
      radial-gradient(circle at 40% 40%, hsl(var(--surface) / 0.05) 0%, transparent 50%);
  }
  
  html {
    scroll-behavior: smooth;
  }
}

@layer components {
  .text-balance {
    text-wrap: balance;
  }
}

@layer utilities {
  /* Enhanced utilities for the modern dark theme - No borders */
  .bg-background {
    background-color: hsl(var(--background));
  }
  
  .text-foreground {
    color: hsl(var(--foreground));
  }
  
  .bg-surface {
    background-color: hsl(var(--surface));
  }
  
  .bg-surface-2 {
    background-color: hsl(var(--surface-2));
  }
  
  .bg-surface-3 {
    background-color: hsl(var(--surface-3));
  }
  
  /* No border utilities needed */
  
  .text-muted {
    color: hsl(var(--muted));
  }
  
  .text-muted-foreground {
    color: hsl(var(--muted-foreground));
  }
  
  .bg-accent {
    background-color: hsl(var(--accent));
  }
  
  .bg-accent-light {
    background-color: hsl(var(--accent-light));
  }
  
  .text-accent-foreground {
    color: hsl(var(--accent-foreground));
  }
  
  .ring-accent {
    --tw-ring-color: hsl(var(--accent));
  }
  
  /* Modern glow effects */
  .glow-accent {
    box-shadow: 0 0 20px hsl(var(--shadow-glow));
  }
  
  .glow-accent-sm {
    box-shadow: 0 0 10px hsl(var(--shadow-glow));
  }
  
  /* Organic shapes */
  .blob {
    border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
  }
  
  .blob-2 {
    border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
  }
  
  /* Smooth animations - respecting user's motion preferences */
  @media (prefers-reduced-motion: no-preference) {
    .animate-float {
      animation: float 6s ease-in-out infinite;
    }

    .animate-glow {
      animation: glow 2s ease-in-out infinite alternate;
    }

    .animate-fade-in {
      animation: fadeIn 0.2s ease-out;
    }

    .animate-slide-up {
      animation: slideUp 0.3s ease-out;
    }

    .animate-scale-in {
      animation: scaleIn 0.2s ease-out;
    }

    /* Smooth transitions for interactive elements */
    .transition-smooth {
      transition: all 0.2s ease-out;
    }

    .transition-colors {
      transition: color 0.15s ease-out, background-color 0.15s ease-out, border-color 0.15s ease-out;
    }

    .transition-transform {
      transition: transform 0.2s ease-out;
    }
  }

  /* Page transitions */
  .page-enter {
    opacity: 0;
    transform: translateY(8px);
  }

  .page-enter-active {
    opacity: 1;
    transform: translateY(0);
    transition: opacity 0.3s ease-out, transform 0.3s ease-out;
  }

  .page-exit {
    opacity: 1;
    transform: translateY(0);
  }

  .page-exit-active {
    opacity: 0;
    transform: translateY(-8px);
    transition: opacity 0.2s ease-in, transform 0.2s ease-in;
  }

  /* Reduced motion - minimal or disabled animations */
  @media (prefers-reduced-motion: reduce) {
    .animate-float,
    .animate-glow,
    .animate-fade-in,
    .animate-slide-up,
    .animate-scale-in {
      animation: none;
    }

    .page-enter,
    .page-enter-active,
    .page-exit,
    .page-exit-active {
      animation: none;
      transition: none;
    }

    *, *::before, *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* Print Styles - Optimized for Market Vendors */
  @media print {
    /* Reset background and colors for print */
    * {
      -webkit-print-color-adjust: exact !important;
      print-color-adjust: exact !important;
      color-adjust: exact !important;
    }

    /* Hide interactive elements */
    button,
    nav,
    aside,
    .mobile-menu,
    .search-bar,
    .filter-buttons,
    .tabs,
    .modal,
    .dropdown,
    .tooltip,
    [role="button"],
    [onclick] {
      display: none !important;
    }

    /* Show all content in collapsed sections */
    details {
      display: block !important;
    }

    details > summary {
      display: none !important;
    }

    /* Optimize layout for print */
    body {
      background: white !important;
      color: black !important;
      font-size: 12pt !important;
      line-height: 1.4 !important;
      margin: 0 !important;
      padding: 0 !important;
    }

    /* Vendor Market Detail Page specific print optimizations */
    .vendor-market-detail {
      max-width: none !important;
      width: 100% !important;
      padding: 0 !important;
      margin: 0 !important;
    }

    /* Print-friendly headers */
    h1, h2, h3, h4, h5, h6 {
      color: black !important;
      background: transparent !important;
      page-break-after: avoid;
      orphans: 3;
      widows: 3;
    }

    /* Cards and sections */
    .card,
    .planning-card,
    .bg-surface,
    .bg-surface-2 {
      background: white !important;
      border: 1px solid #e5e7eb !important;
      border-radius: 4px !important;
      box-shadow: none !important;
      page-break-inside: avoid;
      break-inside: avoid;
    }

    /* Tables and lists */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 1rem;
    }

    th, td {
      border: 1px solid #e5e7eb;
      padding: 0.5rem;
      text-align: left;
    }

    th {
      background-color: #f9fafb !important;
      font-weight: bold;
    }

    /* Expenses and todos - print as lists */
    .expense-item,
    .todo-item {
      page-break-inside: avoid;
      break-inside: avoid;
      border-bottom: 1px solid #e5e7eb;
      padding: 0.5rem 0;
      margin-bottom: 0.25rem;
    }

    /* Charts - hide in print as they don't render well */
    .expense-chart,
    .chart-container,
    .recharts-wrapper {
      display: none !important;
    }

    /* Icons - hide or replace with text */
    .lucide,
    [class*="icon"] {
      display: none !important;
    }

    /* Status badges */
    .badge,
    .status-badge {
      background: transparent !important;
      border: 1px solid #e5e7eb !important;
      color: black !important;
      padding: 0.125rem 0.375rem !important;
      font-size: 10pt !important;
      border-radius: 2px !important;
    }

    /* Form inputs - hide */
    input,
    select,
    textarea,
    .input,
    .select,
    .textarea {
      display: none !important;
    }

    /* Ensure sufficient contrast for print */
    .text-muted,
    .text-muted-foreground,
    .text-gray-600 {
      color: #6b7280 !important;
    }

    .text-foreground,
    .text-black {
      color: black !important;
    }

    /* Page breaks */
    .page-break-before {
      page-break-before: always;
    }

    .page-break-after {
      page-break-after: always;
    }

    .no-page-break {
      page-break-inside: avoid;
      break-inside: avoid;
    }

    /* Hide navigation and UI elements specific to web */
    .breadcrumb,
    .header-actions,
    .sidebar,
    .bottom-nav,
    .floating-actions {
      display: none !important;
    }

    /* Market contact info - ensure visible */
    .market-contact,
    .contact-info {
      background: #f9fafb !important;
      border: 1px solid #e5e7eb !important;
      padding: 1rem !important;
      margin: 1rem 0 !important;
    }

    /* Stats cards - optimize for print */
    .stats-grid,
    .stats-cards {
      display: flex !important;
      flex-wrap: wrap !important;
      gap: 1rem !important;
      margin-bottom: 1rem !important;
    }

    .stat-card {
      flex: 1 1 calc(50% - 1rem) !important;
      min-width: 200px !important;
      background: white !important;
      border: 1px solid #e5e7eb !important;
      padding: 1rem !important;
      margin: 0 !important;
    }

    /* Progress indicators - show as text */
    .progress-bar,
    .progress-indicator {
      background: #e5e7eb !important;
      border: 1px solid #000 !important;
    }

    /* Images - optimize for print */
    img {
      max-width: 100% !important;
      height: auto !important;
    }

    /* Ensure readable font sizes */
    body {
      font-size: 12pt !important;
    }

    h1 { font-size: 18pt !important; }
    h2 { font-size: 16pt !important; }
    h3 { font-size: 14pt !important; }
    p, li { font-size: 11pt !important; }
  }
  
  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }
  
  @keyframes glow {
    from { box-shadow: 0 0 10px hsl(var(--shadow-glow)); }
    to { box-shadow: 0 0 20px hsl(var(--shadow-glow)); }
  }
}